import{S as t,i as l,s as e,e as s,t as n,a,c,b as i,d as r,f as o,g as u,h as d,j as h,k as f,l as v,n as m,m as p,o as g,p as E,D as x,q as w,r as b,w as y,u as $,v as T,x as I,y as A,z as N,A as O,H as k,B as L,C as S,E as B,F as z,G as U,I as _,J as M,K as C,L as P,M as V,N as D,O as R,P as F,Q as G,R as q,T as j,U as H,V as Y,W,X,Y as K,Z as Q,_ as J,$ as Z,a0 as tt,a1 as lt,a2 as et,a3 as st,a4 as nt,a5 as at,a6 as ct,a7 as it,a8 as rt,a9 as ot,aa as ut,ab as dt,ac as ht,ad as ft,ae as vt,af as mt,ag as pt,ah as gt,ai as Et,aj as xt,ak as wt,al as bt,am as yt,an as $t,ao as Tt}from"./vendor.27f550c0.js";var It=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),At="/assets/tippy.ac9e6991.png";function Nt(t){let l,e;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(l,"class","hidden"),l.src!==(e=At)&&d(l,"src","/assets/tippy.ac9e6991.png"),d(l,"alt","tippy-hidden")},m(t,e){h(t,l,e)},p:m,i:m,o:m,d(t){t&&o(l)}}}function Ot(t){let l,e,n;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(l,"class","self-center w-40 h-32"),l.src!==(e=At)&&d(l,"src","/assets/tippy.ac9e6991.png"),d(l,"alt","tippy")},m(t,e){h(t,l,e)},p:m,i(e){n||w((()=>{n=b(l,t[1],{}),n.start()}))},o:m,d(t){t&&o(l)}}}function kt(t){let l,e,p,g,E,x,w,b,y,$,T,I,A,N;function O(t,l){return t[0]?Ot:Nt}let k=O(t),L=k(t);return{c(){l=s("nav"),e=s("p"),p=n("chino"),g=a(),E=s("a"),x=s("i"),w=a(),b=s("div"),y=a(),L.c(),$=a(),T=s("div"),I=a(),A=s("p"),N=n("Brewing the coffee.."),this.h()},l(t){l=c(t,"NAV",{class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);p=r(n,"chino"),n.forEach(o),g=u(s),E=c(s,"A",{href:!0});var a=i(E);x=c(a,"I",{class:!0}),i(x).forEach(o),a.forEach(o),s.forEach(o),w=u(t),b=c(t,"DIV",{class:!0}),i(b).forEach(o),y=u(t),L.l(t),$=u(t),T=c(t,"DIV",{class:!0}),i(T).forEach(o),I=u(t),A=c(t,"P",{class:!0});var d=i(A);N=r(d,"Brewing the coffee.."),d.forEach(o),this.h()},h(){d(e,"class","flex-1 text-5xl font-light"),d(x,"class","ri-github-fill text-5xl"),d(E,"href","https://github.com/the-rabbit-house/chino"),d(l,"class","px-6 pt-2 h-20 flex flex-row items-center"),d(b,"class","flex-1"),d(T,"class","flex-1"),d(A,"class","pb-6 text-2xl font-light text-center")},m(t,s){h(t,l,s),f(l,e),f(e,p),f(l,g),f(l,E),f(E,x),h(t,w,s),h(t,b,s),h(t,y,s),L.m(t,s),h(t,$,s),h(t,T,s),h(t,I,s),h(t,A,s),f(A,N)},p(t,[l]){k===(k=O(t))&&L?L.p(t,l):(L.d(1),L=k(t),L&&(L.c(),v(L,1),L.m($.parentNode,$)))},i(t){v(L)},o:m,d(t){t&&o(l),t&&o(w),t&&o(b),t&&o(y),L.d(t),t&&o($),t&&o(T),t&&o(I),t&&o(A)}}}function Lt(t,l,e){const{navigate:s}=p("navigator");p("events");var n=!1;return g((async()=>{e(0,n=!0);const t=await x.getInfo();if("android"===(null==t?void 0:t.operatingSystem)){document.querySelector("meta[name=viewport]").setAttribute("content",`width=device-width, height=${window.innerHeight}, initial-scale=1.0, user-scalable=0`)}setTimeout((()=>s("Gallery")),1500)})),[n,function(t,l){return{delay:0,duration:1500,easing:E,css:(t,l)=>`transform: rotate(${360*t}deg);`}}]}const St={backend:"danbooru",limit:20,throttle:1,galleryCols:3,galleryImageSize:"BASE",swipeDistance:.2,nsfw:!1},Bt=$("settings",St),zt={tags:y([]),images:y([])},Ut=y([]),_t=y(null),Mt=y([]),Ct=function(t){return T(Bt,(l=>I(St[t],null==l?void 0:l[t])))},Pt=function(t,l){A(Bt)[t]=l,Bt.set(A(Bt))};function Vt(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}const Dt=N([O("zip"),O("webm"),O("mp4")]);function Rt(t){const l=[];for(const e of t){if(!(null==e?void 0:e.file_url))continue;const t=null==e?void 0:e.file_ext,s={id:null==e?void 0:e.md5,file_name:(null==e?void 0:e.md5)+"."+(null==e?void 0:e.file_ext)||"",source:null==e?void 0:e.source,artist:null==e?void 0:e.tag_string_artist,thumbnail_url:null==e?void 0:e.preview_file_url,file_url:Dt(t)?null==e?void 0:e.large_file_url:null==e?void 0:e.file_url,width:null==e?void 0:e.image_width,height:null==e?void 0:e.image_height,tags:null==e?void 0:e.tag_string.split(" "),data:e,video:Dt(t)};l.push(s)}return l}function Ft(t){const l=[];for(const e of t){if(!(null==e?void 0:e.file_url))continue;const t={id:null==e?void 0:e.hash,file_name:null==e?void 0:e.image,source:null==e?void 0:e.source,artist:null==e?void 0:e.owner,thumbnail_url:`https://img3.gelbooru.com/thumbnails/${null==e?void 0:e.directory}/thumbnail_${null==e?void 0:e.hash}.jpg`,file_url:null==e?void 0:e.file_url,width:null==e?void 0:e.width,height:null==e?void 0:e.height,tags:null==e?void 0:e.tags.split(" "),data:e};l.push(t)}return l}var Gt={danbooru:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",NAME:"danbooru",PLATFORMS:["web","native"],fetchImages:async function(t,{page:l,limit:e}){try{return[!0,Rt((await k.request({method:"GET",url:"https://danbooru.donmai.us/posts.json?tags="+t.join("+")+"&page="+(l+1)+"&limit="+e})).data)]}catch(s){return[!1,[]]}}}),gelbooru:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",NAME:"gelbooru",PLATFORMS:["native"],fetchImages:async function(t,{page:l,limit:e}){try{return[!0,Ft((await k.request({method:"GET",url:"https://gelbooru.com/index.php?page=dapi&s=post&q=index&json=1&tags="+t.join("+")+"&pid="+l+"&limit="+e})).data)]}catch(s){return[!1,[]]}}})};const qt=y(!1),jt=y(0),Ht=y(!1),Yt=Ct("limit"),Wt=Ct("backend");function Xt(t){let l=A(Mt);l=L(O(t),A(Mt))?B([t],l):S(t,l),Mt.set(l)}const Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",Qt=y({});function Jt(t){const l=A(Qt);return(null==l?void 0:l["thumbnail_"+(null==t?void 0:t.id)])?l["thumbnail_"+(null==t?void 0:t.id)]:Kt}function Zt(t){const l=A(Qt);return(null==l?void 0:l[null==t?void 0:t.id])?l[null==t?void 0:t.id]:(null==l?void 0:l["thumbnail_"+(null==t?void 0:t.id)])?l["thumbnail_"+(null==t?void 0:t.id)]:Kt}const tl={image:null},ll=y([]),el=y([]);function sl(t){ll.set(B([t],A(ll))),el.set(B([t],A(el)))}const nl=T([ll,el],(([t,l])=>[...t,...l])),al=y([]);function cl(){var t,l;const e=I(1,null==(t=A(Bt))?void 0:t.throttle);if(A(al).length>=e)return;if(A(nl).length<1)return;const[s,...n]=A(nl),[a,c,i=!1]=s;if(void 0!==L(O([a,i]),A(al)))return void sl(s);const r=i?"thumbnail_url":"file_url",o=i?"thumbnail_":"";if(!(null==(l=A(Qt))?void 0:l[o+(null==a?void 0:a.id)])){const t=[a,i];al.set(S(t,A(al))),async function(t,l,e){const s=await k.downloadFile({url:null==t?void 0:t[l],filePath:e+(null==t?void 0:t.file_name),fileDirectory:"CACHE",method:"GET"});let n=null;if(null==s?void 0:s.blob){const t=s.blob;n=URL.createObjectURL(t)}if(null==s?void 0:s.path){const t=await z.getUri({path:s.path});n=U.convertFileSrc(t.uri)}return n?(A(Qt)[e+(null==t?void 0:t.id)]=n,Qt.set(A(Qt)),n):null}(a,r,o).then((l=>{(i||tl.image===a||(null==a?void 0:a.video))&&document.body.contains(c)&&(c.src=Zt(a)),al.set(B([t],A(al)))}))}sl(s)}function il(t,[l,e=!1]){return e&&(tl.image=l),(null==l?void 0:l.video)||(t.src=Zt(l)),ll.set([...A(ll),[l,t,!0]]),e&&el.set([[l,t,!1],...A(el)]),{update([l,e=!1]){e&&(tl.image=l),(null==l?void 0:l.video)||(t.src=Zt(l)),ll.set([...A(ll),[l,t,!0]]),e&&el.set([[l,t,!1],...A(el)])}}}nl.subscribe(cl),al.subscribe(cl);function rl(t){let l,e,v,m,p,g,E,x,y,$,T,I,A,N,O,k,L,S,B,z,U,G,q,j,H,Y,W,X,K,Q,J,Z,tt,lt,et,st,nt,at,ct,it,rt,ot,ut,dt,ht,ft,vt,mt,pt,gt,Et,xt,wt,bt,yt,$t,Tt,It,At,Nt,Ot,kt,Lt,St,Bt,zt,Ut,_t,Mt,Ct,Pt,Vt,Dt,Rt,Ft,Gt,qt,jt,Ht,Yt,Wt,Xt,Kt,Qt,Jt,Zt,tl,ll,el,sl,nl,al,cl,il,rl,hl,fl,vl,ml,pl,gl,El,xl,wl,bl,yl,$l,Tl,Il,Al=t[5]?"SM":"SMALL",Nl=t[5]?"LG":"LARGE";return{c(){l=s("article"),e=s("section"),v=s("p"),m=n("Images "),p=s("br"),g=n("per page"),E=a(),x=s("button"),y=n("-"),$=a(),T=s("button"),I=n(t[0]),A=a(),N=s("button"),O=n("+"),k=a(),L=s("section"),S=s("p"),B=n("Load "),z=s("br"),U=n("limit"),G=a(),q=s("button"),j=n("-"),H=a(),Y=s("button"),W=n(t[1]),X=a(),K=s("button"),Q=n("+"),J=a(),Z=s("section"),tt=s("sup"),lt=n("MOBILE ONLY"),et=a(),st=s("p"),nt=n("Grid"),at=s("br"),ct=n(" columns"),it=a(),rt=s("button"),ot=n("-"),ut=a(),dt=s("button"),ht=n(t[2]),ft=a(),vt=s("button"),mt=n("+"),pt=a(),gt=s("section"),Et=s("sup"),xt=n("MOBILE ONLY"),wt=a(),bt=s("p"),yt=n("Swipe "),$t=s("br"),Tt=n("distance"),It=a(),At=s("button"),Nt=n("16.1%"),kt=a(),Lt=s("button"),St=n("20%"),zt=a(),Ut=s("button"),_t=n("25%"),Ct=a(),Pt=s("section"),Vt=s("sup"),Dt=n("TABLET+ ONLY"),Rt=a(),Ft=s("p"),Gt=n("Image "),qt=s("br"),jt=n(" size"),Ht=a(),Yt=s("button"),Wt=n(Al),Kt=a(),Qt=s("button"),Jt=n("BASE"),tl=a(),ll=s("button"),el=n(Nl),nl=a(),al=s("section"),cl=s("p"),il=n("NSFW"),rl=s("br"),hl=n(" mode"),fl=a(),vl=s("button"),ml=n("OFF"),gl=a(),El=s("button"),xl=n("ON"),this.h()},l(s){l=c(s,"ARTICLE",{class:!0});var n=i(l);e=c(n,"SECTION",{class:!0});var a=i(e);v=c(a,"P",{class:!0});var d=i(v);m=r(d,"Images "),p=c(d,"BR",{}),g=r(d,"per page"),d.forEach(o),E=u(a),x=c(a,"BUTTON",{class:!0});var h=i(x);y=r(h,"-"),h.forEach(o),$=u(a),T=c(a,"BUTTON",{class:!0,disabled:!0});var f=i(T);I=r(f,t[0]),f.forEach(o),A=u(a),N=c(a,"BUTTON",{class:!0});var w=i(N);O=r(w,"+"),w.forEach(o),a.forEach(o),k=u(n),L=c(n,"SECTION",{class:!0});var b=i(L);S=c(b,"P",{class:!0});var _=i(S);B=r(_,"Load "),z=c(_,"BR",{}),U=r(_,"limit"),_.forEach(o),G=u(b),q=c(b,"BUTTON",{class:!0});var M=i(q);j=r(M,"-"),M.forEach(o),H=u(b),Y=c(b,"BUTTON",{class:!0,disabled:!0});var C=i(Y);W=r(C,t[1]),C.forEach(o),X=u(b),K=c(b,"BUTTON",{class:!0});var P=i(K);Q=r(P,"+"),P.forEach(o),b.forEach(o),J=u(n),Z=c(n,"SECTION",{class:!0});var V=i(Z);tt=c(V,"SUP",{class:!0});var D=i(tt);lt=r(D,"MOBILE ONLY"),D.forEach(o),et=u(V),st=c(V,"P",{class:!0});var R=i(st);nt=r(R,"Grid"),at=c(R,"BR",{}),ct=r(R," columns"),R.forEach(o),it=u(V),rt=c(V,"BUTTON",{class:!0});var F=i(rt);ot=r(F,"-"),F.forEach(o),ut=u(V),dt=c(V,"BUTTON",{class:!0,disabled:!0});var Ot=i(dt);ht=r(Ot,t[2]),Ot.forEach(o),ft=u(V),vt=c(V,"BUTTON",{class:!0});var Bt=i(vt);mt=r(Bt,"+"),Bt.forEach(o),V.forEach(o),pt=u(n),gt=c(n,"SECTION",{class:!0});var Mt=i(gt);Et=c(Mt,"SUP",{class:!0});var Xt=i(Et);xt=r(Xt,"MOBILE ONLY"),Xt.forEach(o),wt=u(Mt),bt=c(Mt,"P",{class:!0});var Zt=i(bt);yt=r(Zt,"Swipe "),$t=c(Zt,"BR",{}),Tt=r(Zt,"distance"),Zt.forEach(o),It=u(Mt),At=c(Mt,"BUTTON",{class:!0});var sl=i(At);Nt=r(sl,"16.1%"),sl.forEach(o),kt=u(Mt),Lt=c(Mt,"BUTTON",{class:!0});var ol=i(Lt);St=r(ol,"20%"),ol.forEach(o),zt=u(Mt),Ut=c(Mt,"BUTTON",{class:!0});var ul=i(Ut);_t=r(ul,"25%"),ul.forEach(o),Mt.forEach(o),Ct=u(n),Pt=c(n,"SECTION",{class:!0});var dl=i(Pt);Vt=c(dl,"SUP",{class:!0});var pl=i(Vt);Dt=r(pl,"TABLET+ ONLY"),pl.forEach(o),Rt=u(dl),Ft=c(dl,"P",{class:!0});var wl=i(Ft);Gt=r(wl,"Image "),qt=c(wl,"BR",{}),jt=r(wl," size"),wl.forEach(o),Ht=u(dl),Yt=c(dl,"BUTTON",{class:!0});var bl=i(Yt);Wt=r(bl,Al),bl.forEach(o),Kt=u(dl),Qt=c(dl,"BUTTON",{class:!0});var yl=i(Qt);Jt=r(yl,"BASE"),yl.forEach(o),tl=u(dl),ll=c(dl,"BUTTON",{class:!0});var $l=i(ll);el=r($l,Nl),$l.forEach(o),dl.forEach(o),nl=u(n),al=c(n,"SECTION",{class:!0});var Tl=i(al);cl=c(Tl,"P",{class:!0});var Il=i(cl);il=r(Il,"NSFW"),rl=c(Il,"BR",{}),hl=r(Il," mode"),Il.forEach(o),fl=u(Tl),vl=c(Tl,"BUTTON",{style:!0,class:!0});var Ol=i(vl);ml=r(Ol,"OFF"),Ol.forEach(o),gl=u(Tl),El=c(Tl,"BUTTON",{class:!0,style:!0});var kl=i(El);xl=r(kl,"ON"),kl.forEach(o),Tl.forEach(o),n.forEach(o),this.h()},h(){d(v,"class","flex-1"),d(x,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),d(T,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),T.disabled=!0,d(N,"class","w-14 md:w-16 svelte-ddyzwm"),d(e,"class","px-2 py-4 svelte-ddyzwm"),d(S,"class","flex-1"),d(q,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),d(Y,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),Y.disabled=!0,d(K,"class","w-14 md:w-16 svelte-ddyzwm"),d(L,"class","px-2 py-4 svelte-ddyzwm"),d(tt,"class","svelte-ddyzwm"),d(st,"class","flex-1"),d(rt,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),d(dt,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),dt.disabled=!0,d(vt,"class","w-14 md:w-16 svelte-ddyzwm"),d(Z,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),d(Et,"class","svelte-ddyzwm"),d(bt,"class","flex-1 text-wrap"),d(At,"class","mr-1 svelte-ddyzwm"),d(Lt,"class","mr-1 svelte-ddyzwm"),d(Ut,"class","svelte-ddyzwm"),d(gt,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),d(Vt,"class","svelte-ddyzwm"),d(Ft,"class","flex-1 text-wrap"),d(Yt,"class","mr-1 svelte-ddyzwm"),d(Qt,"class","mr-1 svelte-ddyzwm"),d(ll,"class","svelte-ddyzwm"),d(Pt,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),d(cl,"class","flex-1"),_(vl,"flex-basis","6rem"),d(vl,"class","svelte-ddyzwm"),d(El,"class","ml-1 svelte-ddyzwm"),_(El,"flex-basis","6rem"),d(al,"class","px-2 py-4 svelte-ddyzwm"),d(l,"class","flex flex-col items-stretch overflow-y-auto svelte-ddyzwm")},m(s,n){h(s,l,n),f(l,e),f(e,v),f(v,m),f(v,p),f(v,g),f(e,E),f(e,x),f(x,y),f(e,$),f(e,T),f(T,I),f(e,A),f(e,N),f(N,O),f(l,k),f(l,L),f(L,S),f(S,B),f(S,z),f(S,U),f(L,G),f(L,q),f(q,j),f(L,H),f(L,Y),f(Y,W),f(L,X),f(L,K),f(K,Q),f(l,J),f(l,Z),f(Z,tt),f(tt,lt),f(Z,et),f(Z,st),f(st,nt),f(st,at),f(st,ct),f(Z,it),f(Z,rt),f(rt,ot),f(Z,ut),f(Z,dt),f(dt,ht),f(Z,ft),f(Z,vt),f(vt,mt),f(l,pt),f(l,gt),f(gt,Et),f(Et,xt),f(gt,wt),f(gt,bt),f(bt,yt),f(bt,$t),f(bt,Tt),f(gt,It),f(gt,At),f(At,Nt),f(gt,kt),f(gt,Lt),f(Lt,St),f(gt,zt),f(gt,Ut),f(Ut,_t),f(l,Ct),f(l,Pt),f(Pt,Vt),f(Vt,Dt),f(Pt,Rt),f(Pt,Ft),f(Ft,Gt),f(Ft,qt),f(Ft,jt),f(Pt,Ht),f(Pt,Yt),f(Yt,Wt),f(Pt,Kt),f(Pt,Qt),f(Qt,Jt),f(Pt,tl),f(Pt,ll),f(ll,el),f(l,nl),f(l,al),f(al,cl),f(cl,il),f(cl,rl),f(cl,hl),f(al,fl),f(al,vl),f(vl,ml),f(al,gl),f(al,El),f(El,xl),$l=!0,Tl||(Il=[M(x,"click",t[14]),M(N,"click",t[15]),M(q,"click",t[16]),M(K,"click",t[17]),M(rt,"click",t[18]),M(vt,"click",t[19]),C(Ot=dl.call(null,At,.161===t[3])),M(At,"click",t[20]),C(Bt=dl.call(null,Lt,.2===t[3])),M(Lt,"click",t[21]),C(Mt=dl.call(null,Ut,.25===t[3])),M(Ut,"click",t[22]),C(Xt=dl.call(null,Yt,"SMALL"===t[4])),M(Yt,"click",t[23]),C(Zt=dl.call(null,Qt,"BASE"===t[4])),M(Qt,"click",t[24]),C(sl=dl.call(null,ll,"LARGE"===t[4])),M(ll,"click",t[25]),C(pl=dl.call(null,vl,!1===t[6])),M(vl,"click",t[26]),C(wl=dl.call(null,El,!0===t[6])),M(El,"click",t[27])],Tl=!0)},p(l,[e]){t=l,(!$l||1&e)&&P(I,t[0]),(!$l||2&e)&&P(W,t[1]),(!$l||4&e)&&P(ht,t[2]),Ot&&V(Ot.update)&&8&e&&Ot.update.call(null,.161===t[3]),Bt&&V(Bt.update)&&8&e&&Bt.update.call(null,.2===t[3]),Mt&&V(Mt.update)&&8&e&&Mt.update.call(null,.25===t[3]),(!$l||32&e)&&Al!==(Al=t[5]?"SM":"SMALL")&&P(Wt,Al),Xt&&V(Xt.update)&&16&e&&Xt.update.call(null,"SMALL"===t[4]),Zt&&V(Zt.update)&&16&e&&Zt.update.call(null,"BASE"===t[4]),(!$l||32&e)&&Nl!==(Nl=t[5]?"LG":"LARGE")&&P(el,Nl),sl&&V(sl.update)&&16&e&&sl.update.call(null,"LARGE"===t[4]),pl&&V(pl.update)&&64&e&&pl.update.call(null,!1===t[6]),wl&&V(wl.update)&&64&e&&wl.update.call(null,!0===t[6])},i(t){$l||(w((()=>{yl&&yl.end(1),bl||(bl=b(l,D,{delay:ol})),bl.start()})),$l=!0)},o(t){bl&&bl.invalidate(),yl=R(l,D,{delay:0,duration:ul}),$l=!1},d(t){t&&o(l),t&&yl&&yl.end(),Tl=!1,F(Il)}}}const ol=200,ul=100;function dl(t,l){return t.classList.toggle("active-button",l),{update(l){t.classList.toggle("active-button",l)}}}function hl(t,l,e){let s,n,a,c,i,r,o;const{isMobile:u}=p("window");G(t,u,(t=>e(5,r=t)));const d=Ct("limit");G(t,d,(t=>e(0,s=t)));const h=Ct("throttle");G(t,h,(t=>e(1,n=t)));const f=Ct("galleryCols");G(t,f,(t=>e(2,a=t)));const v=Ct("galleryImageSize");G(t,v,(t=>e(4,i=t)));const m=Ct("swipeDistance");G(t,m,(t=>e(3,c=t)));const g=Ct("nsfw");G(t,g,(t=>e(6,o=t)));return[s,n,a,c,i,r,o,u,d,h,f,v,m,g,()=>{s>5&&Pt("limit",s-5)},()=>{s<95&&Pt("limit",s+5)},()=>{n>1&&Pt("throttle",n-1)},()=>{n<5&&Pt("throttle",n+1)},()=>{a>1&&Pt("galleryCols",q(a))},()=>{a<5&&Pt("galleryCols",j(a))},()=>Pt("swipeDistance",.161),()=>Pt("swipeDistance",.2),()=>Pt("swipeDistance",.25),()=>Pt("galleryImageSize","SMALL"),()=>Pt("galleryImageSize","BASE"),()=>Pt("galleryImageSize","LARGE"),()=>Pt("nsfw",!1),()=>Pt("nsfw",!0)]}class fl extends t{constructor(t){super(),l(this,t,hl,rl,e,{})}}function vl(t,l,e){const s=t.slice();return s[18]=l[e],s}function ml(t){let l,e,v,m,p,g=t[4],E=[];for(let s=0;s<g.length;s+=1)E[s]=pl(vl(t,g,s));return{c(){l=s("section"),e=s("p"),v=n("Favorites"),m=a(),p=s("div");for(let t=0;t<E.length;t+=1)E[t].c();this.h()},l(t){l=c(t,"SECTION",{class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);v=r(n,"Favorites"),n.forEach(o),m=u(s),p=c(s,"DIV",{id:!0,class:!0});var a=i(p);for(let l=0;l<E.length;l+=1)E[l].l(a);a.forEach(o),s.forEach(o),this.h()},h(){d(e,"class","text-4xl font-medium"),d(p,"id","favorites"),d(p,"class","flex flex-row flex-wrap svelte-oxphnz"),d(l,"class","svelte-oxphnz")},m(t,s){h(t,l,s),f(l,e),f(e,v),f(l,m),f(l,p);for(let l=0;l<E.length;l+=1)E[l].m(p,null)},p(t,l){if(1552&l){let e;for(g=t[4],e=0;e<g.length;e+=1){const s=vl(t,g,e);E[e]?E[e].p(s,l):(E[e]=pl(s),E[e].c(),E[e].m(p,null))}for(;e<E.length;e+=1)E[e].d(1);E.length=g.length}},d(t){t&&o(l),W(E,t)}}}function pl(t){let l,e,v,m,p,g=t[18]+"";function E(){return t[11](t[18])}function x(){return t[12](t[18])}return{c(){l=s("button"),e=n(g),v=a(),this.h()},l(t){l=c(t,"BUTTON",{class:!0});var s=i(l);e=r(s,g),v=u(s),s.forEach(o),this.h()},h(){d(l,"class","select-none svelte-oxphnz")},m(t,s){h(t,l,s),f(l,e),f(l,v),m||(p=[C($l.call(null,l)),C(Tl.call(null,l)),M(l,"longpress",E),M(l,"click",x)],m=!0)},p(l,s){t=l,16&s&&g!==(g=t[18]+"")&&P(e,g)},d(t){t&&o(l),m=!1,F(p)}}}function gl(t){let l,e,v,m,p,g,E,x,w,b,y,$,T,I;return{c(){l=s("div"),e=s("button"),v=n("SAFE"),p=a(),g=s("button"),E=n("UNSAFE"),w=a(),b=s("button"),y=n("EXPLICIT"),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);e=c(s,"BUTTON",{class:!0});var n=i(e);v=r(n,"SAFE"),n.forEach(o),p=u(s),g=c(s,"BUTTON",{class:!0});var a=i(g);E=r(a,"UNSAFE"),a.forEach(o),w=u(s),b=c(s,"BUTTON",{class:!0});var d=i(b);y=r(d,"EXPLICIT"),d.forEach(o),s.forEach(o),this.h()},h(){d(e,"class","svelte-oxphnz"),d(g,"class","svelte-oxphnz"),d(b,"class","svelte-oxphnz"),d(l,"id","rating-buttons"),d(l,"class","flex flex-row items-center justify-between svelte-oxphnz")},m(s,n){h(s,l,n),f(l,e),f(e,v),f(l,p),f(l,g),f(g,E),f(l,w),f(l,b),f(b,y),T||(I=[C(m=Il.call(null,e,"SAFE"===t[1])),M(e,"click",t[13]),C(x=Il.call(null,g,"UNSAFE"===t[1])),M(g,"click",t[14]),C($=Il.call(null,b,"EXPLICIT"===t[1])),M(b,"click",t[15])],T=!0)},p(t,l){m&&V(m.update)&&2&l&&m.update.call(null,"SAFE"===t[1]),x&&V(x.update)&&2&l&&x.update.call(null,"UNSAFE"===t[1]),$&&V($.update)&&2&l&&$.update.call(null,"EXPLICIT"===t[1])},d(t){t&&o(l),T=!1,F(I)}}}function El(t){let l,e,m,p,g,E,x,y,$,T,I,A,N,O,k=!H(t[4]),L=t[2]?"Searching...":"Search";m=new Y({props:{tags:t[0],onlyUnique:!0,allowBlur:!0}});let S=k&&ml(t),B=t[3]&&gl(t);return{c(){l=s("main"),e=s("div"),X(m.$$.fragment),p=a(),g=s("div"),S&&S.c(),E=a(),B&&B.c(),x=a(),y=s("button"),$=n(L),this.h()},l(t){l=c(t,"MAIN",{class:!0});var s=i(l);e=c(s,"DIV",{id:!0,class:!0});var n=i(e);K(m.$$.fragment,n),n.forEach(o),p=u(s),g=c(s,"DIV",{class:!0});var a=i(g);S&&S.l(a),a.forEach(o),E=u(s),B&&B.l(s),x=u(s),y=c(s,"BUTTON",{id:!0,class:!0});var d=i(y);$=r(d,L),d.forEach(o),s.forEach(o),this.h()},h(){d(e,"id","tags-input"),d(e,"class","svelte-oxphnz"),d(g,"class","flex-1 rounded overflow-y-auto"),d(y,"id","search-button"),d(y,"class","py-2 text-4xl rounded-lg svelte-oxphnz"),d(l,"class","flex flex-col items-stretch space-y-2 svelte-oxphnz")},m(s,n){h(s,l,n),f(l,e),Q(m,e,null),f(l,p),f(l,g),S&&S.m(g,null),f(l,E),B&&B.m(l,null),f(l,x),f(l,y),f(y,$),A=!0,N||(O=M(y,"click",t[8]),N=!0)},p(e,[s]){t=e;const n={};1&s&&(n.tags=t[0]),m.$set(n),16&s&&(k=!H(t[4])),k?S?S.p(t,s):(S=ml(t),S.c(),S.m(g,null)):S&&(S.d(1),S=null),t[3]?B?B.p(t,s):(B=gl(t),B.c(),B.m(l,x)):B&&(B.d(1),B=null),(!A||4&s)&&L!==(L=t[2]?"Searching...":"Search")&&P($,L)},i(t){A||(v(m.$$.fragment,t),w((()=>{I&&I.end(1),T||(T=b(l,D,{delay:xl})),T.start()})),A=!0)},o(t){J(m.$$.fragment,t),T&&T.invalidate(),I=R(l,D,{delay:0,duration:wl}),A=!1},d(t){t&&o(l),Z(m),S&&S.d(),B&&B.d(),t&&I&&I.end(),N=!1,O()}}}const xl=200,wl=100,bl={SAFE:"rating:safe",UNSAFE:"rating:questionable",EXPLICIT:"rating:explicit"},yl=B(["","rating:safe","rating:questionable","rating:explicit"]);function $l(t,l=1500){function e(){const e=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress"))}),l),s=()=>{clearTimeout(e),t.removeEventListener("mousemove",s),t.removeEventListener("mouseup",s)};t.addEventListener("mousemove",s),t.addEventListener("mouseup",s)}function s(){const e=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress"))}),l),s=()=>{clearTimeout(e),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",s)};t.addEventListener("touchmove",s),t.addEventListener("touchend",s)}return t.addEventListener("mousedown",e),t.addEventListener("touchstart",s),{destroy(){t.removeEventListener("mousedown",e),t.removeEventListener("touchstart",s)}}}function Tl(t){function l(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}return t.addEventListener("oncontextmenu",l),{destroy(){t.removeEventListener("oncontextmenu",l)}}}function Il(t,l){return t.classList.toggle("active-button",l),{update(l){t.classList.toggle("active-button",l)}}}function Al(t,l,e){let s,n,a,c;G(t,Mt,(t=>e(16,s=t))),G(t,qt,(t=>e(2,n=t)));const{tags:i}=zt;G(t,i,(t=>e(4,c=t)));const r=tt(),o=Ct("nsfw");G(t,o,(t=>e(3,a=t)));var u=yl(s),d="";function h(t){e(1,d=d!==t?t:"")}function f(t){lt(t,u)||e(0,u=S(t,u))}function v(t){lt(t,c)&&et(i,c=B([t],c),c)}g((()=>{document.querySelector(".svelte-tags-input").focus()}));return[u,d,n,a,c,i,o,h,async function(){if(n)return;const t=d?null==bl?void 0:bl[d]:"";r("search",[...u,a?t:"rating:safe"])},f,v,t=>v(t),t=>f(t),()=>h("SAFE"),()=>h("UNSAFE"),()=>h("EXPLICIT")]}class Nl extends t{constructor(t){super(),l(this,t,Al,El,e,{})}}function Ol(t,l,e){const s=t.slice();return s[4]=l[e][0],s[5]=l[e][1],s}function kl(t){let l,e,v,m,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,B,z,U=Sl(t[5],t[0])?"AVAILABLE":"UNAVAILABLE",_=t[4]+"",C=Sl(t[5],"web")?"✓":"✗",V=Sl(t[5],"native")?"✓":"✗";function D(){return t[2](t[4])}return{c(){l=s("button"),e=s("p"),v=n(U),m=a(),p=s("p"),g=n(_),E=a(),x=s("p"),w=n("Supported platforms:"),b=a(),y=s("div"),$=s("p"),T=n("WEB: "),I=n(C),A=a(),N=s("p"),O=n("NATIVE: "),k=n(V),L=a(),this.h()},l(t){l=c(t,"BUTTON",{"data-supported":!0,class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);v=r(n,U),n.forEach(o),m=u(s),p=c(s,"P",{class:!0});var a=i(p);g=r(a,_),a.forEach(o),E=u(s),x=c(s,"P",{class:!0});var d=i(x);w=r(d,"Supported platforms:"),d.forEach(o),b=u(s),y=c(s,"DIV",{class:!0});var h=i(y);$=c(h,"P",{});var f=i($);T=r(f,"WEB: "),I=r(f,C),f.forEach(o),A=u(h),N=c(h,"P",{});var S=i(N);O=r(S,"NATIVE: "),k=r(S,V),S.forEach(o),h.forEach(o),L=u(s),s.forEach(o),this.h()},h(){d(e,"class","absolute top-0 right-0 pt-6 pr-6"),d(p,"class","pb-2 text-2xl"),d(x,"class","text-lg"),d(y,"class","pt-1 flex flex-row space-x-4"),d(l,"data-supported",S=Sl(t[5],t[0])),d(l,"class","svelte-xfx89l")},m(t,s){h(t,l,s),f(l,e),f(e,v),f(l,m),f(l,p),f(p,g),f(l,E),f(l,x),f(x,w),f(l,b),f(l,y),f(y,$),f($,T),f($,I),f(y,A),f(y,N),f(N,O),f(N,k),f(l,L),B||(z=M(l,"click",D),B=!0)},p(e,s){t=e,1&s&&U!==(U=Sl(t[5],t[0])?"AVAILABLE":"UNAVAILABLE")&&P(v,U),1&s&&S!==(S=Sl(t[5],t[0]))&&d(l,"data-supported",S)},d(t){t&&o(l),B=!1,z()}}}function Ll(t){let l,e,v,p,g,E=Object.entries(Gt),x=[];for(let s=0;s<E.length;s+=1)x[s]=kl(Ol(t,E,s));return{c(){l=s("main"),e=s("div");for(let t=0;t<x.length;t+=1)x[t].c();v=a(),p=s("button"),g=n("Help"),this.h()},l(t){l=c(t,"MAIN",{class:!0});var s=i(l);e=c(s,"DIV",{id:!0,class:!0});var n=i(e);for(let l=0;l<x.length;l+=1)x[l].l(n);n.forEach(o),v=u(s),p=c(s,"BUTTON",{class:!0});var a=i(p);g=r(a,"Help"),a.forEach(o),s.forEach(o),this.h()},h(){d(e,"id","backends"),d(e,"class","flex flex-col space-y-2 svelte-xfx89l"),d(p,"class","text-2xl svelte-xfx89l"),d(l,"class","flex flex-col svelte-xfx89l")},m(t,s){h(t,l,s),f(l,e);for(let l=0;l<x.length;l+=1)x[l].m(e,null);f(l,v),f(l,p),f(p,g)},p(t,[l]){if(3&l){let s;for(E=Object.entries(Gt),s=0;s<E.length;s+=1){const n=Ol(t,E,s);x[s]?x[s].p(n,l):(x[s]=kl(n),x[s].c(),x[s].m(e,null))}for(;s<x.length;s+=1)x[s].d(1);x.length=E.length}},i:m,o:m,d(t){t&&o(l),W(x,t)}}}const Sl=(t,l)=>lt(l,I([],null==t?void 0:t.PLATFORMS));function Bl(t,l,e){const s=tt();let n=null;function a(t){s("backendchange",t)}g((async()=>{"web"===(await x.getInfo()).platform?e(0,n="web"):e(0,n="native")}));return[n,a,t=>a(t)]}class zl extends t{constructor(t){super(),l(this,t,Bl,Ll,e,{})}}const Ul={tags:$("favorites:tags",[]),images:$("favorites:images",[])};function _l(t){const l=A(Ul.tags);let e=l;e=L(O(t),l)?B([t],e):S(t,e),Ul.tags.set(e)}function Ml(t){const l=A(Ul.images);let e=l;const s=I(null,L(st("id",t.id),l));e=s?B([s],e):S(t,e),Ul.images.set(e)}Ul.tags.subscribe((t=>zt.tags.set(t))),Ul.images.subscribe((t=>zt.images.set(t)));function Cl(t,l,e){const s=t.slice();return s[21]=l[e],s}function Pl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Vl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-3xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Dl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-4xl md:text-5xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Rl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-4xl md:text-5xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Fl(t){let l,e,v,m,p,g,E=t[6]?"":"Add";function x(){return t[18](t[21])}return{c(){l=s("button"),e=n(E),v=a(),m=s("i"),this.h()},l(t){l=c(t,"BUTTON",{class:!0});var s=i(l);e=r(s,E),v=u(s),m=c(s,"I",{class:!0}),i(m).forEach(o),s.forEach(o),this.h()},h(){d(m,"class","ri-add-line text-4xl md:text-5xl"),d(l,"class","icon-button svelte-1pzovkq")},m(t,s){h(t,l,s),f(l,e),f(l,v),f(l,m),p||(g=M(l,"click",x),p=!0)},p(l,s){t=l,64&s&&E!==(E=t[6]?"":"Add")&&P(e,E)},d(t){t&&o(l),p=!1,g()}}}function Gl(t){let l,e,v,m,p,g,E=t[6]?"":"Remove";function x(){return t[17](t[21])}return{c(){l=s("button"),e=n(E),v=a(),m=s("i"),this.h()},l(t){l=c(t,"BUTTON",{class:!0});var s=i(l);e=r(s,E),v=u(s),m=c(s,"I",{class:!0}),i(m).forEach(o),s.forEach(o),this.h()},h(){d(m,"class","ri-subtract-line text-4xl md:text-5xl"),d(l,"class","icon-button svelte-1pzovkq")},m(t,s){h(t,l,s),f(l,e),f(l,v),f(l,m),p||(g=M(l,"click",x),p=!0)},p(l,s){t=l,64&s&&E!==(E=t[6]?"":"Remove")&&P(e,E)},d(t){t&&o(l),p=!1,g()}}}function ql(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-4xl md:text-5xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function jl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-4xl md:text-5xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Hl(t){let l,e,v,m,p,g,E,x,w,b,y,$=t[21]+"";function T(t,l){return(null==p||12&l)&&(p=!!t[3](t[21])),p?Gl:Fl}let I=T(t,-1),A=I(t);function N(t,l){return(null==x||36&l)&&(x=!!t[5](t[21])),x?jl:ql}let O=N(t,-1),k=O(t);function L(){return t[19](t[21])}return{c(){l=s("div"),e=s("p"),v=n($),m=a(),A.c(),g=a(),E=s("button"),k.c(),w=a(),this.h()},l(t){l=c(t,"DIV",{class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);v=r(n,$),n.forEach(o),m=u(s),A.l(s),g=u(s),E=c(s,"BUTTON",{class:!0});var a=i(E);k.l(a),a.forEach(o),w=u(s),s.forEach(o),this.h()},h(){d(e,"class","truncate flex-1 md:text-lg font-light svelte-1pzovkq"),d(E,"class","icon-button svelte-1pzovkq"),d(l,"class","p-4 flex flex-row rounded-lg items-center svelte-1pzovkq")},m(t,s){h(t,l,s),f(l,e),f(e,v),f(l,m),A.m(l,null),f(l,g),f(l,E),k.m(E,null),f(l,w),b||(y=M(E,"click",L),b=!0)},p(e,s){t=e,4&s&&$!==($=t[21]+"")&&P(v,$),I===(I=T(t,s))&&A?A.p(t,s):(A.d(1),A=I(t),A&&(A.c(),A.m(l,g))),O!==(O=N(t,s))&&(k.d(1),k=O(t),k&&(k.c(),k.m(E,null)))},d(t){t&&o(l),A.d(),k.d(),b=!1,y()}}}function Yl(t){let l,e,a,u;return{c(){l=s("button"),e=n("CLOSE"),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var s=i(l);e=r(s,"CLOSE"),s.forEach(o),this.h()},h(){d(l,"id","close-button"),d(l,"class","tracking-wider svelte-1pzovkq")},m(s,n){h(s,l,n),f(l,e),a||(u=M(l,"click",t[20]),a=!0)},p:m,d(t){t&&o(l),a=!1,u()}}}function Wl(t){var l;let e,v,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,B,z,U,_,C,V,D,R,G,q,j,H,Y,X=(null==(l=t[1])?void 0:l.artist)+"";function K(t,l){return t[4]?Vl:Pl}let Q=K(t),J=Q(t);function Z(t,l){var e;return(null==R||34&l)&&(R=!!t[5](null==(e=t[1])?void 0:e.artist)),R?Rl:Dl}let tt=Z(t,-1),lt=tt(t),et=t[2],st=[];for(let s=0;s<et.length;s+=1)st[s]=Hl(Cl(t,et,s));let nt=t[0]&&Yl(t);return{c(){e=s("article"),v=s("div"),p=s("button"),J.c(),g=a(),E=s("a"),x=s("i"),y=a(),$=s("button"),T=s("i"),I=a(),A=s("a"),N=s("i"),k=a(),L=s("section"),S=s("div"),B=s("p"),z=n("Artist:"),U=a(),_=s("p"),C=n(X),V=a(),D=s("button"),lt.c(),G=a(),q=s("div");for(let t=0;t<st.length;t+=1)st[t].c();j=a(),nt&&nt.c(),this.h()},l(t){e=c(t,"ARTICLE",{class:!0});var l=i(e);v=c(l,"DIV",{class:!0});var s=i(v);p=c(s,"BUTTON",{class:!0});var n=i(p);J.l(n),n.forEach(o),g=u(s),E=c(s,"A",{class:!0,href:!0,download:!0});var a=i(E);x=c(a,"I",{class:!0}),i(x).forEach(o),a.forEach(o),y=u(s),$=c(s,"BUTTON",{class:!0});var d=i($);T=c(d,"I",{class:!0}),i(T).forEach(o),d.forEach(o),I=u(s),A=c(s,"A",{class:!0,href:!0,target:!0});var h=i(A);N=c(h,"I",{class:!0}),i(N).forEach(o),h.forEach(o),s.forEach(o),k=u(l),L=c(l,"SECTION",{class:!0});var f=i(L);S=c(f,"DIV",{class:!0});var m=i(S);B=c(m,"P",{class:!0});var w=i(B);z=r(w,"Artist:"),w.forEach(o),U=u(m),_=c(m,"P",{class:!0});var b=i(_);C=r(b,X),b.forEach(o),m.forEach(o),V=u(f),D=c(f,"BUTTON",{class:!0});var O=i(D);lt.l(O),O.forEach(o),f.forEach(o),G=u(l),q=c(l,"DIV",{id:!0,class:!0});var M=i(q);for(let e=0;e<st.length;e+=1)st[e].l(M);M.forEach(o),j=u(l),nt&&nt.l(l),l.forEach(o),this.h()},h(){var l,s;d(p,"class","icon-button svelte-1pzovkq"),d(x,"class","ri-download-fill text-4xl"),d(E,"class","icon-button svelte-1pzovkq"),d(E,"href",w=Zt(t[1])),d(E,"download",b=null==(l=t[1])?void 0:l.file_name),d(T,"class","ri-file-copy-fill text-4xl"),d($,"class","icon-button svelte-1pzovkq"),d(N,"class","ri-phone-find-line text-4xl"),d(A,"class","icon-button svelte-1pzovkq"),d(A,"href",O=null==(s=t[1])?void 0:s.source),d(A,"target","_blank"),d(v,"class","p-2 flex flex-row justify-between space-x-4 svelte-1pzovkq"),d(B,"class","text-lg"),d(_,"class","text-xl font-light"),d(S,"class","flex-1 flex flex-col"),d(D,"class","icon-button svelte-1pzovkq"),d(L,"class","p-4 flex flex-row svelte-1pzovkq"),d(q,"id","tags"),d(q,"class","flex flex-col svelte-1pzovkq"),d(e,"class","flex flex-col space-y-2 svelte-1pzovkq")},m(l,s){h(l,e,s),f(e,v),f(v,p),J.m(p,null),f(v,g),f(v,E),f(E,x),f(v,y),f(v,$),f($,T),f(v,I),f(v,A),f(A,N),f(e,k),f(e,L),f(L,S),f(S,B),f(B,z),f(S,U),f(S,_),f(_,C),f(L,V),f(L,D),lt.m(D,null),f(e,G),f(e,q);for(let t=0;t<st.length;t+=1)st[t].m(q,null);f(e,j),nt&&nt.m(e,null),H||(Y=[M(p,"click",t[15]),M($,"click",t[11]),M(D,"click",t[16])],H=!0)},p(t,[l]){var s,n,a;if(Q!==(Q=K(t))&&(J.d(1),J=Q(t),J&&(J.c(),J.m(p,null))),2&l&&w!==(w=Zt(t[1]))&&d(E,"href",w),2&l&&b!==(b=null==(s=t[1])?void 0:s.file_name)&&d(E,"download",b),2&l&&O!==(O=null==(n=t[1])?void 0:n.source)&&d(A,"href",O),2&l&&X!==(X=(null==(a=t[1])?void 0:a.artist)+"")&&P(C,X),tt!==(tt=Z(t,l))&&(lt.d(1),lt=tt(t),lt&&(lt.c(),lt.m(D,null))),108&l){let e;for(et=t[2],e=0;e<et.length;e+=1){const s=Cl(t,et,e);st[e]?st[e].p(s,l):(st[e]=Hl(s),st[e].c(),st[e].m(q,null))}for(;e<st.length;e+=1)st[e].d(1);st.length=et.length}t[0]?nt?nt.p(t,l):(nt=Yl(t),nt.c(),nt.m(e,null)):nt&&(nt.d(1),nt=null)},i:m,o:m,d(t){t&&o(e),J.d(),lt.d(),W(st,t),nt&&nt.d(),H=!1,F(Y)}}}function Xl(t,l,e){let s,n,a,c,i,r,o,u,d;G(t,_t,(t=>e(1,i=t))),G(t,Mt,(t=>e(12,r=t)));const{tags:h,images:f}=zt;G(t,h,(t=>e(14,u=t))),G(t,f,(t=>e(13,o=t)));const{isMobile:v}=p("window");G(t,v,(t=>e(6,d=t)));const m=tt();let{closable:g=!1}=l;return t.$$set=t=>{"closable"in t&&e(0,g=t.closable)},t.$$.update=()=>{2&t.$$.dirty&&e(2,s=I([],null==i?void 0:i.tags)),4096&t.$$.dirty&&e(3,n=t=>lt(t,r)),8194&t.$$.dirty&&e(4,a=void 0!==L(st("id",null==i?void 0:i.id),o)),16384&t.$$.dirty&&e(5,c=t=>lt(t,u))},[g,i,s,n,a,c,d,h,f,v,m,function(){nt.write({url:null==i?void 0:i.file_url})},r,o,u,()=>Ml(i),()=>_l(null==i?void 0:i.artist),t=>Xt(t),t=>Xt(t),t=>_l(t),()=>m("close")]}class Kl extends t{constructor(t){super(),l(this,t,Xl,Wl,e,{closable:0})}}function Ql(t){let l,e,n,a,i;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){l.src!==(e=Zt(t[0]))&&d(l,"src",e),d(l,"alt","current"),d(l,"class","svelte-1c0nu2s")},m(e,s){h(e,l,s),t[25](l),a||(i=C(n=il.call(null,l,[t[0],!0])),a=!0)},p(t,s){1&s[0]&&l.src!==(e=Zt(t[0]))&&d(l,"src",e),n&&V(n.update)&&1&s[0]&&n.update.call(null,[t[0],!0])},d(e){e&&o(l),t[25](null),a=!1,i()}}}function Jl(t){let l,s=t[0],n=le(t);return{c(){n.c(),l=vt()},l(t){n.l(t),l=vt()},m(t,e){n.m(t,e),h(t,l,e)},p(t,a){1&a[0]&&e(s,s=t[0])?(n.d(1),n=le(t),n.c(),n.m(l.parentNode,l)):n.p(t,a)},d(t){t&&o(l),n.d(t)}}}function Zl(t){let l,e,n,a,i;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){l.src!==(e=Jt(t[0]))&&d(l,"src",e),d(l,"alt","current"),d(l,"class","svelte-1c0nu2s")},m(e,s){h(e,l,s),t[24](l),a||(i=C(n=il.call(null,l,[t[0],!0])),a=!0)},p(t,s){1&s[0]&&l.src!==(e=Jt(t[0]))&&d(l,"src",e),n&&V(n.update)&&1&s[0]&&n.update.call(null,[t[0],!0])},d(e){e&&o(l),t[24](null),a=!1,i()}}}function te(t){let l,e,n,r,v,m,p,g,E,x;return{c(){l=s("div"),e=s("video"),n=s("track"),r=s("source"),m=a(),p=s("button"),g=s("i"),this.h()},l(t){l=c(t,"DIV",{});var s=i(l);e=c(s,"VIDEO",{class:!0,width:!0,height:!0});var a=i(e);n=c(a,"TRACK",{default:!0,kind:!0}),r=c(a,"SOURCE",{src:!0,type:!0}),a.forEach(o),m=u(s),p=c(s,"BUTTON",{class:!0,style:!0});var d=i(p);g=c(d,"I",{class:!0}),i(g).forEach(o),d.forEach(o),s.forEach(o),this.h()},h(){n.default=!0,d(n,"kind","captions"),r.src!==(v=Zt(t[0]))&&d(r,"src",v),d(r,"type","video/webm"),d(e,"class","relative h-screen bg-black"),d(e,"width",t[4]),d(e,"height",t[10]),d(g,"class","ri-play-line text-5xl"),d(p,"class","fixed bottom-[4rem] left-[2rem] w-16 h-16 z-10"),_(p,"transform","translateX(100vw)")},m(s,a){h(s,l,a),f(l,e),f(e,n),f(e,r),t[22](e),f(l,m),f(l,p),f(p,g),E||(x=[M(e,"click",t[23]),M(p,"click",t[17]),M(p,"touchend",t[17],{passive:!0})],E=!0)},p(t,l){1&l[0]&&r.src!==(v=Zt(t[0]))&&d(r,"src",v),16&l[0]&&d(e,"width",t[4]),1024&l[0]&&d(e,"height",t[10])},d(e){e&&o(l),t[22](null),E=!1,F(x)}}}function le(t){let l;function e(t,l){var e;return(null==(e=t[9])?void 0:e[t[0].id])?te:Zl}let s=e(t),n=s(t);return{c(){n.c(),l=vt()},l(t){n.l(t),l=vt()},m(t,e){n.m(t,e),h(t,l,e)},p(t,a){s===(s=e(t))&&n?n.p(t,a):(n.d(1),n=s(t),n&&(n.c(),n.m(l.parentNode,l)))},d(t){n.d(t),t&&o(l)}}}function ee(t){let l,e,n,r,m,p,g,E,x,y,$,T,I,A,N,O;function k(t,l){var e;return(null==(e=t[0])?void 0:e.video)?Jl:Ql}let L=k(t),S=L(t);return T=new Kl({props:{closable:!0}}),T.$on("close",t[27]),{c(){l=s("div"),e=s("div"),n=s("img"),m=a(),S.c(),p=a(),g=s("img"),y=a(),$=s("div"),X(T.$$.fragment),this.h()},l(t){l=c(t,"DIV",{class:!0});var s=i(l);e=c(s,"DIV",{class:!0,style:!0});var a=i(e);n=c(a,"IMG",{class:!0,alt:!0,src:!0}),m=u(a),S.l(a),p=u(a),g=c(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach(o),s.forEach(o),y=u(t),$=c(t,"DIV",{id:!0,style:!0,class:!0});var r=i($);K(T.$$.fragment,r),r.forEach(o),this.h()},h(){d(n,"class","invisible svelte-1c0nu2s"),d(n,"alt","previous"),n.src!==(r=Jt(t[5]))&&d(n,"src",r),d(g,"class","invisible svelte-1c0nu2s"),g.src!==(E=Jt(t[6]))&&d(g,"src",E),d(g,"alt","next"),d(e,"class","flex flex-row"),_(e,"width","300vw"),_(e,"transform","translate("+(-t[4]+t[7])+"px,"+t[8]+"px)"),_(e,"will-change","transform"),d(l,"class","fixed top-0 left-0"),d($,"id","info-container"),d($,"style",I=t[3]?"":`transform:translateY(${t[10]+1.75*t[8]}px`),d($,"class","svelte-1c0nu2s")},m(s,a){h(s,l,a),f(l,e),f(e,n),f(e,m),S.m(e,null),f(e,p),f(e,g),t[26](e),h(s,y,a),h(s,$,a),Q(T,$,null),A=!0,N||(O=[C(re.call(null,n)),C(re.call(null,g)),C(t[16].call(null,l))],N=!0)},p(t,l){(!A||32&l[0]&&n.src!==(r=Jt(t[5])))&&d(n,"src",r),L===(L=k(t))&&S?S.p(t,l):(S.d(1),S=L(t),S&&(S.c(),S.m(e,p))),(!A||64&l[0]&&g.src!==(E=Jt(t[6])))&&d(g,"src",E),(!A||400&l[0])&&_(e,"transform","translate("+(-t[4]+t[7])+"px,"+t[8]+"px)"),(!A||1288&l[0]&&I!==(I=t[3]?"":`transform:translateY(${t[10]+1.75*t[8]}px`))&&d($,"style",I)},i(t){A||(x||w((()=>{x=b(l,ct,{y:1e3}),x.start()})),v(T.$$.fragment,t),A=!0)},o(t){J(T.$$.fragment,t),A=!1},d(e){e&&o(l),S.d(),t[26](null),e&&o(y),e&&o($),Z(T),N=!1,F(O)}}}const se=at(O(0),(()=>null)),ne=t=>t>200&&t<315,ae=t=>t>120&&t<200,ce=t=>t>0&&t<60||t>315&&t<=360,ie=t=>t>60&&t<120;function re(t){setTimeout((()=>{t.classList.remove("invisible")}),300)}function oe(t,l,e){let s,n,a,c,i,r,o,u,d,h,f;G(t,Ut,(t=>e(19,o=t))),G(t,Qt,(t=>e(9,h=t)));const v=tt();let{image:m=null}=l;const{width:g,height:E}=p("window");G(t,g,(t=>e(4,i=t))),G(t,E,(t=>e(10,f=t)));var x=null;const w=Ct("swipeDistance");G(t,w,(t=>e(18,r=t)));var b=null,$=null,T=null,A=!1;const N=y(null);G(t,N,(t=>e(20,u=t)));const k=dt(0,{duration:50});function L(){d>s&&("DOWN"===u&&et(k,d=0,d),"UP"===u&&(et(k,d=0,d),e(3,A=!0)),"LEFT"===u&&v("imagechange",T),"RIGHT"===u&&v("imagechange",$),v("swipe",u)),et(N,u=null,u),et(k,d=0,d)}G(t,k,(t=>e(21,d=t)));var S=null;return t.$$set=t=>{"image"in t&&e(0,m=t.image)},t.$$.update=()=>{if(262160&t.$$.dirty[0]&&(s=I(120,se(i*r))),262160&t.$$.dirty[0]&&(n=I(450,se(i*r*3))),524289&t.$$.dirty[0]){const t=it(O(m))(o);e(5,$=o[rt(t-1,0)]),e(6,T=o[ot(t+1,ut(o))])}var l,h,f;3145728&t.$$.dirty[0]&&e(7,a="RIGHT"===u?d:"LEFT"===u?-d:0),3145728&t.$$.dirty[0]&&e(8,c="DOWN"===u?d:"UP"===u?-d:0),14&t.$$.dirty[0]&&(l=b,h=x,f=A,S&&l&&(f?S.unbind(h,"pan"):(S.bind(h,"pan",(function(t){const l=t.detail.data[0].directionFromOrigin,e=t.detail.data[0].distanceFromOrigin;let s=null;ne(l)?s="DOWN":ae(l)?s="LEFT":ce(l)?s="RIGHT":ie(l)&&(s="UP"),s!==u?(et(N,u=s,u),et(k,d=0,d)):et(k,d=e,d),e>n&&L()})),window.addEventListener("touchend",L))))},[m,x,b,A,i,$,T,a,c,h,f,g,E,w,N,k,function(t){if(t&&!S)return S=ht.Region(t),{destroy(){S.unbind(x,"pan"),window.removeEventListener("touchend",L),S=null}}},function(){(null==m?void 0:m.video)&&void 0!==b.paused&&((null==b?void 0:b.paused)?null==b||b.play():null==b||b.pause())},r,o,u,d,function(t){ft[t?"unshift":"push"]((()=>{e(2,b=t)}))},t=>b.play(),function(t){ft[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(t){ft[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(t){ft[t?"unshift":"push"]((()=>{e(1,x=t)}))},()=>{e(3,A=!1)}]}class ue extends t{constructor(t){super(),l(this,t,oe,ee,e,{image:0},[-1,-1])}}const{window:de}=Et;function he(t,l,e){const s=t.slice();return s[48]=l[e],s}function fe(t){let l,e,n,a,r,u;function f(t,l){return t[2]?me:ve}let v=f(t),m=v(t);return{c(){l=s("button"),m.c(),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var e=i(l);m.l(e),e.forEach(o),this.h()},h(){d(l,"id","backend-button"),d(l,"class","svelte-9saeb0")},m(e,s){h(e,l,s),m.m(l,null),a=!0,r||(u=M(l,"click",t[27]),r=!0)},p(e,s){v===(v=f(t=e))&&m?m.p(t,s):(m.d(1),m=v(t),m&&(m.c(),m.m(l,null)))},i(t){a||(w((()=>{n&&n.end(1),e||(e=b(l,D,{delay:xl})),e.start()})),a=!0)},o(t){e&&e.invalidate(),n=R(l,D,{duration:wl}),a=!1},d(t){t&&o(l),m.d(),t&&n&&n.end(),r=!1,u()}}}function ve(t){let l;return{c(){l=n(t[13])},l(e){l=r(e,t[13])},m(t,e){h(t,l,e)},p(t,e){8192&e[0]&&P(l,t[13])},d(t){t&&o(l)}}}function me(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-gallery-line text-3xl")},m(t,e){h(t,l,e)},p:m,d(t){t&&o(l)}}}function pe(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-settings-2-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function ge(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-close-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Ee(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-search-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function xe(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-close-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function we(t){let l,e,n,a,r,u,m=t[11],p=[];for(let s=0;s<m.length;s+=1)p[s]=be(he(t,m,s));const g=t=>J(p[t],1,1,(()=>{p[t]=null}));return{c(){l=s("div"),e=s("div");for(let t=0;t<p.length;t+=1)p[t].c();this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);e=c(s,"DIV",{id:!0,class:!0,style:!0});var n=i(e);for(let l=0;l<p.length;l+=1)p[l].l(n);n.forEach(o),s.forEach(o),this.h()},h(){d(e,"id","images"),d(e,"class","flex flex-row flex-wrap justify-center md:justify-between svelte-9saeb0"),d(e,"style",n=t[1]||t[6]||t[7]?"filter: blur(20px)":null),d(l,"id","images-container"),d(l,"class","flex-1 flex flex-col items-stretch svelte-9saeb0")},m(s,n){h(s,l,n),f(l,e);for(let t=0;t<p.length;t+=1)p[t].m(e,null);a=!0,r||(u=C(t[30].call(null,l)),r=!0)},p(t,l){if(8391424&l[0]){let s;for(m=t[11],s=0;s<m.length;s+=1){const n=he(t,m,s);p[s]?(p[s].p(n,l),v(p[s],1)):(p[s]=be(n),p[s].c(),v(p[s],1),p[s].m(e,null))}for(mt(),s=m.length;s<p.length;s+=1)g(s);pt()}(!a||194&l[0]&&n!==(n=t[1]||t[6]||t[7]?"filter: blur(20px)":null))&&d(e,"style",n)},i(t){if(!a){for(let t=0;t<m.length;t+=1)v(p[t]);a=!0}},o(t){p=p.filter(Boolean);for(let l=0;l<p.length;l+=1)J(p[l]);a=!1},d(t){t&&o(l),W(p,t),r=!1,u()}}}function be(t){let l,e,n,a,i,r,u,f,v;function m(){return t[36](t[48])}return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,alt:!0,src:!0,style:!0}),this.h()},h(){d(l,"class","object-cover svelte-9saeb0"),d(l,"alt",""),l.src!==(e=Jt(t[48]))&&d(l,"src",e),d(l,"style",n=`width:${t[8]}; height:${t[9]}`)},m(e,s){h(e,l,s),u=!0,f||(v=[C(a=il.call(null,l,[t[48],!1])),M(l,"click",m)],f=!0)},p(s,c){t=s,(!u||2048&c[0]&&l.src!==(e=Jt(t[48])))&&d(l,"src",e),(!u||768&c[0]&&n!==(n=`width:${t[8]}; height:${t[9]}`))&&d(l,"style",n),a&&V(a.update)&&2048&c[0]&&a.update.call(null,[t[48],!1])},i(e){u||(w((()=>{r&&r.end(1),i||(i=b(l,t[22],{key:t[48].id})),i.start()})),u=!0)},o(e){i&&i.invalidate(),r=R(l,t[21],{key:t[48].id}),u=!1},d(t){t&&o(l),t&&r&&r.end(),f=!1,F(v)}}}function ye(t){let l,e;return l=new ue({props:{image:t[0]}}),l.$on("imagechange",t[37]),l.$on("swipe",t[38]),{c(){X(l.$$.fragment)},l(t){K(l.$$.fragment,t)},m(t,s){Q(l,t,s),e=!0},p(t,e){const s={};1&e[0]&&(s.image=t[0]),l.$set(s)},i(t){e||(v(l.$$.fragment,t),e=!0)},o(t){J(l.$$.fragment,t),e=!1},d(t){Z(l,t)}}}function $e(t){let l,e;return{c(){l=s("p"),e=n("No more images..."),this.h()},l(t){l=c(t,"P",{class:!0});var s=i(l);e=r(s,"No more images..."),s.forEach(o),this.h()},h(){d(l,"class","text-3xl text-center pb-2")},m(t,s){h(t,l,s),f(l,e)},p:m,d(t){t&&o(l)}}}function Te(t){let l,e,a,u;return{c(){l=s("button"),e=n("More"),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var s=i(l);e=r(s,"More"),s.forEach(o),this.h()},h(){d(l,"id","more-button"),d(l,"class","mb-2 svelte-9saeb0")},m(s,n){h(s,l,n),f(l,e),a||(u=M(l,"click",t[39]),a=!0)},p:m,d(t){t&&o(l),a=!1,u()}}}function Ie(t){let l,e,n;return e=new fl({}),{c(){l=s("div"),X(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);K(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","settings-menu"),d(l,"class","svelte-9saeb0")},m(t,s){h(t,l,s),Q(e,l,null),n=!0},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){t&&o(l),Z(e)}}}function Ae(t){let l,e,n;return e=new Nl({}),e.$on("search",t[28]),{c(){l=s("div"),X(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);K(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","search-menu"),d(l,"class","svelte-9saeb0")},m(t,s){h(t,l,s),Q(e,l,null),n=!0},p:m,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){t&&o(l),Z(e)}}}function Ne(t){let l,e,n;return e=new zl({}),e.$on("backendchange",t[29]),{c(){l=s("div"),X(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);K(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","backends-menu"),d(l,"class","svelte-9saeb0")},m(t,s){h(t,l,s),Q(e,l,null),n=!0},p:m,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){t&&o(l),Z(e)}}}function Oe(t){let l,e,n,a;return{c(){l=s("button"),e=s("i"),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var s=i(l);e=c(s,"I",{class:!0}),i(e).forEach(o),s.forEach(o),this.h()},h(){d(e,"class","ri-arrow-up-line text-2xl text-black"),d(l,"id","back-button"),d(l,"class","svelte-9saeb0")},m(s,c){h(s,l,c),f(l,e),n||(a=M(l,"click",t[40]),n=!0)},p:m,d(t){t&&o(l),n=!1,a()}}}function ke(t){let l,e,n,r,m,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,B=t[1]&&fe(t);function z(t,l){return t[6]?ge:pe}let U=z(t),_=U(t);function C(t,l){return t[1]?xe:Ee}let P=C(t),V=P(t),D=t[5]&&we(t),R=t[2]&&t[0]&&ye(t);function G(t,l){return!t[4]||t[0]||t[1]||t[6]||t[7]||t[14]||!t[12]?!t[4]||t[0]||t[1]||t[6]||t[7]||t[12]?void 0:$e:Te}let q=G(t),j=q&&q(t),H=t[6]&&Ie(),Y=t[1]&&Ae(t),W=t[7]&&Ne(t),X=t[10]&&!t[0]&&!t[1]&&!t[6]&&!t[7]&&Oe(t);return{c(){l=s("nav"),B&&B.c(),e=a(),n=s("div"),r=a(),m=s("div"),p=s("i"),g=a(),E=s("div"),_.c(),x=a(),w=s("div"),V.c(),b=a(),D&&D.c(),y=a(),R&&R.c(),$=a(),j&&j.c(),T=a(),H&&H.c(),I=a(),Y&&Y.c(),A=a(),W&&W.c(),N=a(),X&&X.c(),O=vt(),this.h()},l(t){l=c(t,"NAV",{class:!0});var s=i(l);B&&B.l(s),e=u(s),n=c(s,"DIV",{class:!0}),i(n).forEach(o),r=u(s),m=c(s,"DIV",{id:!0,class:!0});var a=i(m);p=c(a,"I",{class:!0}),i(p).forEach(o),a.forEach(o),g=u(s),E=c(s,"DIV",{id:!0,class:!0});var d=i(E);_.l(d),d.forEach(o),x=u(s),w=c(s,"DIV",{id:!0,class:!0});var h=i(w);V.l(h),h.forEach(o),s.forEach(o),b=u(t),D&&D.l(t),y=u(t),R&&R.l(t),$=u(t),j&&j.l(t),T=u(t),H&&H.l(t),I=u(t),Y&&Y.l(t),A=u(t),W&&W.l(t),N=u(t),X&&X.l(t),O=vt(),this.h()},h(){d(n,"class","flex-1"),d(p,"class","ri-star-line text-3xl"),d(m,"id","favorites-icon"),d(m,"class","svelte-9saeb0"),d(E,"id","settings-icon"),d(E,"class","svelte-9saeb0"),d(w,"id","search-icon"),d(w,"class","svelte-9saeb0"),d(l,"class","flex flex-row items-center space-x-4 svelte-9saeb0")},m(s,a){h(s,l,a),B&&B.m(l,null),f(l,e),f(l,n),f(l,r),f(l,m),f(m,p),f(l,g),f(l,E),_.m(E,null),f(l,x),f(l,w),V.m(w,null),h(s,b,a),D&&D.m(s,a),h(s,y,a),R&&R.m(s,a),h(s,$,a),j&&j.m(s,a),h(s,T,a),H&&H.m(s,a),h(s,I,a),Y&&Y.m(s,a),h(s,A,a),W&&W.m(s,a),h(s,N,a),X&&X.m(s,a),h(s,O,a),k=!0,L||(S=[M(de,"keyup",t[31]),M(m,"click",t[24]),M(E,"click",t[25]),M(w,"click",t[26])],L=!0)},p(t,s){t[1]?B?(B.p(t,s),2&s[0]&&v(B,1)):(B=fe(t),B.c(),v(B,1),B.m(l,e)):B&&(mt(),J(B,1,1,(()=>{B=null})),pt()),U!==(U=z(t))&&(_.d(1),_=U(t),_&&(_.c(),_.m(E,null))),P!==(P=C(t))&&(V.d(1),V=P(t),V&&(V.c(),V.m(w,null))),t[5]?D?(D.p(t,s),32&s[0]&&v(D,1)):(D=we(t),D.c(),v(D,1),D.m(y.parentNode,y)):D&&(mt(),J(D,1,1,(()=>{D=null})),pt()),t[2]&&t[0]?R?(R.p(t,s),5&s[0]&&v(R,1)):(R=ye(t),R.c(),v(R,1),R.m($.parentNode,$)):R&&(mt(),J(R,1,1,(()=>{R=null})),pt()),q===(q=G(t))&&j?j.p(t,s):(j&&j.d(1),j=q&&q(t),j&&(j.c(),j.m(T.parentNode,T))),t[6]?H?64&s[0]&&v(H,1):(H=Ie(),H.c(),v(H,1),H.m(I.parentNode,I)):H&&(mt(),J(H,1,1,(()=>{H=null})),pt()),t[1]?Y?(Y.p(t,s),2&s[0]&&v(Y,1)):(Y=Ae(t),Y.c(),v(Y,1),Y.m(A.parentNode,A)):Y&&(mt(),J(Y,1,1,(()=>{Y=null})),pt()),t[7]?W?(W.p(t,s),128&s[0]&&v(W,1)):(W=Ne(t),W.c(),v(W,1),W.m(N.parentNode,N)):W&&(mt(),J(W,1,1,(()=>{W=null})),pt()),!t[10]||t[0]||t[1]||t[6]||t[7]?X&&(X.d(1),X=null):X?X.p(t,s):(X=Oe(t),X.c(),X.m(O.parentNode,O))},i(t){k||(v(B),v(D),v(R),v(H),v(Y),v(W),k=!0)},o(t){J(B),J(D),J(R),J(H),J(Y),J(W),k=!1},d(t){t&&o(l),B&&B.d(),_.d(),V.d(),t&&o(b),D&&D.d(t),t&&o(y),R&&R.d(t),t&&o($),j&&j.d(t),t&&o(T),H&&H.d(t),t&&o(I),Y&&Y.d(t),t&&o(A),W&&W.d(t),t&&o(N),X&&X.d(t),t&&o(O),L=!1,F(S)}}}const Le={SMALL:{width:"12rem",height:"16rem"},BASE:{width:"14rem",height:"20rem"},LARGE:{width:"16rem",height:"24rem"}},Se=t=>I(Le.BASE,t?Le[t]:null),Be=y(0);function ze(t,l,e){let s,n,a,c,i,r,o,u,d,h,f,v,g,E,x,w=m;G(t,_t,(t=>e(42,o=t))),G(t,Mt,(t=>e(43,d=t))),G(t,Ut,(t=>e(11,h=t))),G(t,Ht,(t=>e(12,v=t))),G(t,Be,(t=>e(45,g=t))),G(t,qt,(t=>e(14,x=t))),t.$$.on_destroy.push((()=>w()));const{images:b}=zt;G(t,b,(t=>e(44,f=t)));const{navigate:y}=p("navigator");var $=!1;const T=Ct("backend");G(t,T,(t=>e(13,E=t)));const{height:I,isMobile:N}=p("window");G(t,I,(t=>e(35,u=t))),G(t,N,(t=>e(2,c=t)));const O=Ct("galleryCols");G(t,O,(t=>e(33,i=t)));const k=Ct("galleryImageSize");var L;G(t,k,(t=>e(34,r=t)));var S=0,B=o,z=!1,U=!0,_=!1,M=!1,C=!1;const[P,V]=gt({duration:200,fallback:xt});function D(t){e(0,B=t),c||(e(5,U=!1),setTimeout((()=>y("Image")),210))}return t.$$.update=()=>{4&t.$$.dirty[0]|12&t.$$.dirty[1]&&e(8,s=c?1/i*100+"vw":Se(r).width),4&t.$$.dirty[0]|12&t.$$.dirty[1]&&e(9,n=c?Math.max(20,4/i*20)+"vh":Se(r).height),1&t.$$.dirty[0]&&et(_t,o=B,o),18&t.$$.dirty[1]&&e(10,a=S>u),3&t.$$.dirty[0]&&document.body.classList.toggle("noscroll",M||null!==B)},[B,M,c,L,z,U,_,C,s,n,a,h,v,E,x,b,T,I,N,O,k,P,V,D,function(){et(Mt,d=[],d),et(Ut,h=f,h),et(Ht,v=!1,v)},function(){e(7,C=!1),e(1,M=!1),setTimeout((()=>{e(6,_=!_)}),ul)},function(){window.scrollTo(0,0),e(7,C=!1),e(6,_=!1),setTimeout((()=>{e(1,M=!M)}),ul)},function(){C?(e(7,C=!1),e(1,M=!0)):(e(1,M=!1),setTimeout((()=>{e(7,C=!0)}),wl))},async function(t){const l=t.detail;L.getScrollElement().scrollTo(0,0),et(Ut,h=[],h),await new Promise((t=>setTimeout(t,210))),await async function(t){if(A(qt))return!1;const l=Gt[A(Wt)];jt.set(0),Ht.set(!1),Ut.set([]),qt.set(!0);const[e,s]=await l.fetchImages(t,{page:A(jt),limit:A(Yt)});return qt.set(!1),Mt.set(t),Ut.set(s),(null==s?void 0:s.length)>0&&Ht.set(!0),!0}(l)&&e(1,M=!1)},function(t){Pt("backend",null==t?void 0:t.detail),e(7,C=!1),e(1,M=!0)},function(t){function l(){e(32,S=L.getScrollElement().scrollTop);const t=L.getScrollElement().scrollHeight;Math.abs(window.innerHeight-Vt(6.5)+S-t)<Vt(6)||t>0&&t<window.innerHeight?e(4,z=!0):e(4,z=!1),et(Be,g=S,g)}e(3,L=new wt(t)),L.getScrollElement().scrollTop=g,L.getScrollElement().addEventListener("scroll",l),Ut.subscribe((async()=>{L.recalculate(),await bt(),l()}))},function(t){"Escape"===t.key&&(M&&e(1,M=!1),_?e(6,_=!1):async function(){if($)return;$=!0,et(Ut,h=[],h),e(6,_=!1),e(1,M=!1);const t=Math.max(200,_?200+ul:0,M?200+wl:0);setTimeout((()=>y("Start")),t+10)}())},S,i,r,u,t=>D(t),t=>{const l=t.detail;e(0,B=l)},t=>{"DOWN"===t.detail&&e(0,B=null)},()=>{e(4,z=!1),async function(){if(!A(Ht))return!1;if(A(qt))return!1;const t=Gt[A(Wt)];qt.set(!0),jt.update((t=>t+1));const[l,e]=await t.fetchImages(A(Mt),{page:A(jt),limit:A(Yt)});e&&(null==e?void 0:e.length)<1&&Ht.set(!1),qt.set(!1),Ut.set([...A(Ut),...e])}()},()=>{L.getScrollElement().scrollTo(0,0)}]}function Ue(t,l,e){const s=t.slice();return s[9]=l[e],s}function _e(t){let l,e,n,a,i,r;function u(){return t[7](t[9])}return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(l,"class","object-contain transform hover:scale-110 svelte-u94g43"),l.src!==(e=Jt(t[9]))&&d(l,"src",e),d(l,"alt","adjacent")},m(e,s){h(e,l,s),i||(r=[C(n=il.call(null,l,[t[9]])),C(a=Ce.call(null,l,t[9]===t[0])),M(l,"click",u)],i=!0)},p(s,c){t=s,2&c&&l.src!==(e=Jt(t[9]))&&d(l,"src",e),n&&V(n.update)&&2&c&&n.update.call(null,[t[9]]),a&&V(a.update)&&3&c&&a.update.call(null,t[9]===t[0])},d(t){t&&o(l),i=!1,F(r)}}}function Me(t){let l,e=t[1],n=[];for(let s=0;s<e.length;s+=1)n[s]=_e(Ue(t,e,s));return{c(){l=s("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var e=i(l);for(let l=0;l<n.length;l+=1)n[l].l(e);e.forEach(o),this.h()},h(){d(l,"id","images"),d(l,"class","flex flex-row lg:flex-col rounded-lg svelte-u94g43")},m(t,e){h(t,l,e);for(let s=0;s<n.length;s+=1)n[s].m(l,null)},p(t,[s]){if(7&s){let a;for(e=t[1],a=0;a<e.length;a+=1){const c=Ue(t,e,a);n[a]?n[a].p(c,s):(n[a]=_e(c),n[a].c(),n[a].m(l,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=e.length}},i:m,o:m,d(t){t&&o(l),W(n,t)}}}function Ce(t,l){return t.classList.toggle("active-queue-image",l),{update(l){t.classList.toggle("active-queue-image",l)}}}function Pe(t,l,e){let s,n,a,c;G(t,_t,(t=>e(0,a=t))),G(t,Ut,(t=>e(6,c=t)));const i=tt();var r=[];const{width:o,height:u}=p("window");G(t,u,(t=>e(5,n=t)));return t.$$.update=()=>{if(32&t.$$.dirty&&e(4,s=n<1050?4:5),81&t.$$.dirty){const t=it(O(a))(c);let l=1,n=0,i=0;for(;l<c.length&&n+i<s&&(I(null,null==c?void 0:c[t+l])&&++i,n+i!==s);)I(null,null==c?void 0:c[t-l])&&++n,++l;i<=2&&(--n,++i);const o=rt(0,t-n),u=ot(c.length,t+i);e(1,r=yt(o,u,c))}},[a,r,i,u,s,n,c,t=>i("imagechange",t)]}class Ve extends t{constructor(t){super(),l(this,t,Pe,Me,e,{})}}function De(t){let l,e,n,a,i,r,u,f,v;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{id:!0,style:!0,width:!0,height:!0,src:!0,alt:!0,class:!0}),this.h()},h(){var s,c,r;d(l,"id","main-image"),d(l,"style",e=t[4]?"filter: blur(12px)":""),d(l,"width",n=null==(s=t[1])?void 0:s.width),d(l,"height",a=null==(c=t[1])?void 0:c.height),l.src!==(i=null==(r=t[1])?void 0:r.thumbnail_url)&&d(l,"src",i),d(l,"alt","main"),d(l,"class","svelte-19526fs")},m(e,s){h(e,l,s),f||(v=C(r=il.call(null,l,[t[1],!0])),f=!0)},p(t,s){var c,o,u;16&s&&e!==(e=t[4]?"filter: blur(12px)":"")&&d(l,"style",e),2&s&&n!==(n=null==(c=t[1])?void 0:c.width)&&d(l,"width",n),2&s&&a!==(a=null==(o=t[1])?void 0:o.height)&&d(l,"height",a),2&s&&l.src!==(i=null==(u=t[1])?void 0:u.thumbnail_url)&&d(l,"src",i),r&&V(r.update)&&2&s&&r.update.call(null,[t[1],!0])},i(t){u||w((()=>{u=b(l,D,{}),u.start()}))},o:m,d(t){t&&o(l),f=!1,v()}}}function Re(t){let l,e,n,a,r,u;return{c(){l=s("video"),e=s("track"),n=s("source"),this.h()},l(t){l=c(t,"VIDEO",{id:!0,width:!0,height:!0,controls:!0,class:!0});var s=i(l);e=c(s,"TRACK",{default:!0,kind:!0}),n=c(s,"SOURCE",{src:!0,type:!0}),s.forEach(o),this.h()},h(){var s,c;e.default=!0,d(e,"kind","captions"),n.src!==(a=Zt(t[1]))&&d(n,"src",a),d(n,"type","video/webm"),d(l,"id","main-image"),d(l,"width",r=null==(s=t[1])?void 0:s.width),d(l,"height",u=null==(c=t[1])?void 0:c.height),l.controls=!0,d(l,"class","svelte-19526fs")},m(s,a){h(s,l,a),f(l,e),f(l,n),t[16](l)},p(t,e){var s,c;2&e&&n.src!==(a=Zt(t[1]))&&d(n,"src",a),2&e&&r!==(r=null==(s=t[1])?void 0:s.width)&&d(l,"width",r),2&e&&u!==(u=null==(c=t[1])?void 0:c.height)&&d(l,"height",u)},i:m,o:m,d(e){e&&o(l),t[16](null)}}}function Fe(t){let l,e,n,a;return e=new Ve({}),e.$on("imagechange",t[17]),{c(){l=s("div"),X(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);K(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","images-queue"),d(l,"class","svelte-19526fs")},m(t,s){h(t,l,s),Q(e,l,null),a=!0},p(l,e){t=l},i(t){a||(v(e.$$.fragment,t),w((()=>{n||(n=$t(l,ct,{delay:0,duration:Xe,y:300},!0)),n.run(1)})),a=!0)},o(t){J(e.$$.fragment,t),n||(n=$t(l,ct,{delay:0,duration:Xe,y:300},!1)),n.run(0),a=!1},d(t){t&&o(l),Z(e),t&&n&&n.end()}}}function Ge(t){let l,e,n,a,r;return e=new Kl({}),{c(){l=s("div"),X(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);K(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","image-info"),d(l,"class","svelte-19526fs")},m(t,s){h(t,l,s),Q(e,l,null),r=!0},p(t,l){},i(t){r||(v(e.$$.fragment,t),w((()=>{a&&a.end(1),n||(n=b(l,ct,{delay:Ke,duration:Qe,y:1e3})),n.start()})),r=!0)},o(t){J(e.$$.fragment,t),n&&n.invalidate(),a=R(l,ct,{delay:0,duration:Qe,y:1e3}),r=!1},d(t){t&&o(l),Z(e),t&&a&&a.end()}}}function qe(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function je(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-3xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function He(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-information-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Ye(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-close-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function We(t){let l,e,m,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,B,z,U,_,C,V,D,R,G,q,j,H=t[6]+1+"",Y=t[2].length+"";function W(t,l){var e,s,n;return(null==(e=t[1])?void 0:e.video)&&(null==(n=t[7])?void 0:n[null==(s=t[1])?void 0:s.id])?Re:De}let X=W(t),K=X(t),Q=t[3]&&!t[4]&&Fe(t),Z=t[4]&&Ge();function tt(t,l){return t[5]?je:qe}let lt=tt(t),et=lt(t);function st(t,l){return t[4]?Ye:He}let nt=st(t),at=nt(t);return{c(){l=s("nav"),e=s("button"),m=s("i"),p=a(),g=s("p"),E=n("image"),x=a(),w=s("div"),b=a(),y=s("button"),$=s("i"),T=a(),I=s("button"),A=s("i"),N=a(),O=s("p"),k=n(H),L=n(" / "),S=n(Y),B=a(),z=s("main"),K.c(),U=a(),Q&&Q.c(),_=a(),Z&&Z.c(),C=a(),V=s("button"),et.c(),D=a(),R=s("button"),at.c(),this.h()},l(t){l=c(t,"NAV",{class:!0});var s=i(l);e=c(s,"BUTTON",{class:!0});var n=i(e);m=c(n,"I",{class:!0}),i(m).forEach(o),p=u(n),g=c(n,"P",{class:!0});var a=i(g);E=r(a,"image"),a.forEach(o),n.forEach(o),x=u(s),w=c(s,"DIV",{class:!0}),i(w).forEach(o),b=u(s),y=c(s,"BUTTON",{id:!0});var d=i(y);$=c(d,"I",{class:!0}),i($).forEach(o),d.forEach(o),T=u(s),I=c(s,"BUTTON",{id:!0});var h=i(I);A=c(h,"I",{class:!0}),i(A).forEach(o),h.forEach(o),N=u(s),O=c(s,"P",{id:!0,class:!0});var f=i(O);k=r(f,H),L=r(f," / "),S=r(f,Y),f.forEach(o),s.forEach(o),B=u(t),z=c(t,"MAIN",{class:!0});var v=i(z);K.l(v),U=u(v),Q&&Q.l(v),_=u(v),Z&&Z.l(v),C=u(v),V=c(v,"BUTTON",{id:!0,class:!0});var M=i(V);et.l(M),M.forEach(o),D=u(v),R=c(v,"BUTTON",{id:!0,class:!0});var P=i(R);at.l(P),P.forEach(o),v.forEach(o),this.h()},h(){d(m,"class","ri-arrow-left-s-line text-4xl md:text-5xl"),d(g,"class","text-4xl font-light md:text-5xl"),d(e,"class","flex flex-row items-center"),d(w,"class","flex-1"),d($,"class","ri-arrow-left-s-line text-4xl md:text-5xl"),d(y,"id","previous-image-button"),d(A,"class","ri-arrow-right-s-line text-4xl md:text-5xl"),d(I,"id","next-image-button"),d(O,"id","index-indicator"),d(O,"class","ml-4 text-3xl text-center svelte-19526fs"),d(l,"class","px-6 pt-2 h-20 flex flex-row items-center"),d(V,"id","favorite-button"),d(V,"class","absolute bottom-0 left-0 ml-6 mb-6 py-6 px-8 rounded-3xl svelte-19526fs"),d(R,"id","info-button"),d(R,"class","absolute bottom-0 right-0 mr-6 mb-6 py-6 px-8 rounded-3xl svelte-19526fs"),d(z,"class","flex flex-col lg:flex-row px-4 overflow-hidden svelte-19526fs")},m(s,n){h(s,l,n),f(l,e),f(e,m),f(e,p),f(e,g),f(g,E),f(l,x),f(l,w),f(l,b),f(l,y),f(y,$),f(l,T),f(l,I),f(I,A),f(l,N),f(l,O),f(O,k),f(O,L),f(O,S),h(s,B,n),h(s,z,n),K.m(z,null),f(z,U),Q&&Q.m(z,null),f(z,_),Z&&Z.m(z,null),f(z,C),f(z,V),et.m(V,null),f(z,D),f(z,R),at.m(R,null),G=!0,q||(j=[M(window,"keyup",t[13]),M(e,"click",t[9]),M(y,"click",t[12]),M(I,"click",t[11]),M(V,"click",t[18]),M(R,"click",t[19])],q=!0)},p(t,[l]){(!G||64&l)&&H!==(H=t[6]+1+"")&&P(k,H),(!G||4&l)&&Y!==(Y=t[2].length+"")&&P(S,Y),X===(X=W(t))&&K?K.p(t,l):(K.d(1),K=X(t),K&&(K.c(),v(K,1),K.m(z,U))),t[3]&&!t[4]?Q?(Q.p(t,l),24&l&&v(Q,1)):(Q=Fe(t),Q.c(),v(Q,1),Q.m(z,_)):Q&&(mt(),J(Q,1,1,(()=>{Q=null})),pt()),t[4]?Z?(Z.p(t,l),16&l&&v(Z,1)):(Z=Ge(),Z.c(),v(Z,1),Z.m(z,C)):Z&&(mt(),J(Z,1,1,(()=>{Z=null})),pt()),lt!==(lt=tt(t))&&(et.d(1),et=lt(t),et&&(et.c(),et.m(V,null))),nt!==(nt=st(t))&&(at.d(1),at=nt(t),at&&(at.c(),at.m(R,null)))},i(t){G||(v(K),v(Q),v(Z),G=!0)},o(t){J(Q),J(Z),G=!1},d(t){t&&o(l),t&&o(B),t&&o(z),K.d(),Q&&Q.d(),Z&&Z.d(),et.d(),at.d(),q=!1,F(j)}}}const Xe=200,Ke=300,Qe=200;function Je(t,l,e){let s,n,a,c,i,r,o;G(t,_t,(t=>e(1,a=t))),G(t,Ut,(t=>e(2,r=t))),G(t,Qt,(t=>e(7,o=t)));const{images:u}=zt;G(t,u,(t=>e(15,i=t)));const{navigate:d}=p("navigator");async function h(){e(4,m=!1),e(3,v=!1),setTimeout((()=>{et(_t,a=null,a),d("Gallery")}),Xe)}p("events");const{isMobile:f}=p("window");G(t,f,(t=>e(14,c=t)));var v=!0,m=!1;function g(){et(_t,a=r[ot(n+1,r.length-1)],a)}function E(){et(_t,a=r[rt(n-1,0)],a)}var x=null;return t.$$.update=()=>{16384&t.$$.dirty&&c&&h(),32770&t.$$.dirty&&e(5,s=void 0!==L(st("id",null==a?void 0:a.id),i)),6&t.$$.dirty&&e(6,n=it(O(a))(r)),3&t.$$.dirty&&(null==a?void 0:a.video)&&(null==x||x.load())},[x,a,r,v,m,s,n,o,u,h,f,g,E,function(t){const l=t.key;"Escape"===l&&h(),"ArrowLeft"!==l&&"j"!==l||E(),"ArrowRight"!==l&&"k"!==l||g()," "===l&&g()},c,i,function(t){ft[t?"unshift":"push"]((()=>{e(0,x=t)}))},t=>{et(_t,a=t.detail,a)},()=>Ml(a),()=>{e(4,m=!m)}]}var Ze={Start:{COMPONENT:class extends t{constructor(t){super(),l(this,t,Lt,kt,e,{})}}},Gallery:{COMPONENT:class extends t{constructor(t){super(),l(this,t,ze,ke,e,{},[-1,-1])}}},Image:{COMPONENT:class extends t{constructor(t){super(),l(this,t,Je,We,e,{})}}}};const ts=y(null),ls=y([]),es=y({}),ss=y({}),ns=y({});function as(t,l){if(A(ts)){const l=Object.entries(A(es)),e=Object.entries(A(ns));for(const[t,n]of e)"function"==typeof n.clear&&n.clear();const s={};for(const[n,a]of l)s[n]=new cs(t,a);ns.set(s)}l&&A(ls).push("StartView");const e=A(ss);ts.set(e[t])}class cs{constructor(t,l){this.view=t,this.emitter=l,this.listeners=[]}on(t,l){this.listeners.push([t,l]),this.emitter.on(t,l)}clear(){const t=this.listeners;for(const[l,e]of t)this.emitter.removeListener(l,e)}}function is(t){var l;let e,n,a,r,u;w(t[6]);var f=null==(l=t[2])?void 0:l.COMPONENT;return f&&(n=new f({})),{c(){e=s("main"),n&&X(n.$$.fragment),this.h()},l(t){e=c(t,"MAIN",{class:!0});var l=i(e);n&&K(n.$$.fragment,l),l.forEach(o),this.h()},h(){d(e,"class","relative flex flex-col svelte-1oqniws")},m(l,s){h(l,e,s),n&&Q(n,e,null),a=!0,r||(u=M(window,"resize",t[6]),r=!0)},p(t,[l]){var s;if(f!==(f=null==(s=t[2])?void 0:s.COMPONENT)){if(n){mt();const t=n;J(t.$$.fragment,1,0,(()=>{Z(t,1)})),pt()}f?(n=new f({}),X(n.$$.fragment),v(n.$$.fragment,1),Q(n,e,null)):n=null}},i(t){a||(n&&v(n.$$.fragment,t),a=!0)},o(t){n&&J(n.$$.fragment,t),a=!1},d(t){t&&o(e),n&&Z(n),r=!1,u()}}}function rs(t,l,e){let s,n,a,c;var i,r;G(t,ts,(t=>e(2,c=t))),i=It,r=Ze,es.set(i),ss.set(r);const o=y(0);G(t,o,(t=>e(0,n=t)));const u=y(0);G(t,u,(t=>e(1,a=t)));const d=y(!1);return G(t,d,(t=>e(7,s=t))),Tt("window",{width:o,height:u,isMobile:d}),Tt("navigator",{navigate:as}),Tt("events",ns),as("Start"),t.$$.update=()=>{1&t.$$.dirty&&et(d,s=n<768,s)},[n,a,c,o,u,d,function(){o.set(n=window.innerWidth),u.set(a=window.innerHeight)}]}new class extends t{constructor(t){super(),l(this,t,rs,is,e,{})}}({target:document.getElementById("app")});
