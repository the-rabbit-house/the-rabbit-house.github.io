var t=Object.defineProperty,l=Object.defineProperties,e=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,c=(l,e,s)=>e in l?t(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s;import{S as i,i as r,s as o,e as u,t as d,a as h,c as f,b as m,d as v,f as p,g,h as E,j as x,k as b,l as w,n as $,m as y,o as T,p as I,D as N,q as A,r as O,w as k,u as S,v as L,x as z,y as B,z as U,A as M,H as _,B as P,C,E as j,F as D,G as V,I as F,J as R,K as q,L as G,M as H,N as Y,O as W,P as X,Q as K,R as Q,T as J,U as Z,V as tt,W as lt,X as et,Y as st,Z as nt,_ as at,$ as ct,a0 as it,a1 as rt,a2 as ot,a3 as ut,a4 as dt,a5 as ht,a6 as ft,a7 as mt,a8 as vt,a9 as pt,aa as gt,ab as Et,ac as xt,ad as bt,ae as wt,af as $t,ag as yt,ah as Tt,ai as It,aj as Nt,ak as At,al as Ot,am as kt,an as St,ao as Lt,ap as zt,aq as Bt,ar as Ut,as as Mt,at as _t}from"./vendor.ef4b7203.js";var Pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),Ct="/assets/tippy.ac9e6991.png";function jt(t){let l,e;return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){E(l,"class","hidden"),l.src!==(e=Ct)&&E(l,"src","/assets/tippy.ac9e6991.png"),E(l,"alt","tippy-hidden")},m(t,e){x(t,l,e)},p:$,i:$,o:$,d(t){t&&p(l)}}}function Dt(t){let l,e,s;return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){E(l,"class","self-center w-40 h-32"),l.src!==(e=Ct)&&E(l,"src","/assets/tippy.ac9e6991.png"),E(l,"alt","tippy")},m(t,e){x(t,l,e)},p:$,i(e){s||A((()=>{s=O(l,t[1],{}),s.start()}))},o:$,d(t){t&&p(l)}}}function Vt(t){let l,e,s,n,a,c,i,r,o,y,T,I,N,A;function O(t,l){return t[0]?Dt:jt}let k=O(t),S=k(t);return{c(){l=u("nav"),e=u("p"),s=d("chino"),n=h(),a=u("a"),c=u("i"),i=h(),r=u("div"),o=h(),S.c(),y=h(),T=u("div"),I=h(),N=u("p"),A=d("Brewing the coffee.."),this.h()},l(t){l=f(t,"NAV",{class:!0});var u=m(l);e=f(u,"P",{class:!0});var d=m(e);s=v(d,"chino"),d.forEach(p),n=g(u),a=f(u,"A",{href:!0});var h=m(a);c=f(h,"I",{class:!0}),m(c).forEach(p),h.forEach(p),u.forEach(p),i=g(t),r=f(t,"DIV",{class:!0}),m(r).forEach(p),o=g(t),S.l(t),y=g(t),T=f(t,"DIV",{class:!0}),m(T).forEach(p),I=g(t),N=f(t,"P",{class:!0});var E=m(N);A=v(E,"Brewing the coffee.."),E.forEach(p),this.h()},h(){E(e,"class","flex-1 text-5xl font-light"),E(c,"class","ri-github-fill text-5xl"),E(a,"href","https://github.com/the-rabbit-house/chino"),E(l,"class","px-6 pt-2 h-20 flex flex-row items-center"),E(r,"class","flex-1"),E(T,"class","flex-1"),E(N,"class","pb-6 text-2xl font-light text-center")},m(t,u){x(t,l,u),b(l,e),b(e,s),b(l,n),b(l,a),b(a,c),x(t,i,u),x(t,r,u),x(t,o,u),S.m(t,u),x(t,y,u),x(t,T,u),x(t,I,u),x(t,N,u),b(N,A)},p(t,[l]){k===(k=O(t))&&S?S.p(t,l):(S.d(1),S=k(t),S&&(S.c(),w(S,1),S.m(y.parentNode,y)))},i(t){w(S)},o:$,d(t){t&&p(l),t&&p(i),t&&p(r),t&&p(o),S.d(t),t&&p(y),t&&p(T),t&&p(I),t&&p(N)}}}function Ft(t,l,e){const{navigate:s}=y("navigator");y("events");var n=!1;return T((async()=>{e(0,n=!0);const t=await N.getInfo();if("android"===(null==t?void 0:t.operatingSystem)){document.querySelector("meta[name=viewport]").setAttribute("content",`width=device-width, height=${window.innerHeight}, initial-scale=1.0, user-scalable=0`)}setTimeout((()=>s("Gallery")),1500)})),[n,function(t,l){return{delay:0,duration:1500,easing:I,css:(t,l)=>`transform: rotate(${360*t}deg);`}}]}const Rt={backend:"danbooru",limit:20,throttle:1,galleryCols:3,galleryImageSize:"BASE",swipeDistance:.2,nsfw:!1},qt=S("settings",Rt),Gt={tags:k([]),images:k([])},Ht=k([]),Yt=k(null),Wt=k([]),Xt=function(t){return L(qt,(l=>z(Rt[t],null==l?void 0:l[t])))},Kt=function(t,i){const r=(o=((t,l)=>{for(var e in l||(l={}))n.call(l,e)&&c(t,e,l[e]);if(s)for(var e of s(l))a.call(l,e)&&c(t,e,l[e]);return t})({},B(qt)),l(o,e({[t]:i})));var o;qt.set(r)};function Qt(t=8e3){const l=new AbortController,e=l.signal;return setTimeout((()=>l.abort()),t),e}function Jt(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}const Zt=U([M("zip"),M("webm"),M("mp4")]);function tl(t){const l=[];for(const e of t){if(!(null==e?void 0:e.file_url))continue;const t=null==e?void 0:e.file_ext,s={id:null==e?void 0:e.md5,file_name:(null==e?void 0:e.md5)+"."+(null==e?void 0:e.file_ext)||"",file_ext:t,source:null==e?void 0:e.source,artist:null==e?void 0:e.tag_string_artist,thumbnail_url:null==e?void 0:e.preview_file_url,file_url:Zt(t)?null==e?void 0:e.large_file_url:null==e?void 0:e.file_url,width:null==e?void 0:e.image_width,height:null==e?void 0:e.image_height,tags:null==e?void 0:e.tag_string.split(" "),data:e,video:Zt(t)};l.push(s)}return l}var ll=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",NAME:"danbooru",PLATFORMS:["web","native"],fetchImages:async function(t,{page:l,limit:e}){try{return[!0,tl((await _.request({method:"GET",url:"https://danbooru.donmai.us/posts.json?tags="+t.join("+")+"&page="+(l+1)+"&limit="+e,webFetchExtra:{signal:Qt()}})).data)]}catch(s){return[!1,[]]}}});const el=U([M("zip"),M("webm"),M("mp4")]);function sl(t){const l=[];for(const e of t){if(!(null==e?void 0:e.file_url))continue;const t=P(null==e?void 0:e.file_url.split(".")),s={id:null==e?void 0:e.hash,file_name:null==e?void 0:e.image,source:null==e?void 0:e.source,artist:null==e?void 0:e.owner,file_ext:t,video:el(t),thumbnail_url:`https://img3.gelbooru.com/thumbnails/${null==e?void 0:e.directory}/thumbnail_${null==e?void 0:e.hash}.jpg`,file_url:null==e?void 0:e.file_url,width:null==e?void 0:e.width,height:null==e?void 0:e.height,tags:null==e?void 0:e.tags.split(" "),data:e};l.push(s)}return l}var nl={danbooru:ll,gelbooru:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",NAME:"gelbooru",PLATFORMS:["native"],fetchImages:async function(t,{page:l,limit:e}){try{return[!0,sl((await _.request({method:"GET",url:"https://gelbooru.com/index.php?page=dapi&s=post&q=index&json=1&tags="+t.join("+")+"&pid="+l+"&limit="+e,webFetchExtra:{signal:Qt()}})).data)]}catch(s){return[!1,[]]}}})};const al=k(!1),cl=k(0),il=k(!1),rl=Xt("limit"),ol=Xt("backend");function ul(t){let l=B(Wt);l=j(M(t),B(Wt))?V([t],l):D(t,l),Wt.set(l)}const dl=t=>({}),hl=t=>({}),fl=t=>({}),ml=t=>({});function vl(t){let l,e,s;const n=t[4].left,a=F(n,t,t[3],ml),c=a||function(t){let l,e,s,n,a,c,i,r=q(t[0].NAME)+"";return{c(){l=u("button"),e=u("i"),s=h(),n=u("p"),a=d(r),this.h()},l(t){l=f(t,"BUTTON",{class:!0});var c=m(l);e=f(c,"I",{id:!0,class:!0}),m(e).forEach(p),s=g(c),n=f(c,"P",{id:!0,class:!0});var i=m(n);a=v(i,r),i.forEach(p),c.forEach(p),this.h()},h(){E(e,"id","arrow-button"),E(e,"class","ri-arrow-left-s-line svelte-1w9rlcm"),E(n,"id","screen-name"),E(n,"class","svelte-1w9rlcm"),E(l,"class","flex-1 flex flex-row items-center")},m(r,o){x(r,l,o),b(l,e),b(l,s),b(l,n),b(n,a),c||(i=R(l,"click",t[2]),c=!0)},p(t,l){1&l&&r!==(r=q(t[0].NAME)+"")&&G(a,r)},d(t){t&&p(l),c=!1,i()}}}(t),i=t[4].right,r=F(i,t,t[3],hl);return{c(){l=u("nav"),c&&c.c(),e=h(),r&&r.c(),this.h()},l(t){l=f(t,"NAV",{class:!0});var s=m(l);c&&c.l(s),e=g(s),r&&r.l(s),s.forEach(p),this.h()},h(){E(l,"class","flex flex-row svelte-1w9rlcm")},m(t,n){x(t,l,n),c&&c.m(l,null),b(l,e),r&&r.m(l,null),s=!0},p(t,[l]){a?a.p&&(!s||8&l)&&H(a,n,t,t[3],s?l:-1,fl,ml):c&&c.p&&(!s||1&l)&&c.p(t,s?l:-1),r&&r.p&&(!s||8&l)&&H(r,i,t,t[3],s?l:-1,dl,hl)},i(t){s||(w(c,t),w(r,t),s=!0)},o(t){Y(c,t),Y(r,t),s=!1},d(t){t&&p(l),c&&c.d(t),r&&r.d(t)}}}function pl(t,l,e){let s,{$$slots:n={},$$scope:a}=l;const{currentScreen:c}=y("navigator");W(t,c,(t=>e(0,s=t)));const i=X();return t.$$set=t=>{"$$scope"in t&&e(3,a=t.$$scope)},[s,c,()=>i("back"),a,n]}class gl extends i{constructor(t){super(),r(this,t,pl,vl,o,{})}}const El="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",xl=k({});function bl(t){const l=B(xl);return(null==l?void 0:l["thumbnail_"+(null==t?void 0:t.id)])?l["thumbnail_"+(null==t?void 0:t.id)]:El}function wl(t){const l=B(xl);return(null==l?void 0:l[null==t?void 0:t.id])?l[null==t?void 0:t.id]:(null==l?void 0:l["thumbnail_"+(null==t?void 0:t.id)])?l["thumbnail_"+(null==t?void 0:t.id)]:El}const $l={image:null},yl=k([]),Tl=k([]);function Il(t){yl.set(V([t],B(yl))),Tl.set(V([t],B(Tl)))}const Nl=L([yl,Tl],(([t,l])=>[...t,...l])),Al=k([]);function Ol(){var t,l;const e=z(1,null==(t=B(qt))?void 0:t.throttle);if(B(Al).length>=e)return;if(B(Nl).length<1)return;const[s,...n]=B(Nl),[a,c,i=!1]=s;if(void 0!==j(M([a,i]),B(Al)))return void Il(s);const r=i?"thumbnail_url":"file_url",o=i?"thumbnail_":"";if(!(null==(l=B(xl))?void 0:l[o+(null==a?void 0:a.id)])){const t=[a,i];Al.set(D(t,B(Al))),async function(t,l,e){const s=await _.downloadFile({url:null==t?void 0:t[l],filePath:e+(null==t?void 0:t.file_name),fileDirectory:"CACHE",method:"GET"});let n=null;if(null==s?void 0:s.blob){const t=s.blob;n=URL.createObjectURL(t)}if(null==s?void 0:s.path){const t=await K.getUri({path:s.path});n=Q.convertFileSrc(t.uri)}return n?(B(xl)[e+(null==t?void 0:t.id)]=n,xl.set(B(xl)),n):null}(a,r,o).then((l=>{(i||$l.image===a||(null==a?void 0:a.video))&&document.body.contains(c)&&(c.src=wl(a)),Al.set(V([t],B(Al)))}))}Il(s)}function kl(t,[l,e=!1]){return e&&($l.image=l),(null==l?void 0:l.video)||(t.src=wl(l)),yl.set([...B(yl),[l,t,!0]]),e&&Tl.set([[l,t,!1],...B(Tl)]),{update([l,e=!1]){e&&($l.image=l),(null==l?void 0:l.video)||(t.src=wl(l)),yl.set([...B(yl),[l,t,!0]]),e&&Tl.set([[l,t,!1],...B(Tl)])}}}Nl.subscribe(Ol),Al.subscribe(Ol);function Sl(t,l,e){const s=t.slice();return s[15]=l[e],s}function Ll(t){let l,e,s,n,a,c,i,r,o;function d(){return t[13](t[15])}return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{class:!0,alt:!0,src:!0,style:!0}),this.h()},h(){E(l,"class","object-cover svelte-10i13kt"),E(l,"alt",""),l.src!==(e=bl(t[15]))&&E(l,"src",e),E(l,"style",s=`width:${t[1]}; height:${t[2]}`)},m(e,s){x(e,l,s),i=!0,r||(o=[J(n=kl.call(null,l,[t[15],!1])),R(l,"click",d)],r=!0)},p(a,c){t=a,(!i||8&c&&l.src!==(e=bl(t[15])))&&E(l,"src",e),(!i||6&c&&s!==(s=`width:${t[1]}; height:${t[2]}`))&&E(l,"style",s),n&&Z(n.update)&&8&c&&n.update.call(null,[t[15],!1])},i(e){i||(A((()=>{c&&c.end(1),a||(a=O(l,t[9],{key:t[15].id})),a.start()})),i=!0)},o(e){a&&a.invalidate(),c=tt(l,t[8],{key:t[15].id}),i=!1},d(t){t&&p(l),t&&c&&c.end(),r=!1,lt(o)}}}function zl(t){let l,e,s,n=t[3],a=[];for(let i=0;i<n.length;i+=1)a[i]=Ll(Sl(t,n,i));const c=t=>Y(a[t],1,1,(()=>{a[t]=null}));return{c(){l=u("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0,style:!0});var e=m(l);for(let l=0;l<a.length;l+=1)a[l].l(e);e.forEach(p),this.h()},h(){E(l,"id","images"),E(l,"class","flex flex-row flex-wrap justify-center md:justify-between svelte-10i13kt"),E(l,"style",e=t[0]?"filter: blur(20px)":null)},m(t,e){x(t,l,e);for(let s=0;s<a.length;s+=1)a[s].m(l,null);s=!0},p(t,[i]){if(30&i){let e;for(n=t[3],e=0;e<n.length;e+=1){const s=Sl(t,n,e);a[e]?(a[e].p(s,i),w(a[e],1)):(a[e]=Ll(s),a[e].c(),w(a[e],1),a[e].m(l,null))}for(et(),e=n.length;e<a.length;e+=1)c(e);st()}(!s||1&i&&e!==(e=t[0]?"filter: blur(20px)":null))&&E(l,"style",e)},i(t){if(!s){for(let t=0;t<n.length;t+=1)w(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)Y(a[l]);s=!1},d(t){t&&p(l),nt(a,t)}}}const Bl={SMALL:{width:"12rem",height:"16rem"},BASE:{width:"14rem",height:"20rem"},LARGE:{width:"16rem",height:"24rem"}},Ul=t=>z(Bl.BASE,t?Bl[t]:null);function Ml(t,l,e){let s,n,a,c,i,r;W(t,Ht,(t=>e(3,r=t)));const o=X();let{blur:u=!1}=l;const{height:d,isMobile:h}=y("screen");W(t,h,(t=>e(10,a=t)));const f=Xt("galleryCols");W(t,f,(t=>e(11,c=t)));const m=Xt("galleryImageSize");W(t,m,(t=>e(12,i=t)));const[v,p]=at({duration:200,fallback:ct});return t.$$set=t=>{"blur"in t&&e(0,u=t.blur)},t.$$.update=()=>{7168&t.$$.dirty&&e(1,s=a?1/c*100+"vw":Ul(i).width),7168&t.$$.dirty&&e(2,n=a?Math.max(20,4/c*20)+"vh":Ul(i).height)},[u,s,n,r,o,h,f,m,v,p,a,c,i,t=>o("imageclick",t)]}class _l extends i{constructor(t){super(),r(this,t,Ml,zl,o,{blur:0})}}function Pl(t){let l,e,s,n,a,c,i,r,o,w,$,y,T,I,N,k,S,L,z,B,U,M,_,P,C,j,D,V,F,q,H,Y,W,X,K,Q,et,st,nt,at,ct,ot,ut,dt,ht,ft,mt,vt,pt,gt,Et,xt,bt,wt,$t,yt,Tt,It,Nt,At,Ot,kt,St,Lt,zt,Bt,Ut,Mt,_t,Pt,Ct,jt,Dt,Vt,Ft,Rt,qt,Gt,Ht,Yt,Wt,Xt,Kt,Qt,Jt,Zt,tl,ll,el,sl,nl,al,cl,il,rl,ol,ul,dl,hl,fl,ml,vl,pl,gl,El,xl,bl,wl,$l,yl=t[5]?"SM":"SMALL",Tl=t[5]?"LG":"LARGE";return{c(){l=u("article"),e=u("section"),s=u("p"),n=d("Images "),a=u("br"),c=d("per page"),i=h(),r=u("button"),o=d("-"),w=h(),$=u("button"),y=d(t[0]),T=h(),I=u("button"),N=d("+"),k=h(),S=u("section"),L=u("p"),z=d("Load "),B=u("br"),U=d("limit"),M=h(),_=u("button"),P=d("-"),C=h(),j=u("button"),D=d(t[1]),V=h(),F=u("button"),q=d("+"),H=h(),Y=u("section"),W=u("sup"),X=d("MOBILE ONLY"),K=h(),Q=u("p"),et=d("Grid"),st=u("br"),nt=d(" columns"),at=h(),ct=u("button"),ot=d("-"),ut=h(),dt=u("button"),ht=d(t[2]),ft=h(),mt=u("button"),vt=d("+"),pt=h(),gt=u("section"),Et=u("sup"),xt=d("MOBILE ONLY"),bt=h(),wt=u("p"),$t=d("Swipe "),yt=u("br"),Tt=d("distance"),It=h(),Nt=u("button"),At=d("16.1%"),kt=h(),St=u("button"),Lt=d("20%"),Bt=h(),Ut=u("button"),Mt=d("25%"),Pt=h(),Ct=u("section"),jt=u("sup"),Dt=d("TABLET+ ONLY"),Vt=h(),Ft=u("p"),Rt=d("Image "),qt=u("br"),Gt=d(" size"),Ht=h(),Yt=u("button"),Wt=d(yl),Kt=h(),Qt=u("button"),Jt=d("BASE"),tl=h(),ll=u("button"),el=d(Tl),nl=h(),al=u("section"),cl=u("p"),il=d("NSFW"),rl=u("br"),ol=d(" mode"),ul=h(),dl=u("button"),hl=d("OFF"),ml=h(),vl=u("button"),pl=d("ON"),this.h()},l(u){l=f(u,"ARTICLE",{class:!0});var d=m(l);e=f(d,"SECTION",{class:!0});var h=m(e);s=f(h,"P",{class:!0});var E=m(s);n=v(E,"Images "),a=f(E,"BR",{}),c=v(E,"per page"),E.forEach(p),i=g(h),r=f(h,"BUTTON",{class:!0});var x=m(r);o=v(x,"-"),x.forEach(p),w=g(h),$=f(h,"BUTTON",{class:!0});var b=m($);y=v(b,t[0]),b.forEach(p),T=g(h),I=f(h,"BUTTON",{class:!0});var A=m(I);N=v(A,"+"),A.forEach(p),h.forEach(p),k=g(d),S=f(d,"SECTION",{class:!0});var O=m(S);L=f(O,"P",{class:!0});var R=m(L);z=v(R,"Load "),B=f(R,"BR",{}),U=v(R,"limit"),R.forEach(p),M=g(O),_=f(O,"BUTTON",{class:!0});var G=m(_);P=v(G,"-"),G.forEach(p),C=g(O),j=f(O,"BUTTON",{class:!0});var J=m(j);D=v(J,t[1]),J.forEach(p),V=g(O),F=f(O,"BUTTON",{class:!0});var Z=m(F);q=v(Z,"+"),Z.forEach(p),O.forEach(p),H=g(d),Y=f(d,"SECTION",{class:!0});var tt=m(Y);W=f(tt,"SUP",{class:!0});var lt=m(W);X=v(lt,"MOBILE ONLY"),lt.forEach(p),K=g(tt),Q=f(tt,"P",{class:!0});var it=m(Q);et=v(it,"Grid"),st=f(it,"BR",{}),nt=v(it," columns"),it.forEach(p),at=g(tt),ct=f(tt,"BUTTON",{class:!0});var rt=m(ct);ot=v(rt,"-"),rt.forEach(p),ut=g(tt),dt=f(tt,"BUTTON",{class:!0});var Ot=m(dt);ht=v(Ot,t[2]),Ot.forEach(p),ft=g(tt),mt=f(tt,"BUTTON",{class:!0});var zt=m(mt);vt=v(zt,"+"),zt.forEach(p),tt.forEach(p),pt=g(d),gt=f(d,"SECTION",{class:!0});var _t=m(gt);Et=f(_t,"SUP",{class:!0});var Xt=m(Et);xt=v(Xt,"MOBILE ONLY"),Xt.forEach(p),bt=g(_t),wt=f(_t,"P",{class:!0});var Zt=m(wt);$t=v(Zt,"Swipe "),yt=f(Zt,"BR",{}),Tt=v(Zt,"distance"),Zt.forEach(p),It=g(_t),Nt=f(_t,"BUTTON",{class:!0});var sl=m(Nt);At=v(sl,"16.1%"),sl.forEach(p),kt=g(_t),St=f(_t,"BUTTON",{class:!0});var fl=m(St);Lt=v(fl,"20%"),fl.forEach(p),Bt=g(_t),Ut=f(_t,"BUTTON",{class:!0});var gl=m(Ut);Mt=v(gl,"25%"),gl.forEach(p),_t.forEach(p),Pt=g(d),Ct=f(d,"SECTION",{class:!0});var El=m(Ct);jt=f(El,"SUP",{class:!0});var xl=m(jt);Dt=v(xl,"TABLET+ ONLY"),xl.forEach(p),Vt=g(El),Ft=f(El,"P",{class:!0});var bl=m(Ft);Rt=v(bl,"Image "),qt=f(bl,"BR",{}),Gt=v(bl," size"),bl.forEach(p),Ht=g(El),Yt=f(El,"BUTTON",{class:!0});var wl=m(Yt);Wt=v(wl,yl),wl.forEach(p),Kt=g(El),Qt=f(El,"BUTTON",{class:!0});var $l=m(Qt);Jt=v($l,"BASE"),$l.forEach(p),tl=g(El),ll=f(El,"BUTTON",{class:!0});var Il=m(ll);el=v(Il,Tl),Il.forEach(p),El.forEach(p),nl=g(d),al=f(d,"SECTION",{class:!0});var Nl=m(al);cl=f(Nl,"P",{class:!0});var Al=m(cl);il=v(Al,"NSFW"),rl=f(Al,"BR",{}),ol=v(Al," mode"),Al.forEach(p),ul=g(Nl),dl=f(Nl,"BUTTON",{style:!0,class:!0});var Ol=m(dl);hl=v(Ol,"OFF"),Ol.forEach(p),ml=g(Nl),vl=f(Nl,"BUTTON",{class:!0,style:!0});var kl=m(vl);pl=v(kl,"ON"),kl.forEach(p),Nl.forEach(p),d.forEach(p),this.h()},h(){E(s,"class","flex-1"),E(r,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),E($,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),$.disabled=!0,E(I,"class","w-14 md:w-16 svelte-ddyzwm"),E(e,"class","px-2 py-4 svelte-ddyzwm"),E(L,"class","flex-1"),E(_,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),E(j,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),j.disabled=!0,E(F,"class","w-14 md:w-16 svelte-ddyzwm"),E(S,"class","px-2 py-4 svelte-ddyzwm"),E(W,"class","svelte-ddyzwm"),E(Q,"class","flex-1"),E(ct,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),E(dt,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),dt.disabled=!0,E(mt,"class","w-14 md:w-16 svelte-ddyzwm"),E(Y,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),E(Et,"class","svelte-ddyzwm"),E(wt,"class","flex-1 text-wrap"),E(Nt,"class","mr-1 svelte-ddyzwm"),E(St,"class","mr-1 svelte-ddyzwm"),E(Ut,"class","svelte-ddyzwm"),E(gt,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),E(jt,"class","svelte-ddyzwm"),E(Ft,"class","flex-1 text-wrap"),E(Yt,"class","mr-1 svelte-ddyzwm"),E(Qt,"class","mr-1 svelte-ddyzwm"),E(ll,"class","svelte-ddyzwm"),E(Ct,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),E(cl,"class","flex-1"),it(dl,"flex-basis","6rem"),E(dl,"class","svelte-ddyzwm"),E(vl,"class","ml-1 svelte-ddyzwm"),it(vl,"flex-basis","6rem"),E(al,"class","px-2 py-4 svelte-ddyzwm"),E(l,"class","flex flex-col items-stretch overflow-y-auto svelte-ddyzwm")},m(u,d){x(u,l,d),b(l,e),b(e,s),b(s,n),b(s,a),b(s,c),b(e,i),b(e,r),b(r,o),b(e,w),b(e,$),b($,y),b(e,T),b(e,I),b(I,N),b(l,k),b(l,S),b(S,L),b(L,z),b(L,B),b(L,U),b(S,M),b(S,_),b(_,P),b(S,C),b(S,j),b(j,D),b(S,V),b(S,F),b(F,q),b(l,H),b(l,Y),b(Y,W),b(W,X),b(Y,K),b(Y,Q),b(Q,et),b(Q,st),b(Q,nt),b(Y,at),b(Y,ct),b(ct,ot),b(Y,ut),b(Y,dt),b(dt,ht),b(Y,ft),b(Y,mt),b(mt,vt),b(l,pt),b(l,gt),b(gt,Et),b(Et,xt),b(gt,bt),b(gt,wt),b(wt,$t),b(wt,yt),b(wt,Tt),b(gt,It),b(gt,Nt),b(Nt,At),b(gt,kt),b(gt,St),b(St,Lt),b(gt,Bt),b(gt,Ut),b(Ut,Mt),b(l,Pt),b(l,Ct),b(Ct,jt),b(jt,Dt),b(Ct,Vt),b(Ct,Ft),b(Ft,Rt),b(Ft,qt),b(Ft,Gt),b(Ct,Ht),b(Ct,Yt),b(Yt,Wt),b(Ct,Kt),b(Ct,Qt),b(Qt,Jt),b(Ct,tl),b(Ct,ll),b(ll,el),b(l,nl),b(l,al),b(al,cl),b(cl,il),b(cl,rl),b(cl,ol),b(al,ul),b(al,dl),b(dl,hl),b(al,ml),b(al,vl),b(vl,pl),bl=!0,wl||($l=[R(r,"click",t[14]),R(I,"click",t[15]),R(_,"click",t[16]),R(F,"click",t[17]),R(ct,"click",t[18]),R(mt,"click",t[19]),J(Ot=Dl.call(null,Nt,.161===t[3])),R(Nt,"click",t[20]),J(zt=Dl.call(null,St,.2===t[3])),R(St,"click",t[21]),J(_t=Dl.call(null,Ut,.25===t[3])),R(Ut,"click",t[22]),J(Xt=Dl.call(null,Yt,"SMALL"===t[4])),R(Yt,"click",t[23]),J(Zt=Dl.call(null,Qt,"BASE"===t[4])),R(Qt,"click",t[24]),J(sl=Dl.call(null,ll,"LARGE"===t[4])),R(ll,"click",t[25]),J(fl=Dl.call(null,dl,!1===t[6])),R(dl,"click",t[26]),J(gl=Dl.call(null,vl,!0===t[6])),R(vl,"click",t[27])],wl=!0)},p(l,[e]){t=l,(!bl||1&e)&&G(y,t[0]),(!bl||2&e)&&G(D,t[1]),(!bl||4&e)&&G(ht,t[2]),Ot&&Z(Ot.update)&&8&e&&Ot.update.call(null,.161===t[3]),zt&&Z(zt.update)&&8&e&&zt.update.call(null,.2===t[3]),_t&&Z(_t.update)&&8&e&&_t.update.call(null,.25===t[3]),(!bl||32&e)&&yl!==(yl=t[5]?"SM":"SMALL")&&G(Wt,yl),Xt&&Z(Xt.update)&&16&e&&Xt.update.call(null,"SMALL"===t[4]),Zt&&Z(Zt.update)&&16&e&&Zt.update.call(null,"BASE"===t[4]),(!bl||32&e)&&Tl!==(Tl=t[5]?"LG":"LARGE")&&G(el,Tl),sl&&Z(sl.update)&&16&e&&sl.update.call(null,"LARGE"===t[4]),fl&&Z(fl.update)&&64&e&&fl.update.call(null,!1===t[6]),gl&&Z(gl.update)&&64&e&&gl.update.call(null,!0===t[6])},i(t){bl||(A((()=>{xl&&xl.end(1),El||(El=O(l,rt,{delay:Cl})),El.start()})),bl=!0)},o(t){El&&El.invalidate(),xl=tt(l,rt,{delay:0,duration:jl}),bl=!1},d(t){t&&p(l),t&&xl&&xl.end(),wl=!1,lt($l)}}}const Cl=200,jl=100;function Dl(t,l){return t.classList.toggle("active-button",l),{update(l){t.classList.toggle("active-button",l)}}}function Vl(t,l,e){let s,n,a,c,i,r,o;const{isMobile:u}=y("screen");W(t,u,(t=>e(5,r=t)));const d=Xt("limit");W(t,d,(t=>e(0,s=t)));const h=Xt("throttle");W(t,h,(t=>e(1,n=t)));const f=Xt("galleryCols");W(t,f,(t=>e(2,a=t)));const m=Xt("galleryImageSize");W(t,m,(t=>e(4,i=t)));const v=Xt("swipeDistance");W(t,v,(t=>e(3,c=t)));const p=Xt("nsfw");W(t,p,(t=>e(6,o=t)));return[s,n,a,c,i,r,o,u,d,h,f,m,v,p,()=>{s>5&&Kt("limit",s-5)},()=>{s<95&&Kt("limit",s+5)},()=>{n>1&&Kt("throttle",n-1)},()=>{n<5&&Kt("throttle",n+1)},()=>{a>1&&Kt("galleryCols",ot(a))},()=>{a<5&&Kt("galleryCols",ut(a))},()=>Kt("swipeDistance",.161),()=>Kt("swipeDistance",.2),()=>Kt("swipeDistance",.25),()=>Kt("galleryImageSize","SMALL"),()=>Kt("galleryImageSize","BASE"),()=>Kt("galleryImageSize","LARGE"),()=>Kt("nsfw",!1),()=>Kt("nsfw",!0)]}class Fl extends i{constructor(t){super(),r(this,t,Vl,Pl,o,{})}}function Rl(t,l,e){const s=t.slice();return s[18]=l[e],s}function ql(t){let l,e,s,n,a,c=t[4],i=[];for(let r=0;r<c.length;r+=1)i[r]=Gl(Rl(t,c,r));return{c(){l=u("section"),e=u("p"),s=d("Favorites"),n=h(),a=u("div");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){l=f(t,"SECTION",{class:!0});var c=m(l);e=f(c,"P",{class:!0});var r=m(e);s=v(r,"Favorites"),r.forEach(p),n=g(c),a=f(c,"DIV",{id:!0,class:!0});var o=m(a);for(let l=0;l<i.length;l+=1)i[l].l(o);o.forEach(p),c.forEach(p),this.h()},h(){E(e,"class","text-4xl font-medium"),E(a,"id","favorites"),E(a,"class","flex flex-row flex-wrap svelte-oxphnz"),E(l,"class","svelte-oxphnz")},m(t,c){x(t,l,c),b(l,e),b(e,s),b(l,n),b(l,a);for(let l=0;l<i.length;l+=1)i[l].m(a,null)},p(t,l){if(1552&l){let e;for(c=t[4],e=0;e<c.length;e+=1){const s=Rl(t,c,e);i[e]?i[e].p(s,l):(i[e]=Gl(s),i[e].c(),i[e].m(a,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=c.length}},d(t){t&&p(l),nt(i,t)}}}function Gl(t){let l,e,s,n,a,c=t[18]+"";function i(){return t[11](t[18])}function r(){return t[12](t[18])}return{c(){l=u("button"),e=d(c),s=h(),this.h()},l(t){l=f(t,"BUTTON",{class:!0});var n=m(l);e=v(n,c),s=g(n),n.forEach(p),this.h()},h(){E(l,"class","select-none svelte-oxphnz")},m(t,c){x(t,l,c),b(l,e),b(l,s),n||(a=[J(Jl.call(null,l)),J(Zl.call(null,l)),R(l,"longpress",i),R(l,"click",r)],n=!0)},p(l,s){t=l,16&s&&c!==(c=t[18]+"")&&G(e,c)},d(t){t&&p(l),n=!1,lt(a)}}}function Hl(t){let l,e,s,n,a,c,i,r,o,w,$,y,T,I;return{c(){l=u("div"),e=u("button"),s=d("SAFE"),a=h(),c=u("button"),i=d("UNSAFE"),o=h(),w=u("button"),$=d("EXPLICIT"),this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0});var n=m(l);e=f(n,"BUTTON",{class:!0});var r=m(e);s=v(r,"SAFE"),r.forEach(p),a=g(n),c=f(n,"BUTTON",{class:!0});var u=m(c);i=v(u,"UNSAFE"),u.forEach(p),o=g(n),w=f(n,"BUTTON",{class:!0});var d=m(w);$=v(d,"EXPLICIT"),d.forEach(p),n.forEach(p),this.h()},h(){E(e,"class","svelte-oxphnz"),E(c,"class","svelte-oxphnz"),E(w,"class","svelte-oxphnz"),E(l,"id","rating-buttons"),E(l,"class","flex flex-row items-center justify-between svelte-oxphnz")},m(u,d){x(u,l,d),b(l,e),b(e,s),b(l,a),b(l,c),b(c,i),b(l,o),b(l,w),b(w,$),T||(I=[J(n=te.call(null,e,"SAFE"===t[1])),R(e,"click",t[13]),J(r=te.call(null,c,"UNSAFE"===t[1])),R(c,"click",t[14]),J(y=te.call(null,w,"EXPLICIT"===t[1])),R(w,"click",t[15])],T=!0)},p(t,l){n&&Z(n.update)&&2&l&&n.update.call(null,"SAFE"===t[1]),r&&Z(r.update)&&2&l&&r.update.call(null,"UNSAFE"===t[1]),y&&Z(y.update)&&2&l&&y.update.call(null,"EXPLICIT"===t[1])},d(t){t&&p(l),T=!1,lt(I)}}}function Yl(t){let l,e,s,n,a,c,i,r,o,$,y,T,I,N,k=!dt(t[4]),S=t[2]?"Searching...":"Search";s=new ht({props:{tags:t[0],onlyUnique:!0,allowBlur:!0}});let L=k&&ql(t),z=t[3]&&Hl(t);return{c(){l=u("main"),e=u("div"),ft(s.$$.fragment),n=h(),a=u("div"),L&&L.c(),c=h(),z&&z.c(),i=h(),r=u("button"),o=d(S),this.h()},l(t){l=f(t,"MAIN",{class:!0});var u=m(l);e=f(u,"DIV",{id:!0,class:!0});var d=m(e);mt(s.$$.fragment,d),d.forEach(p),n=g(u),a=f(u,"DIV",{class:!0});var h=m(a);L&&L.l(h),h.forEach(p),c=g(u),z&&z.l(u),i=g(u),r=f(u,"BUTTON",{id:!0,class:!0});var E=m(r);o=v(E,S),E.forEach(p),u.forEach(p),this.h()},h(){E(e,"id","tags-input"),E(e,"class","svelte-oxphnz"),E(a,"class","flex-1 rounded overflow-y-auto"),E(r,"id","search-button"),E(r,"class","py-2 text-4xl rounded-lg svelte-oxphnz"),E(l,"class","flex flex-col items-stretch space-y-2 svelte-oxphnz")},m(u,d){x(u,l,d),b(l,e),vt(s,e,null),b(l,n),b(l,a),L&&L.m(a,null),b(l,c),z&&z.m(l,null),b(l,i),b(l,r),b(r,o),T=!0,I||(N=R(r,"click",t[8]),I=!0)},p(e,[n]){t=e;const c={};1&n&&(c.tags=t[0]),s.$set(c),16&n&&(k=!dt(t[4])),k?L?L.p(t,n):(L=ql(t),L.c(),L.m(a,null)):L&&(L.d(1),L=null),t[3]?z?z.p(t,n):(z=Hl(t),z.c(),z.m(l,i)):z&&(z.d(1),z=null),(!T||4&n)&&S!==(S=t[2]?"Searching...":"Search")&&G(o,S)},i(t){T||(w(s.$$.fragment,t),A((()=>{y&&y.end(1),$||($=O(l,rt,{delay:Wl})),$.start()})),T=!0)},o(t){Y(s.$$.fragment,t),$&&$.invalidate(),y=tt(l,rt,{delay:0,duration:Xl}),T=!1},d(t){t&&p(l),pt(s),L&&L.d(),z&&z.d(),t&&y&&y.end(),I=!1,N()}}}const Wl=200,Xl=100,Kl={SAFE:"rating:safe",UNSAFE:"rating:questionable",EXPLICIT:"rating:explicit"},Ql=V(["","rating:safe","rating:questionable","rating:explicit"]);function Jl(t,l=1500){function e(){const e=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress"))}),l),s=()=>{clearTimeout(e),t.removeEventListener("mousemove",s),t.removeEventListener("mouseup",s)};t.addEventListener("mousemove",s),t.addEventListener("mouseup",s)}function s(){const e=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress"))}),l),s=()=>{clearTimeout(e),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",s)};t.addEventListener("touchmove",s),t.addEventListener("touchend",s)}return t.addEventListener("mousedown",e),t.addEventListener("touchstart",s),{destroy(){t.removeEventListener("mousedown",e),t.removeEventListener("touchstart",s)}}}function Zl(t){function l(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}return t.addEventListener("oncontextmenu",l),{destroy(){t.removeEventListener("oncontextmenu",l)}}}function te(t,l){return t.classList.toggle("active-button",l),{update(l){t.classList.toggle("active-button",l)}}}function le(t,l,e){let s,n,a,c;W(t,Wt,(t=>e(16,s=t))),W(t,al,(t=>e(2,n=t)));const{tags:i}=Gt;W(t,i,(t=>e(4,c=t)));const r=X(),o=Xt("nsfw");W(t,o,(t=>e(3,a=t)));var u=Ql(s),d="";function h(t){e(1,d=d!==t?t:"")}function f(t){gt(t,u)||e(0,u=D(t,u))}function m(t){gt(t,c)&&Et(i,c=V([t],c),c)}T((()=>{document.querySelector(".svelte-tags-input").focus()}));return[u,d,n,a,c,i,o,h,async function(){if(n)return;const t=d?null==Kl?void 0:Kl[d]:"";r("search",[...u,a?t:"rating:safe"])},f,m,t=>m(t),t=>f(t),()=>h("SAFE"),()=>h("UNSAFE"),()=>h("EXPLICIT")]}class ee extends i{constructor(t){super(),r(this,t,le,Yl,o,{})}}const se={tags:S("favorites:tags",[]),images:S("favorites:images",[])};function ne(t){const l=B(se.tags);let e=l;e=j(M(t),l)?V([t],e):D(t,e),se.tags.set(e)}function ae(t){const l=B(se.images);let e=l;const s=z(null,j(xt("id",t.id),l));e=s?V([s],e):D(t,e),se.images.set(e)}se.tags.subscribe((t=>Gt.tags.set(t))),se.images.subscribe((t=>Gt.images.set(t)));function ce(t,l,e){const s=t.slice();return s[21]=l[e],s}function ie(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-fill text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function re(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-fill text-3xl text-yellow-300")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function oe(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-line text-4xl md:text-5xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function ue(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-fill text-4xl md:text-5xl text-yellow-300")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function de(t){let l,e,s,n,a,c,i=t[6]?"":"Add";function r(){return t[18](t[21])}return{c(){l=u("button"),e=d(i),s=h(),n=u("i"),this.h()},l(t){l=f(t,"BUTTON",{class:!0});var a=m(l);e=v(a,i),s=g(a),n=f(a,"I",{class:!0}),m(n).forEach(p),a.forEach(p),this.h()},h(){E(n,"class","ri-add-line text-4xl md:text-5xl"),E(l,"class","icon-button svelte-1pzovkq")},m(t,i){x(t,l,i),b(l,e),b(l,s),b(l,n),a||(c=R(l,"click",r),a=!0)},p(l,s){t=l,64&s&&i!==(i=t[6]?"":"Add")&&G(e,i)},d(t){t&&p(l),a=!1,c()}}}function he(t){let l,e,s,n,a,c,i=t[6]?"":"Remove";function r(){return t[17](t[21])}return{c(){l=u("button"),e=d(i),s=h(),n=u("i"),this.h()},l(t){l=f(t,"BUTTON",{class:!0});var a=m(l);e=v(a,i),s=g(a),n=f(a,"I",{class:!0}),m(n).forEach(p),a.forEach(p),this.h()},h(){E(n,"class","ri-subtract-line text-4xl md:text-5xl"),E(l,"class","icon-button svelte-1pzovkq")},m(t,i){x(t,l,i),b(l,e),b(l,s),b(l,n),a||(c=R(l,"click",r),a=!0)},p(l,s){t=l,64&s&&i!==(i=t[6]?"":"Remove")&&G(e,i)},d(t){t&&p(l),a=!1,c()}}}function fe(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-line text-4xl md:text-5xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function me(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-fill text-4xl md:text-5xl text-yellow-300")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function ve(t){let l,e,s,n,a,c,i,r,o,w,$,y=t[21]+"";function T(t,l){return(null==a||12&l)&&(a=!!t[3](t[21])),a?he:de}let I=T(t,-1),N=I(t);function A(t,l){return(null==r||36&l)&&(r=!!t[5](t[21])),r?me:fe}let O=A(t,-1),k=O(t);function S(){return t[19](t[21])}return{c(){l=u("div"),e=u("p"),s=d(y),n=h(),N.c(),c=h(),i=u("button"),k.c(),o=h(),this.h()},l(t){l=f(t,"DIV",{class:!0});var a=m(l);e=f(a,"P",{class:!0});var r=m(e);s=v(r,y),r.forEach(p),n=g(a),N.l(a),c=g(a),i=f(a,"BUTTON",{class:!0});var u=m(i);k.l(u),u.forEach(p),o=g(a),a.forEach(p),this.h()},h(){E(e,"class","truncate flex-1 md:text-lg font-light svelte-1pzovkq"),E(i,"class","icon-button svelte-1pzovkq"),E(l,"class","p-4 flex flex-row rounded-lg items-center svelte-1pzovkq")},m(t,a){x(t,l,a),b(l,e),b(e,s),b(l,n),N.m(l,null),b(l,c),b(l,i),k.m(i,null),b(l,o),w||($=R(i,"click",S),w=!0)},p(e,n){t=e,4&n&&y!==(y=t[21]+"")&&G(s,y),I===(I=T(t,n))&&N?N.p(t,n):(N.d(1),N=I(t),N&&(N.c(),N.m(l,c))),O!==(O=A(t,n))&&(k.d(1),k=O(t),k&&(k.c(),k.m(i,null)))},d(t){t&&p(l),N.d(),k.d(),w=!1,$()}}}function pe(t){let l,e,s,n;return{c(){l=u("button"),e=d("CLOSE"),this.h()},l(t){l=f(t,"BUTTON",{id:!0,class:!0});var s=m(l);e=v(s,"CLOSE"),s.forEach(p),this.h()},h(){E(l,"id","close-button"),E(l,"class","tracking-wider svelte-1pzovkq")},m(a,c){x(a,l,c),b(l,e),s||(n=R(l,"click",t[20]),s=!0)},p:$,d(t){t&&p(l),s=!1,n()}}}function ge(t){var l;let e,s,n,a,c,i,r,o,w,y,T,I,N,A,O,k,S,L,z,B,U,M,_,P,C,j,D,V,F,q,H,Y=(null==(l=t[1])?void 0:l.artist)+"";function W(t,l){return t[4]?re:ie}let X=W(t),K=X(t);function Q(t,l){var e;return(null==j||34&l)&&(j=!!t[5](null==(e=t[1])?void 0:e.artist)),j?ue:oe}let J=Q(t,-1),Z=J(t),tt=t[2],et=[];for(let u=0;u<tt.length;u+=1)et[u]=ve(ce(t,tt,u));let st=t[0]&&pe(t);return{c(){e=u("article"),s=u("div"),n=u("button"),K.c(),a=h(),c=u("a"),i=u("i"),w=h(),y=u("button"),T=u("i"),I=h(),N=u("a"),A=u("i"),k=h(),S=u("section"),L=u("div"),z=u("p"),B=d("Artist:"),U=h(),M=u("p"),_=d(Y),P=h(),C=u("button"),Z.c(),D=h(),V=u("div");for(let t=0;t<et.length;t+=1)et[t].c();F=h(),st&&st.c(),this.h()},l(t){e=f(t,"ARTICLE",{class:!0});var l=m(e);s=f(l,"DIV",{class:!0});var r=m(s);n=f(r,"BUTTON",{class:!0});var o=m(n);K.l(o),o.forEach(p),a=g(r),c=f(r,"A",{class:!0,href:!0,download:!0});var u=m(c);i=f(u,"I",{class:!0}),m(i).forEach(p),u.forEach(p),w=g(r),y=f(r,"BUTTON",{class:!0});var d=m(y);T=f(d,"I",{class:!0}),m(T).forEach(p),d.forEach(p),I=g(r),N=f(r,"A",{class:!0,href:!0,target:!0});var h=m(N);A=f(h,"I",{class:!0}),m(A).forEach(p),h.forEach(p),r.forEach(p),k=g(l),S=f(l,"SECTION",{class:!0});var E=m(S);L=f(E,"DIV",{class:!0});var x=m(L);z=f(x,"P",{class:!0});var b=m(z);B=v(b,"Artist:"),b.forEach(p),U=g(x),M=f(x,"P",{class:!0});var $=m(M);_=v($,Y),$.forEach(p),x.forEach(p),P=g(E),C=f(E,"BUTTON",{class:!0});var O=m(C);Z.l(O),O.forEach(p),E.forEach(p),D=g(l),V=f(l,"DIV",{id:!0,class:!0});var j=m(V);for(let e=0;e<et.length;e+=1)et[e].l(j);j.forEach(p),F=g(l),st&&st.l(l),l.forEach(p),this.h()},h(){var l,a;E(n,"class","icon-button svelte-1pzovkq"),E(i,"class","ri-download-fill text-4xl"),E(c,"class","icon-button svelte-1pzovkq"),E(c,"href",r=wl(t[1])),E(c,"download",o=null==(l=t[1])?void 0:l.file_name),E(T,"class","ri-file-copy-fill text-4xl"),E(y,"class","icon-button svelte-1pzovkq"),E(A,"class","ri-phone-find-line text-4xl"),E(N,"class","icon-button svelte-1pzovkq"),E(N,"href",O=null==(a=t[1])?void 0:a.source),E(N,"target","_blank"),E(s,"class","p-2 flex flex-row justify-between space-x-4 svelte-1pzovkq"),E(z,"class","text-lg"),E(M,"class","text-xl font-light"),E(L,"class","flex-1 flex flex-col"),E(C,"class","icon-button svelte-1pzovkq"),E(S,"class","p-4 flex flex-row svelte-1pzovkq"),E(V,"id","tags"),E(V,"class","flex flex-col svelte-1pzovkq"),E(e,"class","flex flex-col space-y-2 svelte-1pzovkq")},m(l,r){x(l,e,r),b(e,s),b(s,n),K.m(n,null),b(s,a),b(s,c),b(c,i),b(s,w),b(s,y),b(y,T),b(s,I),b(s,N),b(N,A),b(e,k),b(e,S),b(S,L),b(L,z),b(z,B),b(L,U),b(L,M),b(M,_),b(S,P),b(S,C),Z.m(C,null),b(e,D),b(e,V);for(let t=0;t<et.length;t+=1)et[t].m(V,null);b(e,F),st&&st.m(e,null),q||(H=[R(n,"click",t[15]),R(y,"click",t[11]),R(C,"click",t[16])],q=!0)},p(t,[l]){var s,a,i;if(X!==(X=W(t))&&(K.d(1),K=X(t),K&&(K.c(),K.m(n,null))),2&l&&r!==(r=wl(t[1]))&&E(c,"href",r),2&l&&o!==(o=null==(s=t[1])?void 0:s.file_name)&&E(c,"download",o),2&l&&O!==(O=null==(a=t[1])?void 0:a.source)&&E(N,"href",O),2&l&&Y!==(Y=(null==(i=t[1])?void 0:i.artist)+"")&&G(_,Y),J!==(J=Q(t,l))&&(Z.d(1),Z=J(t),Z&&(Z.c(),Z.m(C,null))),108&l){let e;for(tt=t[2],e=0;e<tt.length;e+=1){const s=ce(t,tt,e);et[e]?et[e].p(s,l):(et[e]=ve(s),et[e].c(),et[e].m(V,null))}for(;e<et.length;e+=1)et[e].d(1);et.length=tt.length}t[0]?st?st.p(t,l):(st=pe(t),st.c(),st.m(e,null)):st&&(st.d(1),st=null)},i:$,o:$,d(t){t&&p(e),K.d(),Z.d(),nt(et,t),st&&st.d(),q=!1,lt(H)}}}function Ee(t,l,e){let s,n,a,c,i,r,o,u,d;W(t,Yt,(t=>e(1,i=t))),W(t,Wt,(t=>e(12,r=t)));const{tags:h,images:f}=Gt;W(t,h,(t=>e(14,u=t))),W(t,f,(t=>e(13,o=t)));const{isMobile:m}=y("screen");W(t,m,(t=>e(6,d=t)));const v=X();let{closable:p=!1}=l;return t.$$set=t=>{"closable"in t&&e(0,p=t.closable)},t.$$.update=()=>{2&t.$$.dirty&&e(2,s=z([],null==i?void 0:i.tags)),4096&t.$$.dirty&&e(3,n=t=>gt(t,r)),8194&t.$$.dirty&&e(4,a=void 0!==j(xt("id",null==i?void 0:i.id),o)),16384&t.$$.dirty&&e(5,c=t=>gt(t,u))},[p,i,s,n,a,c,d,h,f,m,v,function(){bt.write({url:null==i?void 0:i.file_url})},r,o,u,()=>ae(i),()=>ne(null==i?void 0:i.artist),t=>ul(t),t=>ul(t),t=>ne(t),()=>v("close")]}class xe extends i{constructor(t){super(),r(this,t,Ee,ge,o,{closable:0})}}function be(t){let l,e,s,n,a;return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){l.src!==(e=wl(t[0]))&&E(l,"src",e),E(l,"alt","current"),E(l,"class","svelte-azo6by")},m(e,c){x(e,l,c),t[31](l),n||(a=J(s=kl.call(null,l,[t[0],!0])),n=!0)},p(t,n){1&n[0]&&l.src!==(e=wl(t[0]))&&E(l,"src",e),s&&Z(s.update)&&1&n[0]&&s.update.call(null,[t[0],!0])},d(e){e&&p(l),t[31](null),n=!1,a()}}}function we(t){let l,e=t[0],s=Te(t);return{c(){s.c(),l=kt()},l(t){s.l(t),l=kt()},m(t,e){s.m(t,e),x(t,l,e)},p(t,n){1&n[0]&&o(e,e=t[0])?(s.d(1),s=Te(t),s.c(),s.m(l.parentNode,l)):s.p(t,n)},d(t){t&&p(l),s.d(t)}}}function $e(t){let l,e,s,n,a;return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){l.src!==(e=bl(t[0]))&&E(l,"src",e),E(l,"alt","current"),E(l,"class","svelte-azo6by")},m(e,c){x(e,l,c),t[30](l),n||(a=J(s=kl.call(null,l,[t[0],!0])),n=!0)},p(t,n){1&n[0]&&l.src!==(e=bl(t[0]))&&E(l,"src",e),s&&Z(s.update)&&1&n[0]&&s.update.call(null,[t[0],!0])},d(e){e&&p(l),t[30](null),n=!1,a()}}}function ye(t){let l,e,s,n,a,c,i,r,o,w,$,y,T,I,N,O,k,S,L,z,B,U,M,_,P,C=!1,j=Math.floor(t[8])+"",D=Math.floor(t[7])+"";function V(){cancelAnimationFrame(c),e.paused||(c=St(V),C=!0),t[27].call(e)}return{c(){l=u("div"),e=u("video"),s=u("track"),n=u("source"),i=h(),r=u("div"),o=u("button"),w=u("i"),$=h(),y=u("button"),T=u("i"),I=h(),N=u("button"),O=u("i"),k=h(),S=u("div"),L=h(),z=u("p"),B=d(j),U=d(" / "),M=d(D),this.h()},l(t){l=f(t,"DIV",{});var a=m(l);e=f(a,"VIDEO",{class:!0,width:!0,height:!0});var c=m(e);s=f(c,"TRACK",{kind:!0}),n=f(c,"SOURCE",{src:!0}),c.forEach(p),i=g(a),r=f(a,"DIV",{id:!0,class:!0});var u=m(r);o=f(u,"BUTTON",{class:!0});var d=m(o);w=f(d,"I",{class:!0}),m(w).forEach(p),d.forEach(p),$=g(u),y=f(u,"BUTTON",{class:!0});var h=m(y);T=f(h,"I",{class:!0}),m(T).forEach(p),h.forEach(p),I=g(u),N=f(u,"BUTTON",{class:!0});var E=m(N);O=f(E,"I",{class:!0}),m(O).forEach(p),E.forEach(p),k=g(u),S=f(u,"DIV",{class:!0}),m(S).forEach(p),L=g(u),z=f(u,"P",{class:!0});var x=m(z);B=v(x,j),U=v(x," / "),M=v(x,D),x.forEach(p),u.forEach(p),a.forEach(p),this.h()},h(){s.default=!0,E(s,"kind","captions"),n.src!==(a=wl(t[0]))&&E(n,"src",a),E(e,"class","relative h-screen bg-black"),E(e,"width",t[4]),E(e,"height",t[12]),e.loop=!0,void 0===t[7]&&A((()=>t[28].call(e))),E(w,"class","ri-play-line text-5xl"),E(o,"class","w-16 h-16 z-10"),E(T,"class","ri-skip-forward-line text-5xl"),E(y,"class","w-16 h-16 z-10"),E(O,"class","ri-skip-back-line text-5xl"),E(N,"class","w-16 h-16 z-10"),E(S,"class","flex-1"),E(z,"class","pb-2"),E(r,"id","video-buttons"),E(r,"class","fixed flex flex-row items-center pl-2 pr-4 z-10 svelte-azo6by")},m(a,c){x(a,l,c),b(l,e),b(e,s),b(e,n),t[26](e),b(l,i),b(l,r),b(r,o),b(o,w),b(r,$),b(r,y),b(y,T),b(r,I),b(r,N),b(N,O),b(r,k),b(r,S),b(r,L),b(r,z),b(z,B),b(z,U),b(z,M),_||(P=[J(ze.call(null,e)),R(e,"timeupdate",V),R(e,"durationchange",t[28]),R(e,"click",t[29]),R(o,"click",t[19]),R(o,"touchend",t[19],{passive:!0}),R(y,"click",t[20]),R(y,"touchend",t[20],{passive:!0}),R(N,"click",t[21]),R(N,"touchend",t[21],{passive:!0})],_=!0)},p(t,l){1&l[0]&&n.src!==(a=wl(t[0]))&&E(n,"src",a),16&l[0]&&E(e,"width",t[4]),4096&l[0]&&E(e,"height",t[12]),!C&&256&l[0]&&!isNaN(t[8])&&(e.currentTime=t[8]),C=!1,256&l[0]&&j!==(j=Math.floor(t[8])+"")&&G(B,j),128&l[0]&&D!==(D=Math.floor(t[7])+"")&&G(M,D)},d(e){e&&p(l),t[26](null),_=!1,lt(P)}}}function Te(t){let l;function e(t,l){var e;return(null==(e=t[11])?void 0:e[t[0].id])?ye:$e}let s=e(t),n=s(t);return{c(){n.c(),l=kt()},l(t){n.l(t),l=kt()},m(t,e){n.m(t,e),x(t,l,e)},p(t,a){s===(s=e(t))&&n?n.p(t,a):(n.d(1),n=s(t),n&&(n.c(),n.m(l.parentNode,l)))},d(t){n.d(t),t&&p(l)}}}function Ie(t){let l,e,s,n,a,c,i,r,o,d,v,$,y,T,I,N;function k(t,l){var e;return(null==(e=t[0])?void 0:e.video)?we:be}let S=k(t),L=S(t);return $=new xe({props:{closable:!0}}),$.$on("close",t[33]),{c(){l=u("div"),e=u("div"),s=u("img"),a=h(),L.c(),c=h(),i=u("img"),d=h(),v=u("div"),ft($.$$.fragment),this.h()},l(t){l=f(t,"DIV",{class:!0});var n=m(l);e=f(n,"DIV",{id:!0,class:!0,style:!0});var r=m(e);s=f(r,"IMG",{class:!0,alt:!0,src:!0}),a=g(r),L.l(r),c=g(r),i=f(r,"IMG",{class:!0,src:!0,alt:!0}),r.forEach(p),n.forEach(p),d=g(t),v=f(t,"DIV",{id:!0,style:!0,class:!0});var o=m(v);mt($.$$.fragment,o),o.forEach(p),this.h()},h(){E(s,"class","invisible svelte-azo6by"),E(s,"alt","previous"),s.src!==(n=bl(t[5]))&&E(s,"src",n),E(i,"class","invisible svelte-azo6by"),i.src!==(r=bl(t[6]))&&E(i,"src",r),E(i,"alt","next"),E(e,"id","carousel"),E(e,"class","flex flex-row w-[300vw] svelte-azo6by"),it(e,"transform","translate("+(-t[4]+t[9])+"px,"+t[10]+"px)"),E(l,"class","fixed top-0 left-0"),E(v,"id","info-container"),E(v,"style",y=t[3]?"":`transform:translateY(${t[12]+1.75*t[10]}px`),E(v,"class","svelte-azo6by")},m(n,r){x(n,l,r),b(l,e),b(e,s),b(e,a),L.m(e,null),b(e,c),b(e,i),t[32](e),x(n,d,r),x(n,v,r),vt($,v,null),T=!0,I||(N=[J(Le.call(null,s)),J(Le.call(null,i)),J(t[18].call(null,l))],I=!0)},p(t,l){(!T||32&l[0]&&s.src!==(n=bl(t[5])))&&E(s,"src",n),S===(S=k(t))&&L?L.p(t,l):(L.d(1),L=S(t),L&&(L.c(),L.m(e,c))),(!T||64&l[0]&&i.src!==(r=bl(t[6])))&&E(i,"src",r),(!T||1552&l[0])&&it(e,"transform","translate("+(-t[4]+t[9])+"px,"+t[10]+"px)"),(!T||5128&l[0]&&y!==(y=t[3]?"":`transform:translateY(${t[12]+1.75*t[10]}px`))&&E(v,"style",y)},i(t){T||(o||A((()=>{o=O(l,$t,{y:1e3}),o.start()})),w($.$$.fragment,t),T=!0)},o(t){Y($.$$.fragment,t),T=!1},d(e){e&&p(l),L.d(),t[32](null),e&&p(d),e&&p(v),pt($),I=!1,lt(N)}}}const Ne=wt(M(0),(()=>null)),Ae=t=>t>200&&t<315,Oe=t=>t>120&&t<200,ke=t=>t>0&&t<60||t>315&&t<=360,Se=t=>t>60&&t<120;function Le(t){setTimeout((()=>{t.classList.remove("invisible")}),300)}function ze(t){null==t||t.play()}function Be(t,l,e){let s,n,a,c,i,r,o,u,d,h,f;W(t,Ht,(t=>e(23,o=t))),W(t,xl,(t=>e(11,h=t)));const m=X();let{image:v=null}=l;const{width:p,height:g}=y("screen");W(t,p,(t=>e(4,i=t))),W(t,g,(t=>e(12,f=t)));var E=null;const x=Xt("swipeDistance");W(t,x,(t=>e(22,r=t)));var b=null,w=null,$=null,T=!1;const I=k(null);W(t,I,(t=>e(24,u=t)));const N=Nt(0,{duration:50});function A(){d>s&&("DOWN"===u&&Et(N,d=0,d),"UP"===u&&(Et(N,d=0,d),e(3,T=!0)),"LEFT"===u&&m("imagechange",$),"RIGHT"===u&&m("imagechange",w),m("swipe",u)),Et(I,u=null,u),Et(N,d=0,d)}W(t,N,(t=>e(25,d=t)));var O=null;var S=0,L=0;return t.$$set=t=>{"image"in t&&e(0,v=t.image)},t.$$.update=()=>{if(4194320&t.$$.dirty[0]&&(s=z(120,Ne(i*r))),4194320&t.$$.dirty[0]&&(n=z(450,Ne(i*r*3))),8388609&t.$$.dirty[0]){const t=yt(M(v))(o);e(5,w=o[Tt(t-1,0)]),e(6,$=o[It(t+1,C(o))])}var l,h,f;50331648&t.$$.dirty[0]&&e(9,a="RIGHT"===u?d:"LEFT"===u?-d:0),50331648&t.$$.dirty[0]&&e(10,c="DOWN"===u?d:"UP"===u?-d:0),14&t.$$.dirty[0]&&(l=b,h=E,f=T,O&&l&&(f?O.unbind(h,"pan"):(O.bind(h,"pan",(function(t){const l=t.detail.data[0].directionFromOrigin,e=t.detail.data[0].distanceFromOrigin;let s=null;Ae(l)?s="DOWN":Oe(l)?s="LEFT":ke(l)?s="RIGHT":Se(l)&&(s="UP"),s!==u?(Et(I,u=s,u),Et(N,d=0,d)):Et(N,d=e,d),e>n&&A()})),window.addEventListener("touchend",A))))},[v,E,b,T,i,w,$,S,L,a,c,h,f,p,g,x,I,N,function(t){if(t&&!O)return O=At.Region(t),{destroy(){O.unbind(E,"pan"),window.removeEventListener("touchend",A),O=null}}},function(){(null==v?void 0:v.video)&&void 0!==b.paused&&((null==b?void 0:b.paused)?null==b||b.play():null==b||b.pause())},function(){(null==v?void 0:v.video)&&(null==b||b.pause(),e(2,b.currentTime=Math.min((null==b?void 0:b.currentTime)+5,S),b),null==b||b.play())},function(){(null==v?void 0:v.video)&&(null==b||b.pause(),e(2,b.currentTime=Math.max((null==b?void 0:b.currentTime)-5,0),b),null==b||b.play())},r,o,u,d,function(t){Ot[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(){L=this.currentTime,e(8,L)},function(){S=this.duration,e(7,S)},t=>b.play(),function(t){Ot[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(t){Ot[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(t){Ot[t?"unshift":"push"]((()=>{e(1,E=t)}))},()=>{e(3,T=!1)}]}class Ue extends i{constructor(t){super(),r(this,t,Be,Ie,o,{image:0},[-1,-1])}}const{window:Me}=Lt;function _e(t){let l,e,s,n,a,c;function i(t,l){return t[7]?Ce:Pe}let r=i(t),o=r(t);return{c(){l=u("button"),o.c(),this.h()},l(t){l=f(t,"BUTTON",{id:!0,class:!0});var e=m(l);o.l(e),e.forEach(p),this.h()},h(){E(l,"id","backend-button"),E(l,"class","svelte-lxgmgj")},m(e,s){x(e,l,s),o.m(l,null),n=!0,a||(c=R(l,"click",t[26]),a=!0)},p(e,s){r===(r=i(t=e))&&o?o.p(t,s):(o.d(1),o=r(t),o&&(o.c(),o.m(l,null)))},i(t){n||(A((()=>{s&&s.end(1),e||(e=O(l,rt,{delay:Wl})),e.start()})),n=!0)},o(t){e&&e.invalidate(),s=tt(l,rt,{duration:Xl}),n=!1},d(t){t&&p(l),o.d(),t&&s&&s.end(),a=!1,c()}}}function Pe(t){let l;return{c(){l=d(t[10])},l(e){l=v(e,t[10])},m(t,e){x(t,l,e)},p(t,e){1024&e[0]&&G(l,t[10])},d(t){t&&p(l)}}}function Ce(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-gallery-line text-3xl")},m(t,e){x(t,l,e)},p:$,d(t){t&&p(l)}}}function je(t){let l,e,s=t[1]&&_e(t);return{c(){l=u("section"),s&&s.c(),this.h()},l(t){l=f(t,"SECTION",{slot:!0,class:!0});var e=m(l);s&&s.l(e),e.forEach(p),this.h()},h(){E(l,"slot","left"),E(l,"class","flex-1 flex flex-row")},m(t,n){x(t,l,n),s&&s.m(l,null),e=!0},p(t,e){t[1]?s?(s.p(t,e),2&e[0]&&w(s,1)):(s=_e(t),s.c(),w(s,1),s.m(l,null)):s&&(et(),Y(s,1,1,(()=>{s=null})),st())},i(t){e||(w(s),e=!0)},o(t){Y(s),e=!1},d(t){t&&p(l),s&&s.d()}}}function De(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-settings-2-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function Ve(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-close-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function Fe(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-search-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function Re(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-close-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function qe(t){let l,e,s,n,a,c,i,r,o;function d(t,l){return t[5]?Ve:De}let v=d(t),w=v(t);function $(t,l){return t[1]?Re:Fe}let y=$(t),T=y(t);return{c(){l=u("section"),e=u("div"),s=u("i"),n=h(),a=u("div"),w.c(),c=h(),i=u("div"),T.c(),this.h()},l(t){l=f(t,"SECTION",{slot:!0,class:!0});var r=m(l);e=f(r,"DIV",{id:!0,class:!0});var o=m(e);s=f(o,"I",{class:!0}),m(s).forEach(p),o.forEach(p),n=g(r),a=f(r,"DIV",{id:!0,class:!0});var u=m(a);w.l(u),u.forEach(p),c=g(r),i=f(r,"DIV",{id:!0,class:!0});var d=m(i);T.l(d),d.forEach(p),r.forEach(p),this.h()},h(){E(s,"class","ri-star-line text-3xl"),E(e,"id","favorites-icon"),E(e,"class","svelte-lxgmgj"),E(a,"id","settings-icon"),E(a,"class","svelte-lxgmgj"),E(i,"id","search-icon"),E(i,"class","svelte-lxgmgj"),E(l,"slot","right"),E(l,"class","flex flex-row space-x-2")},m(u,d){x(u,l,d),b(l,e),b(e,s),b(l,n),b(l,a),w.m(a,null),b(l,c),b(l,i),T.m(i,null),r||(o=[R(e,"click",t[18]),R(a,"click",t[19]),R(i,"click",t[20])],r=!0)},p(t,l){v!==(v=d(t))&&(w.d(1),w=v(t),w&&(w.c(),w.m(a,null))),y!==(y=$(t))&&(T.d(1),T=y(t),T&&(T.c(),T.m(i,null)))},d(t){t&&p(l),w.d(),T.d(),r=!1,lt(o)}}}function Ge(t){let l,e;return l=new _l({props:{blur:t[1]||t[5]}}),l.$on("imageclick",t[27]),{c(){ft(l.$$.fragment)},l(t){mt(l.$$.fragment,t)},m(t,s){vt(l,t,s),e=!0},p(t,e){const s={};34&e[0]&&(s.blur=t[1]||t[5]),l.$set(s)},i(t){e||(w(l.$$.fragment,t),e=!0)},o(t){Y(l.$$.fragment,t),e=!1},d(t){pt(l,t)}}}function He(t){let l,e,s,n,a=t[4]&&Ge(t);return{c(){l=u("article"),a&&a.c(),this.h()},l(t){l=f(t,"ARTICLE",{class:!0});var e=m(l);a&&a.l(e),e.forEach(p),this.h()},h(){E(l,"class","flex-1 flex flex-col items-stretch svelte-lxgmgj")},m(c,i){x(c,l,i),a&&a.m(l,null),e=!0,s||(n=J(t[22].call(null,l)),s=!0)},p(t,e){t[4]?a?(a.p(t,e),16&e[0]&&w(a,1)):(a=Ge(t),a.c(),w(a,1),a.m(l,null)):a&&(et(),Y(a,1,1,(()=>{a=null})),st())},i(t){e||(w(a),e=!0)},o(t){Y(a),e=!1},d(t){t&&p(l),a&&a.d(),s=!1,n()}}}function Ye(t){let l,e;return l=new Ue({props:{image:t[0]}}),l.$on("imagechange",t[28]),l.$on("swipe",t[29]),{c(){ft(l.$$.fragment)},l(t){mt(l.$$.fragment,t)},m(t,s){vt(l,t,s),e=!0},p(t,e){const s={};1&e[0]&&(s.image=t[0]),l.$set(s)},i(t){e||(w(l.$$.fragment,t),e=!0)},o(t){Y(l.$$.fragment,t),e=!1},d(t){pt(l,t)}}}function We(t){let l,e;return{c(){l=u("p"),e=d("No more images..."),this.h()},l(t){l=f(t,"P",{class:!0});var s=m(l);e=v(s,"No more images..."),s.forEach(p),this.h()},h(){E(l,"class","text-3xl text-center pb-2")},m(t,s){x(t,l,s),b(l,e)},p:$,d(t){t&&p(l)}}}function Xe(t){let l,e,s,n;return{c(){l=u("button"),e=d("More"),this.h()},l(t){l=f(t,"BUTTON",{id:!0,class:!0});var s=m(l);e=v(s,"More"),s.forEach(p),this.h()},h(){E(l,"id","more-button"),E(l,"class","mb-2 svelte-lxgmgj")},m(a,c){x(a,l,c),b(l,e),s||(n=R(l,"click",t[30]),s=!0)},p:$,d(t){t&&p(l),s=!1,n()}}}function Ke(t){let l,e,s;return e=new Fl({}),{c(){l=u("div"),ft(e.$$.fragment),this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0});var s=m(l);mt(e.$$.fragment,s),s.forEach(p),this.h()},h(){E(l,"id","settings-menu"),E(l,"class","svelte-lxgmgj")},m(t,n){x(t,l,n),vt(e,l,null),s=!0},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){Y(e.$$.fragment,t),s=!1},d(t){t&&p(l),pt(e)}}}function Qe(t){let l,e,s;return e=new ee({}),e.$on("search",t[21]),{c(){l=u("div"),ft(e.$$.fragment),this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0});var s=m(l);mt(e.$$.fragment,s),s.forEach(p),this.h()},h(){E(l,"id","search-menu"),E(l,"class","svelte-lxgmgj")},m(t,n){x(t,l,n),vt(e,l,null),s=!0},p:$,i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){Y(e.$$.fragment,t),s=!1},d(t){t&&p(l),pt(e)}}}function Je(t){let l,e,s,n;return{c(){l=u("button"),e=u("i"),this.h()},l(t){l=f(t,"BUTTON",{id:!0,class:!0});var s=m(l);e=f(s,"I",{class:!0}),m(e).forEach(p),s.forEach(p),this.h()},h(){E(e,"class","ri-arrow-up-line text-2xl text-black"),E(l,"id","back-button"),E(l,"class","svelte-lxgmgj")},m(a,c){x(a,l,c),b(l,e),s||(n=R(l,"click",t[31]),s=!0)},p:$,d(t){t&&p(l),s=!1,n()}}}function Ze(t){let l,e,s,n,a,c,i,r,u,d,f,m,v=t[8];l=new gl({props:{$$slots:{right:[qe],left:[je]},$$scope:{ctx:t}}});let E=He(t),b=t[7]&&t[0]&&Ye(t);function y(t,l){return!t[3]||t[0]||t[1]||t[5]||t[11]||!t[9]?((null==a||811&l[0])&&(a=!(!t[3]||t[0]||t[1]||t[5]||t[9]||dt(t[8]))),a?We:void 0):Xe}let T=y(t,[-1,-1]),I=T&&T(t),N=t[5]&&Ke(),A=t[1]&&Qe(t),O=t[6]&&!t[0]&&!t[1]&&!t[5]&&Je(t);return{c(){ft(l.$$.fragment),e=h(),E.c(),s=h(),b&&b.c(),n=h(),I&&I.c(),c=h(),N&&N.c(),i=h(),A&&A.c(),r=h(),O&&O.c(),u=kt()},l(t){mt(l.$$.fragment,t),e=g(t),E.l(t),s=g(t),b&&b.l(t),n=g(t),I&&I.l(t),c=g(t),N&&N.l(t),i=g(t),A&&A.l(t),r=g(t),O&&O.l(t),u=kt()},m(a,o){vt(l,a,o),x(a,e,o),E.m(a,o),x(a,s,o),b&&b.m(a,o),x(a,n,o),I&&I.m(a,o),x(a,c,o),N&&N.m(a,o),x(a,i,o),A&&A.m(a,o),x(a,r,o),O&&O.m(a,o),x(a,u,o),d=!0,f||(m=R(Me,"keyup",t[23]),f=!0)},p(t,e){const a={};1186&e[0]|256&e[1]&&(a.$$scope={dirty:e,ctx:t}),l.$set(a),256&e[0]&&o(v,v=t[8])?(et(),Y(E,1,1,$),st(),E=He(t),E.c(),w(E),E.m(s.parentNode,s)):E.p(t,e),t[7]&&t[0]?b?(b.p(t,e),129&e[0]&&w(b,1)):(b=Ye(t),b.c(),w(b,1),b.m(n.parentNode,n)):b&&(et(),Y(b,1,1,(()=>{b=null})),st()),T===(T=y(t,e))&&I?I.p(t,e):(I&&I.d(1),I=T&&T(t),I&&(I.c(),I.m(c.parentNode,c))),t[5]?N?32&e[0]&&w(N,1):(N=Ke(),N.c(),w(N,1),N.m(i.parentNode,i)):N&&(et(),Y(N,1,1,(()=>{N=null})),st()),t[1]?A?(A.p(t,e),2&e[0]&&w(A,1)):(A=Qe(t),A.c(),w(A,1),A.m(r.parentNode,r)):A&&(et(),Y(A,1,1,(()=>{A=null})),st()),!t[6]||t[0]||t[1]||t[5]?O&&(O.d(1),O=null):O?O.p(t,e):(O=Je(t),O.c(),O.m(u.parentNode,u))},i(t){d||(w(l.$$.fragment,t),w(E),w(b),w(N),w(A),d=!0)},o(t){Y(l.$$.fragment,t),Y(E),Y(b),Y(N),Y(A),d=!1},d(t){pt(l,t),t&&p(e),E.d(t),t&&p(s),b&&b.d(t),t&&p(n),I&&I.d(t),t&&p(c),N&&N.d(t),t&&p(i),A&&A.d(t),t&&p(r),O&&O.d(t),t&&p(u),f=!1,m()}}}const ts=k(0);function ls(t,l,e){let s,n,a,c,i,r,o,u,d,h,f,m=$;W(t,Yt,(t=>e(33,n=t))),W(t,Wt,(t=>e(8,i=t))),W(t,Ht,(t=>e(34,r=t))),W(t,il,(t=>e(9,u=t))),W(t,ts,(t=>e(36,d=t))),W(t,al,(t=>e(11,f=t))),t.$$.on_destroy.push((()=>m()));const{images:v}=Gt;W(t,v,(t=>e(35,o=t)));const{height:p,isMobile:g}=y("screen");W(t,p,(t=>e(25,a=t))),W(t,g,(t=>e(7,c=t)));const{navigate:E}=y("navigator"),x=Xt("backend");W(t,x,(t=>e(10,h=t)));var b=!1,w=null,T=0,I=n,N=!1,A=!0,O=!1,k=!1;function S(t){e(4,A=!1),e(1,k=!1),e(5,O=!1),setTimeout((()=>E(t)),500)}function L(t){e(0,I=t),c||S("Image")}return t.$$.update=()=>{1&t.$$.dirty[0]&&Et(Yt,n=I,n),50331648&t.$$.dirty[0]&&e(6,s=T>a),3&t.$$.dirty[0]&&document.body.classList.toggle("noscroll",k||null!==I)},[I,k,w,N,A,O,s,c,i,u,h,f,v,p,g,x,S,L,function(){Et(Wt,i=[],i),Et(Ht,r=o,r),Et(il,u=!1,u)},function(){e(1,k=!1),setTimeout((()=>{e(5,O=!O)}),jl)},function(){window.scrollTo(0,0),e(5,O=!1),setTimeout((()=>{e(1,k=!k)}),jl)},async function(t){const l=t.detail;w.getScrollElement().scrollTop=0,Et(Ht,r=[],r),await async function(t){return new Promise((l=>setTimeout(l,t)))}(210),await async function(t){if(B(al))return!1;const l=nl[B(ol)];cl.set(0),il.set(!1),Ht.set([]),al.set(!0);const[e,s]=await l.fetchImages(t,{page:B(cl),limit:B(rl)});return al.set(!1),Wt.set(t),Ht.set(s),C(s)>0&&il.set(!0),e}(l)&&e(1,k=!1)},function(t){function l(){e(24,T=w.getScrollElement().scrollTop);const t=w.getScrollElement().scrollHeight;Math.abs(window.innerHeight-Jt(6.5)+T-t)<Jt(6)||t>0&&t<window.innerHeight?e(3,N=!0):e(3,N=!1),Et(ts,d=T,d)}e(2,w=new zt(t)),w.getScrollElement().scrollTop=d,w.getScrollElement().addEventListener("scroll",l),Ht.subscribe((async()=>{w.recalculate(),await Bt(),l()}))},function(t){"Escape"===t.key&&(k&&e(1,k=!1),O?e(5,O=!1):async function(){if(b)return;b=!0,Et(Ht,r=[],r),e(5,O=!1),e(1,k=!1);const t=Math.max(200,O?200+jl:0,k?200+Xl:0);setTimeout((()=>S("Start")),t+10)}())},T,a,()=>S("Backends"),t=>L(t.detail),t=>{const l=t.detail;e(0,I=l)},t=>{"DOWN"===t.detail&&e(0,I=null)},()=>{e(3,N=!1),async function(){if(!B(il))return!1;if(B(al))return!1;const t=nl[B(ol)];al.set(!0),cl.update((t=>t+1));const[l,e]=await t.fetchImages(B(Wt),{page:B(cl),limit:B(rl)});e&&(null==e?void 0:e.length)<1&&il.set(!1),al.set(!1),Ht.set([...B(Ht),...e])}()},()=>{w.getScrollElement().scrollTo(0,0)}]}function es(t,l,e){const s=t.slice();return s[8]=l[e],s}function ss(t){let l,e,s,n,a,c;function i(){return t[7](t[8])}return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){E(l,"class","object-contain transform hover:scale-110 svelte-u94g43"),l.src!==(e=bl(t[8]))&&E(l,"src",e),E(l,"alt","adjacent")},m(e,r){x(e,l,r),a||(c=[J(s=kl.call(null,l,[t[8]])),J(n=as.call(null,l,t[8]===t[0])),R(l,"click",i)],a=!0)},p(a,c){t=a,2&c&&l.src!==(e=bl(t[8]))&&E(l,"src",e),s&&Z(s.update)&&2&c&&s.update.call(null,[t[8]]),n&&Z(n.update)&&3&c&&n.update.call(null,t[8]===t[0])},d(t){t&&p(l),a=!1,lt(c)}}}function ns(t){let l,e=t[1],s=[];for(let n=0;n<e.length;n+=1)s[n]=ss(es(t,e,n));return{c(){l=u("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0});var e=m(l);for(let l=0;l<s.length;l+=1)s[l].l(e);e.forEach(p),this.h()},h(){E(l,"id","images"),E(l,"class","flex flex-row lg:flex-col rounded-lg svelte-u94g43")},m(t,e){x(t,l,e);for(let n=0;n<s.length;n+=1)s[n].m(l,null)},p(t,[n]){if(7&n){let a;for(e=t[1],a=0;a<e.length;a+=1){const c=es(t,e,a);s[a]?s[a].p(c,n):(s[a]=ss(c),s[a].c(),s[a].m(l,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=e.length}},i:$,o:$,d(t){t&&p(l),nt(s,t)}}}function as(t,l){return t.classList.toggle("active-queue-image",l),{update(l){t.classList.toggle("active-queue-image",l)}}}function cs(t,l,e){let s,n,a,c;W(t,Yt,(t=>e(0,a=t))),W(t,Ht,(t=>e(6,c=t)));const i=X();var r=[];const{height:o}=y("screen");W(t,o,(t=>e(5,n=t)));return t.$$.update=()=>{if(32&t.$$.dirty&&e(4,s=n<1050?4:5),81&t.$$.dirty){const t=yt(M(a))(c);let l=1,n=0,i=0;for(;l<c.length&&n+i<s&&(z(null,null==c?void 0:c[t+l])&&++i,n+i!==s);)z(null,null==c?void 0:c[t-l])&&++n,++l;i<=2&&(--n,++i);const o=Tt(0,t-n),u=It(c.length,t+i);e(1,r=Ut(o,u,c))}},[a,r,i,o,s,n,c,t=>i("imagechange",t)]}class is extends i{constructor(t){super(),r(this,t,cs,ns,o,{})}}function rs(t){let l,e,s,n,a,c,i,r,o,w,$,y,T,I=t[6]+1+"",N=t[2].length+"";return{c(){l=u("section"),e=u("button"),s=u("i"),n=h(),a=u("button"),c=u("i"),i=h(),r=u("p"),o=d(I),w=d(" / "),$=d(N),this.h()},l(t){l=f(t,"SECTION",{slot:!0,class:!0});var u=m(l);e=f(u,"BUTTON",{id:!0});var d=m(e);s=f(d,"I",{class:!0}),m(s).forEach(p),d.forEach(p),n=g(u),a=f(u,"BUTTON",{id:!0});var h=m(a);c=f(h,"I",{class:!0}),m(c).forEach(p),h.forEach(p),i=g(u),r=f(u,"P",{id:!0,class:!0});var E=m(r);o=v(E,I),w=v(E," / "),$=v(E,N),E.forEach(p),u.forEach(p),this.h()},h(){E(s,"class","ri-arrow-left-s-line text-4xl md:text-5xl"),E(e,"id","previous-image-button"),E(c,"class","ri-arrow-right-s-line text-4xl md:text-5xl"),E(a,"id","next-image-button"),E(r,"id","index-indicator"),E(r,"class","ml-4 text-3xl text-center svelte-19526fs"),E(l,"slot","right"),E(l,"class","flex flex-row items-center")},m(u,d){x(u,l,d),b(l,e),b(e,s),b(l,n),b(l,a),b(a,c),b(l,i),b(l,r),b(r,o),b(r,w),b(r,$),y||(T=[R(e,"click",t[12]),R(a,"click",t[11])],y=!0)},p(t,l){64&l&&I!==(I=t[6]+1+"")&&G(o,I),4&l&&N!==(N=t[2].length+"")&&G($,N)},d(t){t&&p(l),y=!1,lt(T)}}}function os(t){let l,e,s,n,a,c,i,r,o;return{c(){l=u("img"),this.h()},l(t){l=f(t,"IMG",{id:!0,style:!0,width:!0,height:!0,src:!0,alt:!0,class:!0}),this.h()},h(){var c,i,r;E(l,"id","main-image"),E(l,"style",e=t[4]?"filter: blur(12px)":""),E(l,"width",s=null==(c=t[1])?void 0:c.width),E(l,"height",n=null==(i=t[1])?void 0:i.height),l.src!==(a=null==(r=t[1])?void 0:r.thumbnail_url)&&E(l,"src",a),E(l,"alt","main"),E(l,"class","svelte-19526fs")},m(e,s){x(e,l,s),r||(o=J(c=kl.call(null,l,[t[1],!0])),r=!0)},p(t,i){var r,o,u;16&i&&e!==(e=t[4]?"filter: blur(12px)":"")&&E(l,"style",e),2&i&&s!==(s=null==(r=t[1])?void 0:r.width)&&E(l,"width",s),2&i&&n!==(n=null==(o=t[1])?void 0:o.height)&&E(l,"height",n),2&i&&l.src!==(a=null==(u=t[1])?void 0:u.thumbnail_url)&&E(l,"src",a),c&&Z(c.update)&&2&i&&c.update.call(null,[t[1],!0])},i(t){i||A((()=>{i=O(l,rt,{}),i.start()}))},o:$,d(t){t&&p(l),r=!1,o()}}}function us(t){let l,e,s,n,a,c;return{c(){l=u("video"),e=u("track"),s=u("source"),this.h()},l(t){l=f(t,"VIDEO",{id:!0,width:!0,height:!0,class:!0});var n=m(l);e=f(n,"TRACK",{kind:!0}),s=f(n,"SOURCE",{src:!0,type:!0}),n.forEach(p),this.h()},h(){var i,r;e.default=!0,E(e,"kind","captions"),s.src!==(n=wl(t[1]))&&E(s,"src",n),E(s,"type","video/webm"),E(l,"id","main-image"),E(l,"width",a=null==(i=t[1])?void 0:i.width),E(l,"height",c=null==(r=t[1])?void 0:r.height),l.controls=!0,E(l,"class","svelte-19526fs")},m(n,a){x(n,l,a),b(l,e),b(l,s),t[16](l)},p(t,e){var i,r;2&e&&s.src!==(n=wl(t[1]))&&E(s,"src",n),2&e&&a!==(a=null==(i=t[1])?void 0:i.width)&&E(l,"width",a),2&e&&c!==(c=null==(r=t[1])?void 0:r.height)&&E(l,"height",c)},i:$,o:$,d(e){e&&p(l),t[16](null)}}}function ds(t){let l,e,s,n;return e=new is({}),e.$on("imagechange",t[17]),{c(){l=u("div"),ft(e.$$.fragment),this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0});var s=m(l);mt(e.$$.fragment,s),s.forEach(p),this.h()},h(){E(l,"id","images-queue"),E(l,"class","svelte-19526fs")},m(t,s){x(t,l,s),vt(e,l,null),n=!0},p(l,e){t=l},i(t){n||(w(e.$$.fragment,t),A((()=>{s||(s=Mt(l,$t,{delay:0,duration:Es,y:300},!0)),s.run(1)})),n=!0)},o(t){Y(e.$$.fragment,t),s||(s=Mt(l,$t,{delay:0,duration:Es,y:300},!1)),s.run(0),n=!1},d(t){t&&p(l),pt(e),t&&s&&s.end()}}}function hs(t){let l,e,s,n,a;return e=new xe({}),{c(){l=u("div"),ft(e.$$.fragment),this.h()},l(t){l=f(t,"DIV",{id:!0,class:!0});var s=m(l);mt(e.$$.fragment,s),s.forEach(p),this.h()},h(){E(l,"id","image-info"),E(l,"class","svelte-19526fs")},m(t,s){x(t,l,s),vt(e,l,null),a=!0},p(t,l){},i(t){a||(w(e.$$.fragment,t),A((()=>{n&&n.end(1),s||(s=O(l,$t,{delay:xs,duration:bs,y:1e3})),s.start()})),a=!0)},o(t){Y(e.$$.fragment,t),s&&s.invalidate(),n=tt(l,$t,{delay:0,duration:bs,y:1e3}),a=!1},d(t){t&&p(l),pt(e),t&&n&&n.end()}}}function fs(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function ms(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-star-line text-3xl text-yellow-300")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function vs(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-information-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function ps(t){let l;return{c(){l=u("i"),this.h()},l(t){l=f(t,"I",{class:!0}),m(l).forEach(p),this.h()},h(){E(l,"class","ri-close-line text-3xl")},m(t,e){x(t,l,e)},d(t){t&&p(l)}}}function gs(t){let l,e,s,n,a,c,i,r,o,d,v,$;function y(t,l){var e,s,n;return(null==(e=t[1])?void 0:e.video)&&(null==(n=t[7])?void 0:n[null==(s=t[1])?void 0:s.id])?us:os}l=new gl({props:{$$slots:{right:[rs]},$$scope:{ctx:t}}}),l.$on("back",t[9]);let T=y(t),I=T(t),N=t[3]&&!t[4]&&ds(t),A=t[4]&&hs();function O(t,l){return t[5]?ms:fs}let k=O(t),S=k(t);function L(t,l){return t[4]?ps:vs}let z=L(t),B=z(t);return{c(){ft(l.$$.fragment),e=h(),s=u("main"),I.c(),n=h(),N&&N.c(),a=h(),A&&A.c(),c=h(),i=u("button"),S.c(),r=h(),o=u("button"),B.c(),this.h()},l(t){mt(l.$$.fragment,t),e=g(t),s=f(t,"MAIN",{class:!0});var u=m(s);I.l(u),n=g(u),N&&N.l(u),a=g(u),A&&A.l(u),c=g(u),i=f(u,"BUTTON",{id:!0,class:!0});var d=m(i);S.l(d),d.forEach(p),r=g(u),o=f(u,"BUTTON",{id:!0,class:!0});var h=m(o);B.l(h),h.forEach(p),u.forEach(p),this.h()},h(){E(i,"id","favorite-button"),E(i,"class","absolute bottom-0 left-0 ml-6 mb-6 py-6 px-8 rounded-3xl svelte-19526fs"),E(o,"id","info-button"),E(o,"class","absolute bottom-0 right-0 mr-6 mb-6 py-6 px-8 rounded-3xl svelte-19526fs"),E(s,"class","flex flex-col lg:flex-row px-4 overflow-hidden svelte-19526fs")},m(u,h){vt(l,u,h),x(u,e,h),x(u,s,h),I.m(s,null),b(s,n),N&&N.m(s,null),b(s,a),A&&A.m(s,null),b(s,c),b(s,i),S.m(i,null),b(s,r),b(s,o),B.m(o,null),d=!0,v||($=[R(window,"keyup",t[13]),R(i,"click",t[18]),R(o,"click",t[19])],v=!0)},p(t,[e]){const r={};4194372&e&&(r.$$scope={dirty:e,ctx:t}),l.$set(r),T===(T=y(t))&&I?I.p(t,e):(I.d(1),I=T(t),I&&(I.c(),w(I,1),I.m(s,n))),t[3]&&!t[4]?N?(N.p(t,e),24&e&&w(N,1)):(N=ds(t),N.c(),w(N,1),N.m(s,a)):N&&(et(),Y(N,1,1,(()=>{N=null})),st()),t[4]?A?(A.p(t,e),16&e&&w(A,1)):(A=hs(),A.c(),w(A,1),A.m(s,c)):A&&(et(),Y(A,1,1,(()=>{A=null})),st()),k!==(k=O(t))&&(S.d(1),S=k(t),S&&(S.c(),S.m(i,null))),z!==(z=L(t))&&(B.d(1),B=z(t),B&&(B.c(),B.m(o,null)))},i(t){d||(w(l.$$.fragment,t),w(I),w(N),w(A),d=!0)},o(t){Y(l.$$.fragment,t),Y(N),Y(A),d=!1},d(t){pt(l,t),t&&p(e),t&&p(s),I.d(),N&&N.d(),A&&A.d(),S.d(),B.d(),v=!1,lt($)}}}const Es=200,xs=300,bs=200;function ws(t,l,e){let s,n,a,c,i,r,o;W(t,Yt,(t=>e(1,a=t))),W(t,Ht,(t=>e(2,r=t))),W(t,xl,(t=>e(7,o=t)));const{images:u}=Gt;W(t,u,(t=>e(15,i=t)));const{navigate:d}=y("navigator");async function h(){e(4,v=!1),e(3,m=!1),setTimeout((()=>{Et(Yt,a=null,a),d("Gallery")}),Es)}y("events");const{isMobile:f}=y("screen");W(t,f,(t=>e(14,c=t)));var m=!0,v=!1;function p(){Et(Yt,a=r[It(n+1,r.length-1)],a)}function g(){Et(Yt,a=r[Tt(n-1,0)],a)}var E=null;return t.$$.update=()=>{16384&t.$$.dirty&&c&&h(),32770&t.$$.dirty&&e(5,s=void 0!==j(xt("id",null==a?void 0:a.id),i)),6&t.$$.dirty&&e(6,n=yt(M(a))(r)),3&t.$$.dirty&&(null==a?void 0:a.video)&&(null==E||E.load())},[E,a,r,m,v,s,n,o,u,h,f,p,g,function(t){const l=t.key;"Escape"===l&&h(),"ArrowLeft"!==l&&"j"!==l||g(),"ArrowRight"!==l&&"k"!==l||p()," "===l&&p()},c,i,function(t){Ot[t?"unshift":"push"]((()=>{e(0,E=t)}))},t=>{Et(Yt,a=t.detail,a)},()=>ae(a),()=>{e(4,v=!v)}]}function $s(t,l,e){const s=t.slice();return s[5]=l[e][0],s[6]=l[e][1],s}function ys(t){let l,e,s,n,a,c,i,r,o,w,$,y,T,I,N,A,O,k,S,L,z,B,U=Is(t[6],t[0])?"AVAILABLE":"UNAVAILABLE",M=t[5]+"",_=Is(t[6],"web")?"":"",P=Is(t[6],"native")?"":"";function C(){return t[3](t[5])}return{c(){l=u("button"),e=u("p"),s=d(U),n=h(),a=u("p"),c=d(M),i=h(),r=u("p"),o=d("Supported platforms:"),w=h(),$=u("div"),y=u("p"),T=d("WEB: "),I=d(_),N=h(),A=u("p"),O=d("NATIVE: "),k=d(P),S=h(),this.h()},l(t){l=f(t,"BUTTON",{"data-supported":!0,class:!0});var u=m(l);e=f(u,"P",{class:!0});var d=m(e);s=v(d,U),d.forEach(p),n=g(u),a=f(u,"P",{class:!0});var h=m(a);c=v(h,M),h.forEach(p),i=g(u),r=f(u,"P",{class:!0});var E=m(r);o=v(E,"Supported platforms:"),E.forEach(p),w=g(u),$=f(u,"DIV",{class:!0});var x=m($);y=f(x,"P",{});var b=m(y);T=v(b,"WEB: "),I=v(b,_),b.forEach(p),N=g(x),A=f(x,"P",{});var L=m(A);O=v(L,"NATIVE: "),k=v(L,P),L.forEach(p),x.forEach(p),S=g(u),u.forEach(p),this.h()},h(){E(e,"class","absolute top-0 right-0 pt-6 pr-6"),E(a,"class","pb-2 text-2xl"),E(r,"class","text-lg"),E($,"class","pt-1 flex flex-row space-x-4"),E(l,"data-supported",L=Is(t[6],t[0])),E(l,"class","svelte-1vjqs3k")},m(t,u){x(t,l,u),b(l,e),b(e,s),b(l,n),b(l,a),b(a,c),b(l,i),b(l,r),b(r,o),b(l,w),b(l,$),b($,y),b(y,T),b(y,I),b($,N),b($,A),b(A,O),b(A,k),b(l,S),z||(B=R(l,"click",C),z=!0)},p(e,n){t=e,1&n&&U!==(U=Is(t[6],t[0])?"AVAILABLE":"UNAVAILABLE")&&G(s,U),1&n&&L!==(L=Is(t[6],t[0]))&&E(l,"data-supported",L)},d(t){t&&p(l),z=!1,B()}}}function Ts(t){let l,e,s,n,a,c,i,r;l=new gl({}),l.$on("back",t[1]);let o=Object.entries(nl),$=[];for(let u=0;u<o.length;u+=1)$[u]=ys($s(t,o,u));return{c(){ft(l.$$.fragment),e=h(),s=u("main"),n=u("div");for(let t=0;t<$.length;t+=1)$[t].c();a=h(),c=u("button"),i=d("Help"),this.h()},l(t){mt(l.$$.fragment,t),e=g(t),s=f(t,"MAIN",{class:!0});var r=m(s);n=f(r,"DIV",{id:!0,class:!0});var o=m(n);for(let l=0;l<$.length;l+=1)$[l].l(o);o.forEach(p),a=g(r),c=f(r,"BUTTON",{class:!0});var u=m(c);i=v(u,"Help"),u.forEach(p),r.forEach(p),this.h()},h(){E(n,"id","backends"),E(n,"class","flex flex-col space-y-2 svelte-1vjqs3k"),E(c,"class","text-2xl svelte-1vjqs3k"),E(s,"class","flex flex-col svelte-1vjqs3k")},m(t,o){vt(l,t,o),x(t,e,o),x(t,s,o),b(s,n);for(let l=0;l<$.length;l+=1)$[l].m(n,null);b(s,a),b(s,c),b(c,i),r=!0},p(t,[l]){if(5&l){let e;for(o=Object.entries(nl),e=0;e<o.length;e+=1){const s=$s(t,o,e);$[e]?$[e].p(s,l):($[e]=ys(s),$[e].c(),$[e].m(n,null))}for(;e<$.length;e+=1)$[e].d(1);$.length=o.length}},i(t){r||(w(l.$$.fragment,t),r=!0)},o(t){Y(l.$$.fragment,t),r=!1},d(t){pt(l,t),t&&p(e),t&&p(s),nt($,t)}}}const Is=(t,l)=>gt(l,z([],null==t?void 0:t.PLATFORMS));function Ns(t,l,e){const{navigate:s}=y("navigator");let n=null;function a(){s("Gallery")}function c(t){Kt("backend",t),a()}T((async()=>{"web"===(await N.getInfo()).platform?e(0,n="web"):e(0,n="native")}));return[n,a,c,t=>c(t)]}var As={Start:{NAME:"Start",COMPONENT:class extends i{constructor(t){super(),r(this,t,Ft,Vt,o,{})}}},Gallery:{NAME:"Gallery",COMPONENT:class extends i{constructor(t){super(),r(this,t,ls,Ze,o,{},[-1,-1])}}},Image:{NAME:"Image",COMPONENT:class extends i{constructor(t){super(),r(this,t,ws,gs,o,{})}}},Backends:{NAME:"Backends",COMPONENT:class extends i{constructor(t){super(),r(this,t,Ns,Ts,o,{})}}}};const Os=k(null),ks=k([]),Ss=k({}),Ls=k({}),zs=k({});function Bs(t,l){if(B(Os)){const l=Object.entries(B(Ss)),e=Object.entries(B(zs));for(const[t,n]of e)"function"==typeof n.clear&&n.clear();const s={};for(const[n,a]of l)s[n]=new Us(t,a);zs.set(s)}l&&B(ks).push("StartView");const e=B(Ls);Os.set(e[t])}class Us{constructor(t,l){this.view=t,this.emitter=l,this.listeners=[]}on(t,l){this.listeners.push([t,l]),this.emitter.on(t,l)}clear(){const t=this.listeners;for(const[l,e]of t)this.emitter.removeListener(l,e)}}function Ms(t){var l;let e,s,n,a,c;A(t[6]);var i=null==(l=t[2])?void 0:l.COMPONENT;return i&&(s=new i({})),{c(){e=u("main"),s&&ft(s.$$.fragment),this.h()},l(t){e=f(t,"MAIN",{class:!0});var l=m(e);s&&mt(s.$$.fragment,l),l.forEach(p),this.h()},h(){E(e,"class","relative flex flex-col svelte-15zbi46")},m(l,i){x(l,e,i),s&&vt(s,e,null),n=!0,a||(c=R(window,"resize",t[6]),a=!0)},p(t,[l]){var n;if(i!==(i=null==(n=t[2])?void 0:n.COMPONENT)){if(s){et();const t=s;Y(t.$$.fragment,1,0,(()=>{pt(t,1)})),st()}i?(s=new i({}),ft(s.$$.fragment),w(s.$$.fragment,1),vt(s,e,null)):s=null}},i(t){n||(s&&w(s.$$.fragment,t),n=!0)},o(t){s&&Y(s.$$.fragment,t),n=!1},d(t){t&&p(e),s&&pt(s),a=!1,c()}}}function _s(t,l,e){let s,n,a,c;var i,r;W(t,Os,(t=>e(2,c=t))),i=Pt,r=As,Ss.set(i),Ls.set(r);const o=k(0);W(t,o,(t=>e(0,n=t)));const u=k(0);W(t,u,(t=>e(1,a=t)));const d=k(!1);return W(t,d,(t=>e(7,s=t))),_t("screen",{width:o,height:u,isMobile:d}),_t("navigator",{currentScreen:Os,navigate:Bs}),_t("events",zs),Bs("Start"),t.$$.update=()=>{1&t.$$.dirty&&Et(d,s=n<768,s)},[n,a,c,o,u,d,function(){o.set(n=window.innerWidth),u.set(a=window.innerHeight)}]}new class extends i{constructor(t){super(),r(this,t,_s,Ms,o,{})}}({target:document.getElementById("app")});
