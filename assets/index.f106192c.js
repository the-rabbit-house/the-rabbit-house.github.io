import{S as t,i as l,s as e,e as s,t as n,a,c,b as i,d as r,f as o,g as u,h as d,j as h,k as f,l as v,n as m,m as p,o as g,p as E,D as x,q as w,r as b,w as y,u as $,v as T,x as I,y as A,z as N,A as O,H as k,B as L,C as S,E as z,F as B,G as U,I as M,J as _,K as C,L as P,M as V,N as D,O as R,P as F,Q as G,R as q,T as j,U as H,V as Y,W,X,Y as K,Z as Q,_ as J,$ as Z,a0 as tt,a1 as lt,a2 as et,a3 as st,a4 as nt,a5 as at,a6 as ct,a7 as it,a8 as rt,a9 as ot,aa as ut,ab as dt,ac as ht,ad as ft,ae as vt,af as mt,ag as pt,ah as gt,ai as Et,aj as xt,ak as wt,al as bt,am as yt,an as $t,ao as Tt,ap as It,aq as At}from"./vendor.93b78dd1.js";var Nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module"}),Ot="/assets/tippy.ac9e6991.png";function kt(t){let l,e;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(l,"class","hidden"),l.src!==(e=Ot)&&d(l,"src","/assets/tippy.ac9e6991.png"),d(l,"alt","tippy-hidden")},m(t,e){h(t,l,e)},p:m,i:m,o:m,d(t){t&&o(l)}}}function Lt(t){let l,e,n;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(l,"class","self-center w-40 h-32"),l.src!==(e=Ot)&&d(l,"src","/assets/tippy.ac9e6991.png"),d(l,"alt","tippy")},m(t,e){h(t,l,e)},p:m,i(e){n||w((()=>{n=b(l,t[1],{}),n.start()}))},o:m,d(t){t&&o(l)}}}function St(t){let l,e,p,g,E,x,w,b,y,$,T,I,A,N;function O(t,l){return t[0]?Lt:kt}let k=O(t),L=k(t);return{c(){l=s("nav"),e=s("p"),p=n("chino"),g=a(),E=s("a"),x=s("i"),w=a(),b=s("div"),y=a(),L.c(),$=a(),T=s("div"),I=a(),A=s("p"),N=n("Brewing the coffee.."),this.h()},l(t){l=c(t,"NAV",{class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);p=r(n,"chino"),n.forEach(o),g=u(s),E=c(s,"A",{href:!0});var a=i(E);x=c(a,"I",{class:!0}),i(x).forEach(o),a.forEach(o),s.forEach(o),w=u(t),b=c(t,"DIV",{class:!0}),i(b).forEach(o),y=u(t),L.l(t),$=u(t),T=c(t,"DIV",{class:!0}),i(T).forEach(o),I=u(t),A=c(t,"P",{class:!0});var d=i(A);N=r(d,"Brewing the coffee.."),d.forEach(o),this.h()},h(){d(e,"class","flex-1 text-5xl font-light"),d(x,"class","ri-github-fill text-5xl"),d(E,"href","https://github.com/the-rabbit-house/chino"),d(l,"class","px-6 pt-2 h-20 flex flex-row items-center"),d(b,"class","flex-1"),d(T,"class","flex-1"),d(A,"class","pb-6 text-2xl font-light text-center")},m(t,s){h(t,l,s),f(l,e),f(e,p),f(l,g),f(l,E),f(E,x),h(t,w,s),h(t,b,s),h(t,y,s),L.m(t,s),h(t,$,s),h(t,T,s),h(t,I,s),h(t,A,s),f(A,N)},p(t,[l]){k===(k=O(t))&&L?L.p(t,l):(L.d(1),L=k(t),L&&(L.c(),v(L,1),L.m($.parentNode,$)))},i(t){v(L)},o:m,d(t){t&&o(l),t&&o(w),t&&o(b),t&&o(y),L.d(t),t&&o($),t&&o(T),t&&o(I),t&&o(A)}}}function zt(t,l,e){const{navigate:s}=p("navigator");p("events");var n=!1;return g((async()=>{e(0,n=!0);const t=await x.getInfo();if("android"===(null==t?void 0:t.operatingSystem)){document.querySelector("meta[name=viewport]").setAttribute("content",`width=device-width, height=${window.innerHeight}, initial-scale=1.0, user-scalable=0`)}setTimeout((()=>s("Gallery")),1500)})),[n,function(t,l){return{delay:0,duration:1500,easing:E,css:(t,l)=>`transform: rotate(${360*t}deg);`}}]}const Bt={backend:"danbooru",limit:20,throttle:1,galleryCols:3,galleryImageSize:"BASE",swipeDistance:.2,nsfw:!1},Ut=$("settings",Bt),Mt={tags:y([]),images:y([])},_t=y([]),Ct=y(null),Pt=y([]),Vt=function(t){return T(Ut,(l=>I(Bt[t],null==l?void 0:l[t])))},Dt=function(t,l){A(Ut)[t]=l,Ut.set(A(Ut))};function Rt(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}const Ft=N([O("zip"),O("webm"),O("mp4")]);function Gt(t){const l=[];for(const e of t){if(!(null==e?void 0:e.file_url))continue;const t=null==e?void 0:e.file_ext,s={id:null==e?void 0:e.md5,file_name:(null==e?void 0:e.md5)+"."+(null==e?void 0:e.file_ext)||"",file_ext:t,source:null==e?void 0:e.source,artist:null==e?void 0:e.tag_string_artist,thumbnail_url:null==e?void 0:e.preview_file_url,file_url:Ft(t)?null==e?void 0:e.large_file_url:null==e?void 0:e.file_url,width:null==e?void 0:e.image_width,height:null==e?void 0:e.image_height,tags:null==e?void 0:e.tag_string.split(" "),data:e,video:Ft(t)};l.push(s)}return l}var qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",NAME:"danbooru",PLATFORMS:["web","native"],fetchImages:async function(t,{page:l,limit:e}){try{return[!0,Gt((await k.request({method:"GET",url:"https://danbooru.donmai.us/posts.json?tags="+t.join("+")+"&page="+(l+1)+"&limit="+e})).data)]}catch(s){return[!1,[]]}}});const jt=N([O("zip"),O("webm"),O("mp4")]);function Ht(t){const l=[];for(const e of t){if(!(null==e?void 0:e.file_url))continue;const t=L(null==e?void 0:e.file_url.split(".")),s={id:null==e?void 0:e.hash,file_name:null==e?void 0:e.image,source:null==e?void 0:e.source,artist:null==e?void 0:e.owner,file_ext:t,video:jt(t),thumbnail_url:`https://img3.gelbooru.com/thumbnails/${null==e?void 0:e.directory}/thumbnail_${null==e?void 0:e.hash}.jpg`,file_url:null==e?void 0:e.file_url,width:null==e?void 0:e.width,height:null==e?void 0:e.height,tags:null==e?void 0:e.tags.split(" "),data:e};l.push(s)}return l}var Yt={danbooru:qt,gelbooru:Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",NAME:"gelbooru",PLATFORMS:["native"],fetchImages:async function(t,{page:l,limit:e}){try{return[!0,Ht((await k.request({method:"GET",url:"https://gelbooru.com/index.php?page=dapi&s=post&q=index&json=1&tags="+t.join("+")+"&pid="+l+"&limit="+e})).data)]}catch(s){return[!1,[]]}}})};const Wt=y(!1),Xt=y(0),Kt=y(!1),Qt=Vt("limit"),Jt=Vt("backend");function Zt(t){let l=A(Pt);l=z(O(t),A(Pt))?U([t],l):B(t,l),Pt.set(l)}const tl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",ll=y({});function el(t){const l=A(ll);return(null==l?void 0:l["thumbnail_"+(null==t?void 0:t.id)])?l["thumbnail_"+(null==t?void 0:t.id)]:tl}function sl(t){const l=A(ll);return(null==l?void 0:l[null==t?void 0:t.id])?l[null==t?void 0:t.id]:(null==l?void 0:l["thumbnail_"+(null==t?void 0:t.id)])?l["thumbnail_"+(null==t?void 0:t.id)]:tl}const nl={image:null},al=y([]),cl=y([]);function il(t){al.set(U([t],A(al))),cl.set(U([t],A(cl)))}const rl=T([al,cl],(([t,l])=>[...t,...l])),ol=y([]);function ul(){var t,l;const e=I(1,null==(t=A(Ut))?void 0:t.throttle);if(A(ol).length>=e)return;if(A(rl).length<1)return;const[s,...n]=A(rl),[a,c,i=!1]=s;if(void 0!==z(O([a,i]),A(ol)))return void il(s);const r=i?"thumbnail_url":"file_url",o=i?"thumbnail_":"";if(!(null==(l=A(ll))?void 0:l[o+(null==a?void 0:a.id)])){const t=[a,i];ol.set(B(t,A(ol))),async function(t,l,e){const s=await k.downloadFile({url:null==t?void 0:t[l],filePath:e+(null==t?void 0:t.file_name),fileDirectory:"CACHE",method:"GET"});let n=null;if(null==s?void 0:s.blob){const t=s.blob;n=URL.createObjectURL(t)}if(null==s?void 0:s.path){const t=await M.getUri({path:s.path});n=_.convertFileSrc(t.uri)}return n?(A(ll)[e+(null==t?void 0:t.id)]=n,ll.set(A(ll)),n):null}(a,r,o).then((l=>{(i||nl.image===a||(null==a?void 0:a.video))&&document.body.contains(c)&&(c.src=sl(a)),ol.set(U([t],A(ol)))}))}il(s)}function dl(t,[l,e=!1]){return e&&(nl.image=l),(null==l?void 0:l.video)||(t.src=sl(l)),al.set([...A(al),[l,t,!0]]),e&&cl.set([[l,t,!1],...A(cl)]),{update([l,e=!1]){e&&(nl.image=l),(null==l?void 0:l.video)||(t.src=sl(l)),al.set([...A(al),[l,t,!0]]),e&&cl.set([[l,t,!1],...A(cl)])}}}rl.subscribe(ul),ol.subscribe(ul);function hl(t,l,e){const s=t.slice();return s[15]=l[e],s}function fl(t){let l,e,n,a,i,r,u,f,v;function m(){return t[13](t[15])}return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,alt:!0,src:!0,style:!0}),this.h()},h(){d(l,"class","object-cover svelte-10i13kt"),d(l,"alt",""),l.src!==(e=el(t[15]))&&d(l,"src",e),d(l,"style",n=`width:${t[1]}; height:${t[2]}`)},m(e,s){h(e,l,s),u=!0,f||(v=[C(a=dl.call(null,l,[t[15],!1])),P(l,"click",m)],f=!0)},p(s,c){t=s,(!u||8&c&&l.src!==(e=el(t[15])))&&d(l,"src",e),(!u||6&c&&n!==(n=`width:${t[1]}; height:${t[2]}`))&&d(l,"style",n),a&&V(a.update)&&8&c&&a.update.call(null,[t[15],!1])},i(e){u||(w((()=>{r&&r.end(1),i||(i=b(l,t[9],{key:t[15].id})),i.start()})),u=!0)},o(e){i&&i.invalidate(),r=D(l,t[8],{key:t[15].id}),u=!1},d(t){t&&o(l),t&&r&&r.end(),f=!1,R(v)}}}function vl(t){let l,e,n,a=t[3],r=[];for(let s=0;s<a.length;s+=1)r[s]=fl(hl(t,a,s));const u=t=>G(r[t],1,1,(()=>{r[t]=null}));return{c(){l=s("div");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0,style:!0});var e=i(l);for(let l=0;l<r.length;l+=1)r[l].l(e);e.forEach(o),this.h()},h(){d(l,"id","images"),d(l,"class","flex flex-row flex-wrap justify-center md:justify-between svelte-10i13kt"),d(l,"style",e=t[0]?"filter: blur(20px)":null)},m(t,e){h(t,l,e);for(let s=0;s<r.length;s+=1)r[s].m(l,null);n=!0},p(t,[s]){if(30&s){let e;for(a=t[3],e=0;e<a.length;e+=1){const n=hl(t,a,e);r[e]?(r[e].p(n,s),v(r[e],1)):(r[e]=fl(n),r[e].c(),v(r[e],1),r[e].m(l,null))}for(F(),e=a.length;e<r.length;e+=1)u(e);q()}(!n||1&s&&e!==(e=t[0]?"filter: blur(20px)":null))&&d(l,"style",e)},i(t){if(!n){for(let t=0;t<a.length;t+=1)v(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)G(r[l]);n=!1},d(t){t&&o(l),j(r,t)}}}const ml={SMALL:{width:"12rem",height:"16rem"},BASE:{width:"14rem",height:"20rem"},LARGE:{width:"16rem",height:"24rem"}},pl=t=>I(ml.BASE,t?ml[t]:null);function gl(t,l,e){let s,n,a,c,i,r;H(t,_t,(t=>e(3,r=t)));const o=Y();let{blur:u=!1}=l;const{height:d,isMobile:h}=p("window");H(t,h,(t=>e(10,a=t)));const f=Vt("galleryCols");H(t,f,(t=>e(11,c=t)));const v=Vt("galleryImageSize");H(t,v,(t=>e(12,i=t)));const[m,g]=W({duration:200,fallback:X});return t.$$set=t=>{"blur"in t&&e(0,u=t.blur)},t.$$.update=()=>{7168&t.$$.dirty&&e(1,s=a?1/c*100+"vw":pl(i).width),7168&t.$$.dirty&&e(2,n=a?Math.max(20,4/c*20)+"vh":pl(i).height)},[u,s,n,r,o,h,f,v,m,g,a,c,i,t=>o("imageclick",t)]}class El extends t{constructor(t){super(),l(this,t,gl,vl,e,{blur:0})}}function xl(t){let l,e,v,m,p,g,E,x,y,$,T,I,A,N,O,k,L,S,z,B,U,M,_,F,G,q,j,H,Y,W,X,Z,tt,lt,et,st,nt,at,ct,it,rt,ot,ut,dt,ht,ft,vt,mt,pt,gt,Et,xt,wt,bt,yt,$t,Tt,It,At,Nt,Ot,kt,Lt,St,zt,Bt,Ut,Mt,_t,Ct,Pt,Vt,Dt,Rt,Ft,Gt,qt,jt,Ht,Yt,Wt,Xt,Kt,Qt,Jt,Zt,tl,ll,el,sl,nl,al,cl,il,rl,ol,ul,dl,hl,fl,vl,ml,pl,gl,El,xl,$l,Tl,Il,Al=t[5]?"SM":"SMALL",Nl=t[5]?"LG":"LARGE";return{c(){l=s("article"),e=s("section"),v=s("p"),m=n("Images "),p=s("br"),g=n("per page"),E=a(),x=s("button"),y=n("-"),$=a(),T=s("button"),I=n(t[0]),A=a(),N=s("button"),O=n("+"),k=a(),L=s("section"),S=s("p"),z=n("Load "),B=s("br"),U=n("limit"),M=a(),_=s("button"),F=n("-"),G=a(),q=s("button"),j=n(t[1]),H=a(),Y=s("button"),W=n("+"),X=a(),Z=s("section"),tt=s("sup"),lt=n("MOBILE ONLY"),et=a(),st=s("p"),nt=n("Grid"),at=s("br"),ct=n(" columns"),it=a(),rt=s("button"),ot=n("-"),ut=a(),dt=s("button"),ht=n(t[2]),ft=a(),vt=s("button"),mt=n("+"),pt=a(),gt=s("section"),Et=s("sup"),xt=n("MOBILE ONLY"),wt=a(),bt=s("p"),yt=n("Swipe "),$t=s("br"),Tt=n("distance"),It=a(),At=s("button"),Nt=n("16.1%"),kt=a(),Lt=s("button"),St=n("20%"),Bt=a(),Ut=s("button"),Mt=n("25%"),Ct=a(),Pt=s("section"),Vt=s("sup"),Dt=n("TABLET+ ONLY"),Rt=a(),Ft=s("p"),Gt=n("Image "),qt=s("br"),jt=n(" size"),Ht=a(),Yt=s("button"),Wt=n(Al),Kt=a(),Qt=s("button"),Jt=n("BASE"),tl=a(),ll=s("button"),el=n(Nl),nl=a(),al=s("section"),cl=s("p"),il=n("NSFW"),rl=s("br"),ol=n(" mode"),ul=a(),dl=s("button"),hl=n("OFF"),vl=a(),ml=s("button"),pl=n("ON"),this.h()},l(s){l=c(s,"ARTICLE",{class:!0});var n=i(l);e=c(n,"SECTION",{class:!0});var a=i(e);v=c(a,"P",{class:!0});var d=i(v);m=r(d,"Images "),p=c(d,"BR",{}),g=r(d,"per page"),d.forEach(o),E=u(a),x=c(a,"BUTTON",{class:!0});var h=i(x);y=r(h,"-"),h.forEach(o),$=u(a),T=c(a,"BUTTON",{class:!0});var f=i(T);I=r(f,t[0]),f.forEach(o),A=u(a),N=c(a,"BUTTON",{class:!0});var w=i(N);O=r(w,"+"),w.forEach(o),a.forEach(o),k=u(n),L=c(n,"SECTION",{class:!0});var b=i(L);S=c(b,"P",{class:!0});var C=i(S);z=r(C,"Load "),B=c(C,"BR",{}),U=r(C,"limit"),C.forEach(o),M=u(b),_=c(b,"BUTTON",{class:!0});var P=i(_);F=r(P,"-"),P.forEach(o),G=u(b),q=c(b,"BUTTON",{class:!0});var V=i(q);j=r(V,t[1]),V.forEach(o),H=u(b),Y=c(b,"BUTTON",{class:!0});var D=i(Y);W=r(D,"+"),D.forEach(o),b.forEach(o),X=u(n),Z=c(n,"SECTION",{class:!0});var R=i(Z);tt=c(R,"SUP",{class:!0});var K=i(tt);lt=r(K,"MOBILE ONLY"),K.forEach(o),et=u(R),st=c(R,"P",{class:!0});var Q=i(st);nt=r(Q,"Grid"),at=c(Q,"BR",{}),ct=r(Q," columns"),Q.forEach(o),it=u(R),rt=c(R,"BUTTON",{class:!0});var J=i(rt);ot=r(J,"-"),J.forEach(o),ut=u(R),dt=c(R,"BUTTON",{class:!0});var Ot=i(dt);ht=r(Ot,t[2]),Ot.forEach(o),ft=u(R),vt=c(R,"BUTTON",{class:!0});var zt=i(vt);mt=r(zt,"+"),zt.forEach(o),R.forEach(o),pt=u(n),gt=c(n,"SECTION",{class:!0});var _t=i(gt);Et=c(_t,"SUP",{class:!0});var Xt=i(Et);xt=r(Xt,"MOBILE ONLY"),Xt.forEach(o),wt=u(_t),bt=c(_t,"P",{class:!0});var Zt=i(bt);yt=r(Zt,"Swipe "),$t=c(Zt,"BR",{}),Tt=r(Zt,"distance"),Zt.forEach(o),It=u(_t),At=c(_t,"BUTTON",{class:!0});var sl=i(At);Nt=r(sl,"16.1%"),sl.forEach(o),kt=u(_t),Lt=c(_t,"BUTTON",{class:!0});var fl=i(Lt);St=r(fl,"20%"),fl.forEach(o),Bt=u(_t),Ut=c(_t,"BUTTON",{class:!0});var gl=i(Ut);Mt=r(gl,"25%"),gl.forEach(o),_t.forEach(o),Ct=u(n),Pt=c(n,"SECTION",{class:!0});var El=i(Pt);Vt=c(El,"SUP",{class:!0});var xl=i(Vt);Dt=r(xl,"TABLET+ ONLY"),xl.forEach(o),Rt=u(El),Ft=c(El,"P",{class:!0});var wl=i(Ft);Gt=r(wl,"Image "),qt=c(wl,"BR",{}),jt=r(wl," size"),wl.forEach(o),Ht=u(El),Yt=c(El,"BUTTON",{class:!0});var bl=i(Yt);Wt=r(bl,Al),bl.forEach(o),Kt=u(El),Qt=c(El,"BUTTON",{class:!0});var yl=i(Qt);Jt=r(yl,"BASE"),yl.forEach(o),tl=u(El),ll=c(El,"BUTTON",{class:!0});var $l=i(ll);el=r($l,Nl),$l.forEach(o),El.forEach(o),nl=u(n),al=c(n,"SECTION",{class:!0});var Tl=i(al);cl=c(Tl,"P",{class:!0});var Il=i(cl);il=r(Il,"NSFW"),rl=c(Il,"BR",{}),ol=r(Il," mode"),Il.forEach(o),ul=u(Tl),dl=c(Tl,"BUTTON",{style:!0,class:!0});var Ol=i(dl);hl=r(Ol,"OFF"),Ol.forEach(o),vl=u(Tl),ml=c(Tl,"BUTTON",{class:!0,style:!0});var kl=i(ml);pl=r(kl,"ON"),kl.forEach(o),Tl.forEach(o),n.forEach(o),this.h()},h(){d(v,"class","flex-1"),d(x,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),d(T,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),T.disabled=!0,d(N,"class","w-14 md:w-16 svelte-ddyzwm"),d(e,"class","px-2 py-4 svelte-ddyzwm"),d(S,"class","flex-1"),d(_,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),d(q,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),q.disabled=!0,d(Y,"class","w-14 md:w-16 svelte-ddyzwm"),d(L,"class","px-2 py-4 svelte-ddyzwm"),d(tt,"class","svelte-ddyzwm"),d(st,"class","flex-1"),d(rt,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),d(dt,"class","w-14 md:w-16 mr-1 svelte-ddyzwm"),dt.disabled=!0,d(vt,"class","w-14 md:w-16 svelte-ddyzwm"),d(Z,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),d(Et,"class","svelte-ddyzwm"),d(bt,"class","flex-1 text-wrap"),d(At,"class","mr-1 svelte-ddyzwm"),d(Lt,"class","mr-1 svelte-ddyzwm"),d(Ut,"class","svelte-ddyzwm"),d(gt,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),d(Vt,"class","svelte-ddyzwm"),d(Ft,"class","flex-1 text-wrap"),d(Yt,"class","mr-1 svelte-ddyzwm"),d(Qt,"class","mr-1 svelte-ddyzwm"),d(ll,"class","svelte-ddyzwm"),d(Pt,"class","relative px-2 py-4 pt-8 svelte-ddyzwm"),d(cl,"class","flex-1"),K(dl,"flex-basis","6rem"),d(dl,"class","svelte-ddyzwm"),d(ml,"class","ml-1 svelte-ddyzwm"),K(ml,"flex-basis","6rem"),d(al,"class","px-2 py-4 svelte-ddyzwm"),d(l,"class","flex flex-col items-stretch overflow-y-auto svelte-ddyzwm")},m(s,n){h(s,l,n),f(l,e),f(e,v),f(v,m),f(v,p),f(v,g),f(e,E),f(e,x),f(x,y),f(e,$),f(e,T),f(T,I),f(e,A),f(e,N),f(N,O),f(l,k),f(l,L),f(L,S),f(S,z),f(S,B),f(S,U),f(L,M),f(L,_),f(_,F),f(L,G),f(L,q),f(q,j),f(L,H),f(L,Y),f(Y,W),f(l,X),f(l,Z),f(Z,tt),f(tt,lt),f(Z,et),f(Z,st),f(st,nt),f(st,at),f(st,ct),f(Z,it),f(Z,rt),f(rt,ot),f(Z,ut),f(Z,dt),f(dt,ht),f(Z,ft),f(Z,vt),f(vt,mt),f(l,pt),f(l,gt),f(gt,Et),f(Et,xt),f(gt,wt),f(gt,bt),f(bt,yt),f(bt,$t),f(bt,Tt),f(gt,It),f(gt,At),f(At,Nt),f(gt,kt),f(gt,Lt),f(Lt,St),f(gt,Bt),f(gt,Ut),f(Ut,Mt),f(l,Ct),f(l,Pt),f(Pt,Vt),f(Vt,Dt),f(Pt,Rt),f(Pt,Ft),f(Ft,Gt),f(Ft,qt),f(Ft,jt),f(Pt,Ht),f(Pt,Yt),f(Yt,Wt),f(Pt,Kt),f(Pt,Qt),f(Qt,Jt),f(Pt,tl),f(Pt,ll),f(ll,el),f(l,nl),f(l,al),f(al,cl),f(cl,il),f(cl,rl),f(cl,ol),f(al,ul),f(al,dl),f(dl,hl),f(al,vl),f(al,ml),f(ml,pl),$l=!0,Tl||(Il=[P(x,"click",t[14]),P(N,"click",t[15]),P(_,"click",t[16]),P(Y,"click",t[17]),P(rt,"click",t[18]),P(vt,"click",t[19]),C(Ot=yl.call(null,At,.161===t[3])),P(At,"click",t[20]),C(zt=yl.call(null,Lt,.2===t[3])),P(Lt,"click",t[21]),C(_t=yl.call(null,Ut,.25===t[3])),P(Ut,"click",t[22]),C(Xt=yl.call(null,Yt,"SMALL"===t[4])),P(Yt,"click",t[23]),C(Zt=yl.call(null,Qt,"BASE"===t[4])),P(Qt,"click",t[24]),C(sl=yl.call(null,ll,"LARGE"===t[4])),P(ll,"click",t[25]),C(fl=yl.call(null,dl,!1===t[6])),P(dl,"click",t[26]),C(gl=yl.call(null,ml,!0===t[6])),P(ml,"click",t[27])],Tl=!0)},p(l,[e]){t=l,(!$l||1&e)&&Q(I,t[0]),(!$l||2&e)&&Q(j,t[1]),(!$l||4&e)&&Q(ht,t[2]),Ot&&V(Ot.update)&&8&e&&Ot.update.call(null,.161===t[3]),zt&&V(zt.update)&&8&e&&zt.update.call(null,.2===t[3]),_t&&V(_t.update)&&8&e&&_t.update.call(null,.25===t[3]),(!$l||32&e)&&Al!==(Al=t[5]?"SM":"SMALL")&&Q(Wt,Al),Xt&&V(Xt.update)&&16&e&&Xt.update.call(null,"SMALL"===t[4]),Zt&&V(Zt.update)&&16&e&&Zt.update.call(null,"BASE"===t[4]),(!$l||32&e)&&Nl!==(Nl=t[5]?"LG":"LARGE")&&Q(el,Nl),sl&&V(sl.update)&&16&e&&sl.update.call(null,"LARGE"===t[4]),fl&&V(fl.update)&&64&e&&fl.update.call(null,!1===t[6]),gl&&V(gl.update)&&64&e&&gl.update.call(null,!0===t[6])},i(t){$l||(w((()=>{xl&&xl.end(1),El||(El=b(l,J,{delay:wl})),El.start()})),$l=!0)},o(t){El&&El.invalidate(),xl=D(l,J,{delay:0,duration:bl}),$l=!1},d(t){t&&o(l),t&&xl&&xl.end(),Tl=!1,R(Il)}}}const wl=200,bl=100;function yl(t,l){return t.classList.toggle("active-button",l),{update(l){t.classList.toggle("active-button",l)}}}function $l(t,l,e){let s,n,a,c,i,r,o;const{isMobile:u}=p("window");H(t,u,(t=>e(5,r=t)));const d=Vt("limit");H(t,d,(t=>e(0,s=t)));const h=Vt("throttle");H(t,h,(t=>e(1,n=t)));const f=Vt("galleryCols");H(t,f,(t=>e(2,a=t)));const v=Vt("galleryImageSize");H(t,v,(t=>e(4,i=t)));const m=Vt("swipeDistance");H(t,m,(t=>e(3,c=t)));const g=Vt("nsfw");H(t,g,(t=>e(6,o=t)));return[s,n,a,c,i,r,o,u,d,h,f,v,m,g,()=>{s>5&&Dt("limit",s-5)},()=>{s<95&&Dt("limit",s+5)},()=>{n>1&&Dt("throttle",n-1)},()=>{n<5&&Dt("throttle",n+1)},()=>{a>1&&Dt("galleryCols",Z(a))},()=>{a<5&&Dt("galleryCols",tt(a))},()=>Dt("swipeDistance",.161),()=>Dt("swipeDistance",.2),()=>Dt("swipeDistance",.25),()=>Dt("galleryImageSize","SMALL"),()=>Dt("galleryImageSize","BASE"),()=>Dt("galleryImageSize","LARGE"),()=>Dt("nsfw",!1),()=>Dt("nsfw",!0)]}class Tl extends t{constructor(t){super(),l(this,t,$l,xl,e,{})}}function Il(t,l,e){const s=t.slice();return s[18]=l[e],s}function Al(t){let l,e,v,m,p,g=t[4],E=[];for(let s=0;s<g.length;s+=1)E[s]=Nl(Il(t,g,s));return{c(){l=s("section"),e=s("p"),v=n("Favorites"),m=a(),p=s("div");for(let t=0;t<E.length;t+=1)E[t].c();this.h()},l(t){l=c(t,"SECTION",{class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);v=r(n,"Favorites"),n.forEach(o),m=u(s),p=c(s,"DIV",{id:!0,class:!0});var a=i(p);for(let l=0;l<E.length;l+=1)E[l].l(a);a.forEach(o),s.forEach(o),this.h()},h(){d(e,"class","text-4xl font-medium"),d(p,"id","favorites"),d(p,"class","flex flex-row flex-wrap svelte-oxphnz"),d(l,"class","svelte-oxphnz")},m(t,s){h(t,l,s),f(l,e),f(e,v),f(l,m),f(l,p);for(let l=0;l<E.length;l+=1)E[l].m(p,null)},p(t,l){if(1552&l){let e;for(g=t[4],e=0;e<g.length;e+=1){const s=Il(t,g,e);E[e]?E[e].p(s,l):(E[e]=Nl(s),E[e].c(),E[e].m(p,null))}for(;e<E.length;e+=1)E[e].d(1);E.length=g.length}},d(t){t&&o(l),j(E,t)}}}function Nl(t){let l,e,v,m,p,g=t[18]+"";function E(){return t[11](t[18])}function x(){return t[12](t[18])}return{c(){l=s("button"),e=n(g),v=a(),this.h()},l(t){l=c(t,"BUTTON",{class:!0});var s=i(l);e=r(s,g),v=u(s),s.forEach(o),this.h()},h(){d(l,"class","select-none svelte-oxphnz")},m(t,s){h(t,l,s),f(l,e),f(l,v),m||(p=[C(Ul.call(null,l)),C(Ml.call(null,l)),P(l,"longpress",E),P(l,"click",x)],m=!0)},p(l,s){t=l,16&s&&g!==(g=t[18]+"")&&Q(e,g)},d(t){t&&o(l),m=!1,R(p)}}}function Ol(t){let l,e,v,m,p,g,E,x,w,b,y,$,T,I;return{c(){l=s("div"),e=s("button"),v=n("SAFE"),p=a(),g=s("button"),E=n("UNSAFE"),w=a(),b=s("button"),y=n("EXPLICIT"),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);e=c(s,"BUTTON",{class:!0});var n=i(e);v=r(n,"SAFE"),n.forEach(o),p=u(s),g=c(s,"BUTTON",{class:!0});var a=i(g);E=r(a,"UNSAFE"),a.forEach(o),w=u(s),b=c(s,"BUTTON",{class:!0});var d=i(b);y=r(d,"EXPLICIT"),d.forEach(o),s.forEach(o),this.h()},h(){d(e,"class","svelte-oxphnz"),d(g,"class","svelte-oxphnz"),d(b,"class","svelte-oxphnz"),d(l,"id","rating-buttons"),d(l,"class","flex flex-row items-center justify-between svelte-oxphnz")},m(s,n){h(s,l,n),f(l,e),f(e,v),f(l,p),f(l,g),f(g,E),f(l,w),f(l,b),f(b,y),T||(I=[C(m=_l.call(null,e,"SAFE"===t[1])),P(e,"click",t[13]),C(x=_l.call(null,g,"UNSAFE"===t[1])),P(g,"click",t[14]),C($=_l.call(null,b,"EXPLICIT"===t[1])),P(b,"click",t[15])],T=!0)},p(t,l){m&&V(m.update)&&2&l&&m.update.call(null,"SAFE"===t[1]),x&&V(x.update)&&2&l&&x.update.call(null,"UNSAFE"===t[1]),$&&V($.update)&&2&l&&$.update.call(null,"EXPLICIT"===t[1])},d(t){t&&o(l),T=!1,R(I)}}}function kl(t){let l,e,m,p,g,E,x,y,$,T,I,A,N,O,k=!lt(t[4]),L=t[2]?"Searching...":"Search";m=new et({props:{tags:t[0],onlyUnique:!0,allowBlur:!0}});let S=k&&Al(t),z=t[3]&&Ol(t);return{c(){l=s("main"),e=s("div"),st(m.$$.fragment),p=a(),g=s("div"),S&&S.c(),E=a(),z&&z.c(),x=a(),y=s("button"),$=n(L),this.h()},l(t){l=c(t,"MAIN",{class:!0});var s=i(l);e=c(s,"DIV",{id:!0,class:!0});var n=i(e);nt(m.$$.fragment,n),n.forEach(o),p=u(s),g=c(s,"DIV",{class:!0});var a=i(g);S&&S.l(a),a.forEach(o),E=u(s),z&&z.l(s),x=u(s),y=c(s,"BUTTON",{id:!0,class:!0});var d=i(y);$=r(d,L),d.forEach(o),s.forEach(o),this.h()},h(){d(e,"id","tags-input"),d(e,"class","svelte-oxphnz"),d(g,"class","flex-1 rounded overflow-y-auto"),d(y,"id","search-button"),d(y,"class","py-2 text-4xl rounded-lg svelte-oxphnz"),d(l,"class","flex flex-col items-stretch space-y-2 svelte-oxphnz")},m(s,n){h(s,l,n),f(l,e),at(m,e,null),f(l,p),f(l,g),S&&S.m(g,null),f(l,E),z&&z.m(l,null),f(l,x),f(l,y),f(y,$),A=!0,N||(O=P(y,"click",t[8]),N=!0)},p(e,[s]){t=e;const n={};1&s&&(n.tags=t[0]),m.$set(n),16&s&&(k=!lt(t[4])),k?S?S.p(t,s):(S=Al(t),S.c(),S.m(g,null)):S&&(S.d(1),S=null),t[3]?z?z.p(t,s):(z=Ol(t),z.c(),z.m(l,x)):z&&(z.d(1),z=null),(!A||4&s)&&L!==(L=t[2]?"Searching...":"Search")&&Q($,L)},i(t){A||(v(m.$$.fragment,t),w((()=>{I&&I.end(1),T||(T=b(l,J,{delay:Ll})),T.start()})),A=!0)},o(t){G(m.$$.fragment,t),T&&T.invalidate(),I=D(l,J,{delay:0,duration:Sl}),A=!1},d(t){t&&o(l),ct(m),S&&S.d(),z&&z.d(),t&&I&&I.end(),N=!1,O()}}}const Ll=200,Sl=100,zl={SAFE:"rating:safe",UNSAFE:"rating:questionable",EXPLICIT:"rating:explicit"},Bl=U(["","rating:safe","rating:questionable","rating:explicit"]);function Ul(t,l=1500){function e(){const e=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress"))}),l),s=()=>{clearTimeout(e),t.removeEventListener("mousemove",s),t.removeEventListener("mouseup",s)};t.addEventListener("mousemove",s),t.addEventListener("mouseup",s)}function s(){const e=setTimeout((()=>{t.dispatchEvent(new CustomEvent("longpress"))}),l),s=()=>{clearTimeout(e),t.removeEventListener("touchmove",s),t.removeEventListener("touchend",s)};t.addEventListener("touchmove",s),t.addEventListener("touchend",s)}return t.addEventListener("mousedown",e),t.addEventListener("touchstart",s),{destroy(){t.removeEventListener("mousedown",e),t.removeEventListener("touchstart",s)}}}function Ml(t){function l(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}return t.addEventListener("oncontextmenu",l),{destroy(){t.removeEventListener("oncontextmenu",l)}}}function _l(t,l){return t.classList.toggle("active-button",l),{update(l){t.classList.toggle("active-button",l)}}}function Cl(t,l,e){let s,n,a,c;H(t,Pt,(t=>e(16,s=t))),H(t,Wt,(t=>e(2,n=t)));const{tags:i}=Mt;H(t,i,(t=>e(4,c=t)));const r=Y(),o=Vt("nsfw");H(t,o,(t=>e(3,a=t)));var u=Bl(s),d="";function h(t){e(1,d=d!==t?t:"")}function f(t){it(t,u)||e(0,u=B(t,u))}function v(t){it(t,c)&&rt(i,c=U([t],c),c)}g((()=>{document.querySelector(".svelte-tags-input").focus()}));return[u,d,n,a,c,i,o,h,async function(){if(n)return;const t=d?null==zl?void 0:zl[d]:"";r("search",[...u,a?t:"rating:safe"])},f,v,t=>v(t),t=>f(t),()=>h("SAFE"),()=>h("UNSAFE"),()=>h("EXPLICIT")]}class Pl extends t{constructor(t){super(),l(this,t,Cl,kl,e,{})}}function Vl(t,l,e){const s=t.slice();return s[4]=l[e][0],s[5]=l[e][1],s}function Dl(t){let l,e,v,m,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,z,B,U=Fl(t[5],t[0])?"AVAILABLE":"UNAVAILABLE",M=t[4]+"",_=Fl(t[5],"web")?"✓":"✗",C=Fl(t[5],"native")?"✓":"✗";function V(){return t[2](t[4])}return{c(){l=s("button"),e=s("p"),v=n(U),m=a(),p=s("p"),g=n(M),E=a(),x=s("p"),w=n("Supported platforms:"),b=a(),y=s("div"),$=s("p"),T=n("WEB: "),I=n(_),A=a(),N=s("p"),O=n("NATIVE: "),k=n(C),L=a(),this.h()},l(t){l=c(t,"BUTTON",{"data-supported":!0,class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);v=r(n,U),n.forEach(o),m=u(s),p=c(s,"P",{class:!0});var a=i(p);g=r(a,M),a.forEach(o),E=u(s),x=c(s,"P",{class:!0});var d=i(x);w=r(d,"Supported platforms:"),d.forEach(o),b=u(s),y=c(s,"DIV",{class:!0});var h=i(y);$=c(h,"P",{});var f=i($);T=r(f,"WEB: "),I=r(f,_),f.forEach(o),A=u(h),N=c(h,"P",{});var S=i(N);O=r(S,"NATIVE: "),k=r(S,C),S.forEach(o),h.forEach(o),L=u(s),s.forEach(o),this.h()},h(){d(e,"class","absolute top-0 right-0 pt-6 pr-6"),d(p,"class","pb-2 text-2xl"),d(x,"class","text-lg"),d(y,"class","pt-1 flex flex-row space-x-4"),d(l,"data-supported",S=Fl(t[5],t[0])),d(l,"class","svelte-xfx89l")},m(t,s){h(t,l,s),f(l,e),f(e,v),f(l,m),f(l,p),f(p,g),f(l,E),f(l,x),f(x,w),f(l,b),f(l,y),f(y,$),f($,T),f($,I),f(y,A),f(y,N),f(N,O),f(N,k),f(l,L),z||(B=P(l,"click",V),z=!0)},p(e,s){t=e,1&s&&U!==(U=Fl(t[5],t[0])?"AVAILABLE":"UNAVAILABLE")&&Q(v,U),1&s&&S!==(S=Fl(t[5],t[0]))&&d(l,"data-supported",S)},d(t){t&&o(l),z=!1,B()}}}function Rl(t){let l,e,v,p,g,E=Object.entries(Yt),x=[];for(let s=0;s<E.length;s+=1)x[s]=Dl(Vl(t,E,s));return{c(){l=s("main"),e=s("div");for(let t=0;t<x.length;t+=1)x[t].c();v=a(),p=s("button"),g=n("Help"),this.h()},l(t){l=c(t,"MAIN",{class:!0});var s=i(l);e=c(s,"DIV",{id:!0,class:!0});var n=i(e);for(let l=0;l<x.length;l+=1)x[l].l(n);n.forEach(o),v=u(s),p=c(s,"BUTTON",{class:!0});var a=i(p);g=r(a,"Help"),a.forEach(o),s.forEach(o),this.h()},h(){d(e,"id","backends"),d(e,"class","flex flex-col space-y-2 svelte-xfx89l"),d(p,"class","text-2xl svelte-xfx89l"),d(l,"class","flex flex-col svelte-xfx89l")},m(t,s){h(t,l,s),f(l,e);for(let l=0;l<x.length;l+=1)x[l].m(e,null);f(l,v),f(l,p),f(p,g)},p(t,[l]){if(3&l){let s;for(E=Object.entries(Yt),s=0;s<E.length;s+=1){const n=Vl(t,E,s);x[s]?x[s].p(n,l):(x[s]=Dl(n),x[s].c(),x[s].m(e,null))}for(;s<x.length;s+=1)x[s].d(1);x.length=E.length}},i:m,o:m,d(t){t&&o(l),j(x,t)}}}const Fl=(t,l)=>it(l,I([],null==t?void 0:t.PLATFORMS));function Gl(t,l,e){const s=Y();let n=null;function a(t){s("backendchange",t)}g((async()=>{"web"===(await x.getInfo()).platform?e(0,n="web"):e(0,n="native")}));return[n,a,t=>a(t)]}class ql extends t{constructor(t){super(),l(this,t,Gl,Rl,e,{})}}const jl={tags:$("favorites:tags",[]),images:$("favorites:images",[])};function Hl(t){const l=A(jl.tags);let e=l;e=z(O(t),l)?U([t],e):B(t,e),jl.tags.set(e)}function Yl(t){const l=A(jl.images);let e=l;const s=I(null,z(ot("id",t.id),l));e=s?U([s],e):B(t,e),jl.images.set(e)}jl.tags.subscribe((t=>Mt.tags.set(t))),jl.images.subscribe((t=>Mt.images.set(t)));function Wl(t,l,e){const s=t.slice();return s[21]=l[e],s}function Xl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Kl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-3xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Ql(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-4xl md:text-5xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Jl(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-4xl md:text-5xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Zl(t){let l,e,v,m,p,g,E=t[6]?"":"Add";function x(){return t[18](t[21])}return{c(){l=s("button"),e=n(E),v=a(),m=s("i"),this.h()},l(t){l=c(t,"BUTTON",{class:!0});var s=i(l);e=r(s,E),v=u(s),m=c(s,"I",{class:!0}),i(m).forEach(o),s.forEach(o),this.h()},h(){d(m,"class","ri-add-line text-4xl md:text-5xl"),d(l,"class","icon-button svelte-1pzovkq")},m(t,s){h(t,l,s),f(l,e),f(l,v),f(l,m),p||(g=P(l,"click",x),p=!0)},p(l,s){t=l,64&s&&E!==(E=t[6]?"":"Add")&&Q(e,E)},d(t){t&&o(l),p=!1,g()}}}function te(t){let l,e,v,m,p,g,E=t[6]?"":"Remove";function x(){return t[17](t[21])}return{c(){l=s("button"),e=n(E),v=a(),m=s("i"),this.h()},l(t){l=c(t,"BUTTON",{class:!0});var s=i(l);e=r(s,E),v=u(s),m=c(s,"I",{class:!0}),i(m).forEach(o),s.forEach(o),this.h()},h(){d(m,"class","ri-subtract-line text-4xl md:text-5xl"),d(l,"class","icon-button svelte-1pzovkq")},m(t,s){h(t,l,s),f(l,e),f(l,v),f(l,m),p||(g=P(l,"click",x),p=!0)},p(l,s){t=l,64&s&&E!==(E=t[6]?"":"Remove")&&Q(e,E)},d(t){t&&o(l),p=!1,g()}}}function le(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-4xl md:text-5xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function ee(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-fill text-4xl md:text-5xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function se(t){let l,e,v,m,p,g,E,x,w,b,y,$=t[21]+"";function T(t,l){return(null==p||12&l)&&(p=!!t[3](t[21])),p?te:Zl}let I=T(t,-1),A=I(t);function N(t,l){return(null==x||36&l)&&(x=!!t[5](t[21])),x?ee:le}let O=N(t,-1),k=O(t);function L(){return t[19](t[21])}return{c(){l=s("div"),e=s("p"),v=n($),m=a(),A.c(),g=a(),E=s("button"),k.c(),w=a(),this.h()},l(t){l=c(t,"DIV",{class:!0});var s=i(l);e=c(s,"P",{class:!0});var n=i(e);v=r(n,$),n.forEach(o),m=u(s),A.l(s),g=u(s),E=c(s,"BUTTON",{class:!0});var a=i(E);k.l(a),a.forEach(o),w=u(s),s.forEach(o),this.h()},h(){d(e,"class","truncate flex-1 md:text-lg font-light svelte-1pzovkq"),d(E,"class","icon-button svelte-1pzovkq"),d(l,"class","p-4 flex flex-row rounded-lg items-center svelte-1pzovkq")},m(t,s){h(t,l,s),f(l,e),f(e,v),f(l,m),A.m(l,null),f(l,g),f(l,E),k.m(E,null),f(l,w),b||(y=P(E,"click",L),b=!0)},p(e,s){t=e,4&s&&$!==($=t[21]+"")&&Q(v,$),I===(I=T(t,s))&&A?A.p(t,s):(A.d(1),A=I(t),A&&(A.c(),A.m(l,g))),O!==(O=N(t,s))&&(k.d(1),k=O(t),k&&(k.c(),k.m(E,null)))},d(t){t&&o(l),A.d(),k.d(),b=!1,y()}}}function ne(t){let l,e,a,u;return{c(){l=s("button"),e=n("CLOSE"),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var s=i(l);e=r(s,"CLOSE"),s.forEach(o),this.h()},h(){d(l,"id","close-button"),d(l,"class","tracking-wider svelte-1pzovkq")},m(s,n){h(s,l,n),f(l,e),a||(u=P(l,"click",t[20]),a=!0)},p:m,d(t){t&&o(l),a=!1,u()}}}function ae(t){var l;let e,v,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,z,B,U,M,_,C,V,D,F,G,q,H,Y,W=(null==(l=t[1])?void 0:l.artist)+"";function X(t,l){return t[4]?Kl:Xl}let K=X(t),J=K(t);function Z(t,l){var e;return(null==D||34&l)&&(D=!!t[5](null==(e=t[1])?void 0:e.artist)),D?Jl:Ql}let tt=Z(t,-1),lt=tt(t),et=t[2],st=[];for(let s=0;s<et.length;s+=1)st[s]=se(Wl(t,et,s));let nt=t[0]&&ne(t);return{c(){e=s("article"),v=s("div"),p=s("button"),J.c(),g=a(),E=s("a"),x=s("i"),y=a(),$=s("button"),T=s("i"),I=a(),A=s("a"),N=s("i"),k=a(),L=s("section"),S=s("div"),z=s("p"),B=n("Artist:"),U=a(),M=s("p"),_=n(W),C=a(),V=s("button"),lt.c(),F=a(),G=s("div");for(let t=0;t<st.length;t+=1)st[t].c();q=a(),nt&&nt.c(),this.h()},l(t){e=c(t,"ARTICLE",{class:!0});var l=i(e);v=c(l,"DIV",{class:!0});var s=i(v);p=c(s,"BUTTON",{class:!0});var n=i(p);J.l(n),n.forEach(o),g=u(s),E=c(s,"A",{class:!0,href:!0,download:!0});var a=i(E);x=c(a,"I",{class:!0}),i(x).forEach(o),a.forEach(o),y=u(s),$=c(s,"BUTTON",{class:!0});var d=i($);T=c(d,"I",{class:!0}),i(T).forEach(o),d.forEach(o),I=u(s),A=c(s,"A",{class:!0,href:!0,target:!0});var h=i(A);N=c(h,"I",{class:!0}),i(N).forEach(o),h.forEach(o),s.forEach(o),k=u(l),L=c(l,"SECTION",{class:!0});var f=i(L);S=c(f,"DIV",{class:!0});var m=i(S);z=c(m,"P",{class:!0});var w=i(z);B=r(w,"Artist:"),w.forEach(o),U=u(m),M=c(m,"P",{class:!0});var b=i(M);_=r(b,W),b.forEach(o),m.forEach(o),C=u(f),V=c(f,"BUTTON",{class:!0});var O=i(V);lt.l(O),O.forEach(o),f.forEach(o),F=u(l),G=c(l,"DIV",{id:!0,class:!0});var P=i(G);for(let e=0;e<st.length;e+=1)st[e].l(P);P.forEach(o),q=u(l),nt&&nt.l(l),l.forEach(o),this.h()},h(){var l,s;d(p,"class","icon-button svelte-1pzovkq"),d(x,"class","ri-download-fill text-4xl"),d(E,"class","icon-button svelte-1pzovkq"),d(E,"href",w=sl(t[1])),d(E,"download",b=null==(l=t[1])?void 0:l.file_name),d(T,"class","ri-file-copy-fill text-4xl"),d($,"class","icon-button svelte-1pzovkq"),d(N,"class","ri-phone-find-line text-4xl"),d(A,"class","icon-button svelte-1pzovkq"),d(A,"href",O=null==(s=t[1])?void 0:s.source),d(A,"target","_blank"),d(v,"class","p-2 flex flex-row justify-between space-x-4 svelte-1pzovkq"),d(z,"class","text-lg"),d(M,"class","text-xl font-light"),d(S,"class","flex-1 flex flex-col"),d(V,"class","icon-button svelte-1pzovkq"),d(L,"class","p-4 flex flex-row svelte-1pzovkq"),d(G,"id","tags"),d(G,"class","flex flex-col svelte-1pzovkq"),d(e,"class","flex flex-col space-y-2 svelte-1pzovkq")},m(l,s){h(l,e,s),f(e,v),f(v,p),J.m(p,null),f(v,g),f(v,E),f(E,x),f(v,y),f(v,$),f($,T),f(v,I),f(v,A),f(A,N),f(e,k),f(e,L),f(L,S),f(S,z),f(z,B),f(S,U),f(S,M),f(M,_),f(L,C),f(L,V),lt.m(V,null),f(e,F),f(e,G);for(let t=0;t<st.length;t+=1)st[t].m(G,null);f(e,q),nt&&nt.m(e,null),H||(Y=[P(p,"click",t[15]),P($,"click",t[11]),P(V,"click",t[16])],H=!0)},p(t,[l]){var s,n,a;if(K!==(K=X(t))&&(J.d(1),J=K(t),J&&(J.c(),J.m(p,null))),2&l&&w!==(w=sl(t[1]))&&d(E,"href",w),2&l&&b!==(b=null==(s=t[1])?void 0:s.file_name)&&d(E,"download",b),2&l&&O!==(O=null==(n=t[1])?void 0:n.source)&&d(A,"href",O),2&l&&W!==(W=(null==(a=t[1])?void 0:a.artist)+"")&&Q(_,W),tt!==(tt=Z(t,l))&&(lt.d(1),lt=tt(t),lt&&(lt.c(),lt.m(V,null))),108&l){let e;for(et=t[2],e=0;e<et.length;e+=1){const s=Wl(t,et,e);st[e]?st[e].p(s,l):(st[e]=se(s),st[e].c(),st[e].m(G,null))}for(;e<st.length;e+=1)st[e].d(1);st.length=et.length}t[0]?nt?nt.p(t,l):(nt=ne(t),nt.c(),nt.m(e,null)):nt&&(nt.d(1),nt=null)},i:m,o:m,d(t){t&&o(e),J.d(),lt.d(),j(st,t),nt&&nt.d(),H=!1,R(Y)}}}function ce(t,l,e){let s,n,a,c,i,r,o,u,d;H(t,Ct,(t=>e(1,i=t))),H(t,Pt,(t=>e(12,r=t)));const{tags:h,images:f}=Mt;H(t,h,(t=>e(14,u=t))),H(t,f,(t=>e(13,o=t)));const{isMobile:v}=p("window");H(t,v,(t=>e(6,d=t)));const m=Y();let{closable:g=!1}=l;return t.$$set=t=>{"closable"in t&&e(0,g=t.closable)},t.$$.update=()=>{2&t.$$.dirty&&e(2,s=I([],null==i?void 0:i.tags)),4096&t.$$.dirty&&e(3,n=t=>it(t,r)),8194&t.$$.dirty&&e(4,a=void 0!==z(ot("id",null==i?void 0:i.id),o)),16384&t.$$.dirty&&e(5,c=t=>it(t,u))},[g,i,s,n,a,c,d,h,f,v,m,function(){ut.write({url:null==i?void 0:i.file_url})},r,o,u,()=>Yl(i),()=>Hl(null==i?void 0:i.artist),t=>Zt(t),t=>Zt(t),t=>Hl(t),()=>m("close")]}class ie extends t{constructor(t){super(),l(this,t,ce,ae,e,{closable:0})}}function re(t){let l,e,n,a,i;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){l.src!==(e=sl(t[0]))&&d(l,"src",e),d(l,"alt","current"),d(l,"class","svelte-azo6by")},m(e,s){h(e,l,s),t[31](l),a||(i=C(n=dl.call(null,l,[t[0],!0])),a=!0)},p(t,s){1&s[0]&&l.src!==(e=sl(t[0]))&&d(l,"src",e),n&&V(n.update)&&1&s[0]&&n.update.call(null,[t[0],!0])},d(e){e&&o(l),t[31](null),a=!1,i()}}}function oe(t){let l,s=t[0],n=he(t);return{c(){n.c(),l=xt()},l(t){n.l(t),l=xt()},m(t,e){n.m(t,e),h(t,l,e)},p(t,a){1&a[0]&&e(s,s=t[0])?(n.d(1),n=he(t),n.c(),n.m(l.parentNode,l)):n.p(t,a)},d(t){t&&o(l),n.d(t)}}}function ue(t){let l,e,n,a,i;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){l.src!==(e=el(t[0]))&&d(l,"src",e),d(l,"alt","current"),d(l,"class","svelte-azo6by")},m(e,s){h(e,l,s),t[30](l),a||(i=C(n=dl.call(null,l,[t[0],!0])),a=!0)},p(t,s){1&s[0]&&l.src!==(e=el(t[0]))&&d(l,"src",e),n&&V(n.update)&&1&s[0]&&n.update.call(null,[t[0],!0])},d(e){e&&o(l),t[30](null),a=!1,i()}}}function de(t){let l,e,v,m,p,g,E,x,b,y,$,T,I,A,N,O,k,L,S,z,B,U,M,_,V,D=!1,F=Math.floor(t[8])+"",G=Math.floor(t[7])+"";function q(){cancelAnimationFrame(g),e.paused||(g=wt(q),D=!0),t[27].call(e)}return{c(){l=s("div"),e=s("video"),v=s("track"),m=s("source"),E=a(),x=s("div"),b=s("button"),y=s("i"),$=a(),T=s("button"),I=s("i"),A=a(),N=s("button"),O=s("i"),k=a(),L=s("div"),S=a(),z=s("p"),B=n(F),U=n(" / "),M=n(G),this.h()},l(t){l=c(t,"DIV",{});var s=i(l);e=c(s,"VIDEO",{class:!0,width:!0,height:!0});var n=i(e);v=c(n,"TRACK",{kind:!0}),m=c(n,"SOURCE",{src:!0}),n.forEach(o),E=u(s),x=c(s,"DIV",{id:!0,class:!0});var a=i(x);b=c(a,"BUTTON",{class:!0});var d=i(b);y=c(d,"I",{class:!0}),i(y).forEach(o),d.forEach(o),$=u(a),T=c(a,"BUTTON",{class:!0});var h=i(T);I=c(h,"I",{class:!0}),i(I).forEach(o),h.forEach(o),A=u(a),N=c(a,"BUTTON",{class:!0});var f=i(N);O=c(f,"I",{class:!0}),i(O).forEach(o),f.forEach(o),k=u(a),L=c(a,"DIV",{class:!0}),i(L).forEach(o),S=u(a),z=c(a,"P",{class:!0});var p=i(z);B=r(p,F),U=r(p," / "),M=r(p,G),p.forEach(o),a.forEach(o),s.forEach(o),this.h()},h(){v.default=!0,d(v,"kind","captions"),m.src!==(p=sl(t[0]))&&d(m,"src",p),d(e,"class","relative h-screen bg-black"),d(e,"width",t[4]),d(e,"height",t[12]),e.loop=!0,void 0===t[7]&&w((()=>t[28].call(e))),d(y,"class","ri-play-line text-5xl"),d(b,"class","w-16 h-16 z-10"),d(I,"class","ri-skip-forward-line text-5xl"),d(T,"class","w-16 h-16 z-10"),d(O,"class","ri-skip-back-line text-5xl"),d(N,"class","w-16 h-16 z-10"),d(L,"class","flex-1"),d(z,"class","pb-2"),d(x,"id","video-buttons"),d(x,"class","fixed flex flex-row items-center pl-2 pr-4 z-10 svelte-azo6by")},m(s,n){h(s,l,n),f(l,e),f(e,v),f(e,m),t[26](e),f(l,E),f(l,x),f(x,b),f(b,y),f(x,$),f(x,T),f(T,I),f(x,A),f(x,N),f(N,O),f(x,k),f(x,L),f(x,S),f(x,z),f(z,B),f(z,U),f(z,M),_||(V=[C(we.call(null,e)),P(e,"timeupdate",q),P(e,"durationchange",t[28]),P(e,"click",t[29]),P(b,"click",t[19]),P(b,"touchend",t[19],{passive:!0}),P(T,"click",t[20]),P(T,"touchend",t[20],{passive:!0}),P(N,"click",t[21]),P(N,"touchend",t[21],{passive:!0})],_=!0)},p(t,l){1&l[0]&&m.src!==(p=sl(t[0]))&&d(m,"src",p),16&l[0]&&d(e,"width",t[4]),4096&l[0]&&d(e,"height",t[12]),!D&&256&l[0]&&!isNaN(t[8])&&(e.currentTime=t[8]),D=!1,256&l[0]&&F!==(F=Math.floor(t[8])+"")&&Q(B,F),128&l[0]&&G!==(G=Math.floor(t[7])+"")&&Q(M,G)},d(e){e&&o(l),t[26](null),_=!1,R(V)}}}function he(t){let l;function e(t,l){var e;return(null==(e=t[11])?void 0:e[t[0].id])?de:ue}let s=e(t),n=s(t);return{c(){n.c(),l=xt()},l(t){n.l(t),l=xt()},m(t,e){n.m(t,e),h(t,l,e)},p(t,a){s===(s=e(t))&&n?n.p(t,a):(n.d(1),n=s(t),n&&(n.c(),n.m(l.parentNode,l)))},d(t){n.d(t),t&&o(l)}}}function fe(t){let l,e,n,r,m,p,g,E,x,y,$,T,I,A,N,O;function k(t,l){var e;return(null==(e=t[0])?void 0:e.video)?oe:re}let L=k(t),S=L(t);return T=new ie({props:{closable:!0}}),T.$on("close",t[33]),{c(){l=s("div"),e=s("div"),n=s("img"),m=a(),S.c(),p=a(),g=s("img"),y=a(),$=s("div"),st(T.$$.fragment),this.h()},l(t){l=c(t,"DIV",{class:!0});var s=i(l);e=c(s,"DIV",{id:!0,class:!0,style:!0});var a=i(e);n=c(a,"IMG",{class:!0,alt:!0,src:!0}),m=u(a),S.l(a),p=u(a),g=c(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach(o),s.forEach(o),y=u(t),$=c(t,"DIV",{id:!0,style:!0,class:!0});var r=i($);nt(T.$$.fragment,r),r.forEach(o),this.h()},h(){d(n,"class","invisible svelte-azo6by"),d(n,"alt","previous"),n.src!==(r=el(t[5]))&&d(n,"src",r),d(g,"class","invisible svelte-azo6by"),g.src!==(E=el(t[6]))&&d(g,"src",E),d(g,"alt","next"),d(e,"id","carousel"),d(e,"class","flex flex-row w-[300vw] svelte-azo6by"),K(e,"transform","translate("+(-t[4]+t[9])+"px,"+t[10]+"px)"),d(l,"class","fixed top-0 left-0"),d($,"id","info-container"),d($,"style",I=t[3]?"":`transform:translateY(${t[12]+1.75*t[10]}px`),d($,"class","svelte-azo6by")},m(s,a){h(s,l,a),f(l,e),f(e,n),f(e,m),S.m(e,null),f(e,p),f(e,g),t[32](e),h(s,y,a),h(s,$,a),at(T,$,null),A=!0,N||(O=[C(xe.call(null,n)),C(xe.call(null,g)),C(t[18].call(null,l))],N=!0)},p(t,l){(!A||32&l[0]&&n.src!==(r=el(t[5])))&&d(n,"src",r),L===(L=k(t))&&S?S.p(t,l):(S.d(1),S=L(t),S&&(S.c(),S.m(e,p))),(!A||64&l[0]&&g.src!==(E=el(t[6])))&&d(g,"src",E),(!A||1552&l[0])&&K(e,"transform","translate("+(-t[4]+t[9])+"px,"+t[10]+"px)"),(!A||5128&l[0]&&I!==(I=t[3]?"":`transform:translateY(${t[12]+1.75*t[10]}px`))&&d($,"style",I)},i(t){A||(x||w((()=>{x=b(l,ht,{y:1e3}),x.start()})),v(T.$$.fragment,t),A=!0)},o(t){G(T.$$.fragment,t),A=!1},d(e){e&&o(l),S.d(),t[32](null),e&&o(y),e&&o($),ct(T),N=!1,R(O)}}}const ve=dt(O(0),(()=>null)),me=t=>t>200&&t<315,pe=t=>t>120&&t<200,ge=t=>t>0&&t<60||t>315&&t<=360,Ee=t=>t>60&&t<120;function xe(t){setTimeout((()=>{t.classList.remove("invisible")}),300)}function we(t){null==t||t.play()}function be(t,l,e){let s,n,a,c,i,r,o,u,d,h,f;H(t,_t,(t=>e(23,o=t))),H(t,ll,(t=>e(11,h=t)));const v=Y();let{image:m=null}=l;const{width:g,height:E}=p("window");H(t,g,(t=>e(4,i=t))),H(t,E,(t=>e(12,f=t)));var x=null;const w=Vt("swipeDistance");H(t,w,(t=>e(22,r=t)));var b=null,$=null,T=null,A=!1;const N=y(null);H(t,N,(t=>e(24,u=t)));const k=pt(0,{duration:50});function L(){d>s&&("DOWN"===u&&rt(k,d=0,d),"UP"===u&&(rt(k,d=0,d),e(3,A=!0)),"LEFT"===u&&v("imagechange",T),"RIGHT"===u&&v("imagechange",$),v("swipe",u)),rt(N,u=null,u),rt(k,d=0,d)}H(t,k,(t=>e(25,d=t)));var z=null;var B=0,U=0;return t.$$set=t=>{"image"in t&&e(0,m=t.image)},t.$$.update=()=>{if(4194320&t.$$.dirty[0]&&(s=I(120,ve(i*r))),4194320&t.$$.dirty[0]&&(n=I(450,ve(i*r*3))),8388609&t.$$.dirty[0]){const t=ft(O(m))(o);e(5,$=o[vt(t-1,0)]),e(6,T=o[mt(t+1,S(o))])}var l,h,f;50331648&t.$$.dirty[0]&&e(9,a="RIGHT"===u?d:"LEFT"===u?-d:0),50331648&t.$$.dirty[0]&&e(10,c="DOWN"===u?d:"UP"===u?-d:0),14&t.$$.dirty[0]&&(l=b,h=x,f=A,z&&l&&(f?z.unbind(h,"pan"):(z.bind(h,"pan",(function(t){const l=t.detail.data[0].directionFromOrigin,e=t.detail.data[0].distanceFromOrigin;let s=null;me(l)?s="DOWN":pe(l)?s="LEFT":ge(l)?s="RIGHT":Ee(l)&&(s="UP"),s!==u?(rt(N,u=s,u),rt(k,d=0,d)):rt(k,d=e,d),e>n&&L()})),window.addEventListener("touchend",L))))},[m,x,b,A,i,$,T,B,U,a,c,h,f,g,E,w,N,k,function(t){if(t&&!z)return z=gt.Region(t),{destroy(){z.unbind(x,"pan"),window.removeEventListener("touchend",L),z=null}}},function(){(null==m?void 0:m.video)&&void 0!==b.paused&&((null==b?void 0:b.paused)?null==b||b.play():null==b||b.pause())},function(){(null==m?void 0:m.video)&&(null==b||b.pause(),e(2,b.currentTime=Math.min((null==b?void 0:b.currentTime)+5,B),b),null==b||b.play())},function(){(null==m?void 0:m.video)&&(null==b||b.pause(),e(2,b.currentTime=Math.max((null==b?void 0:b.currentTime)-5,0),b),null==b||b.play())},r,o,u,d,function(t){Et[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(){U=this.currentTime,e(8,U)},function(){B=this.duration,e(7,B)},t=>b.play(),function(t){Et[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(t){Et[t?"unshift":"push"]((()=>{e(2,b=t)}))},function(t){Et[t?"unshift":"push"]((()=>{e(1,x=t)}))},()=>{e(3,A=!1)}]}class ye extends t{constructor(t){super(),l(this,t,be,fe,e,{image:0},[-1,-1])}}const{window:$e}=bt;function Te(t){let l,e,n,a,r,u;function f(t,l){return t[8]?Ae:Ie}let v=f(t),m=v(t);return{c(){l=s("button"),m.c(),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var e=i(l);m.l(e),e.forEach(o),this.h()},h(){d(l,"id","backend-button"),d(l,"class","svelte-vmr877")},m(e,s){h(e,l,s),m.m(l,null),a=!0,r||(u=P(l,"click",t[20]),r=!0)},p(e,s){v===(v=f(t=e))&&m?m.p(t,s):(m.d(1),m=v(t),m&&(m.c(),m.m(l,null)))},i(t){a||(w((()=>{n&&n.end(1),e||(e=b(l,J,{delay:Ll})),e.start()})),a=!0)},o(t){e&&e.invalidate(),n=D(l,J,{duration:Sl}),a=!1},d(t){t&&o(l),m.d(),t&&n&&n.end(),r=!1,u()}}}function Ie(t){let l;return{c(){l=n(t[10])},l(e){l=r(e,t[10])},m(t,e){h(t,l,e)},p(t,e){1024&e[0]&&Q(l,t[10])},d(t){t&&o(l)}}}function Ae(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-gallery-line text-3xl")},m(t,e){h(t,l,e)},p:m,d(t){t&&o(l)}}}function Ne(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-settings-2-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Oe(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-close-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function ke(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-search-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Le(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-close-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Se(t){let l,e;return l=new El({props:{blur:t[1]||t[5]||t[6]}}),l.$on("imageclick",t[27]),{c(){st(l.$$.fragment)},l(t){nt(l.$$.fragment,t)},m(t,s){at(l,t,s),e=!0},p(t,e){const s={};98&e[0]&&(s.blur=t[1]||t[5]||t[6]),l.$set(s)},i(t){e||(v(l.$$.fragment,t),e=!0)},o(t){G(l.$$.fragment,t),e=!1},d(t){ct(l,t)}}}function ze(t){let l,e;return l=new ye({props:{image:t[0]}}),l.$on("imagechange",t[28]),l.$on("swipe",t[29]),{c(){st(l.$$.fragment)},l(t){nt(l.$$.fragment,t)},m(t,s){at(l,t,s),e=!0},p(t,e){const s={};1&e[0]&&(s.image=t[0]),l.$set(s)},i(t){e||(v(l.$$.fragment,t),e=!0)},o(t){G(l.$$.fragment,t),e=!1},d(t){ct(l,t)}}}function Be(t){let l,e;return{c(){l=s("p"),e=n("No more images..."),this.h()},l(t){l=c(t,"P",{class:!0});var s=i(l);e=r(s,"No more images..."),s.forEach(o),this.h()},h(){d(l,"class","text-3xl text-center pb-2")},m(t,s){h(t,l,s),f(l,e)},p:m,d(t){t&&o(l)}}}function Ue(t){let l,e,a,u;return{c(){l=s("button"),e=n("More"),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var s=i(l);e=r(s,"More"),s.forEach(o),this.h()},h(){d(l,"id","more-button"),d(l,"class","mb-2 svelte-vmr877")},m(s,n){h(s,l,n),f(l,e),a||(u=P(l,"click",t[30]),a=!0)},p:m,d(t){t&&o(l),a=!1,u()}}}function Me(t){let l,e,n;return e=new Tl({}),{c(){l=s("div"),st(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);nt(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","settings-menu"),d(l,"class","svelte-vmr877")},m(t,s){h(t,l,s),at(e,l,null),n=!0},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){t&&o(l),ct(e)}}}function _e(t){let l,e,n;return e=new Pl({}),e.$on("search",t[21]),{c(){l=s("div"),st(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);nt(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","search-menu"),d(l,"class","svelte-vmr877")},m(t,s){h(t,l,s),at(e,l,null),n=!0},p:m,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){t&&o(l),ct(e)}}}function Ce(t){let l,e,n;return e=new ql({}),e.$on("backendchange",t[22]),{c(){l=s("div"),st(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);nt(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","backends-menu"),d(l,"class","svelte-vmr877")},m(t,s){h(t,l,s),at(e,l,null),n=!0},p:m,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){t&&o(l),ct(e)}}}function Pe(t){let l,e,n,a;return{c(){l=s("button"),e=s("i"),this.h()},l(t){l=c(t,"BUTTON",{id:!0,class:!0});var s=i(l);e=c(s,"I",{class:!0}),i(e).forEach(o),s.forEach(o),this.h()},h(){d(e,"class","ri-arrow-up-line text-2xl text-black"),d(l,"id","back-button"),d(l,"class","svelte-vmr877")},m(s,c){h(s,l,c),f(l,e),n||(a=P(l,"click",t[31]),n=!0)},p:m,d(t){t&&o(l),n=!1,a()}}}function Ve(t){let l,e,n,r,m,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,z,B=t[1]&&Te(t);function U(t,l){return t[5]?Oe:Ne}let M=U(t),_=M(t);function V(t,l){return t[1]?Le:ke}let D=V(t),j=D(t),H=t[4]&&Se(t),Y=t[8]&&t[0]&&ze(t);function W(t,l){return!t[3]||t[0]||t[1]||t[5]||t[6]||t[11]||!t[9]?!t[3]||t[0]||t[1]||t[5]||t[6]||t[9]?void 0:Be:Ue}let X=W(t),K=X&&X(t),Q=t[5]&&Me(),J=t[1]&&_e(t),Z=t[6]&&Ce(t),tt=t[7]&&!t[0]&&!t[1]&&!t[5]&&!t[6]&&Pe(t);return{c(){l=s("nav"),B&&B.c(),e=a(),n=s("div"),r=a(),m=s("div"),p=s("i"),g=a(),E=s("div"),_.c(),x=a(),w=s("div"),j.c(),b=a(),y=s("article"),H&&H.c(),$=a(),Y&&Y.c(),T=a(),K&&K.c(),I=a(),Q&&Q.c(),A=a(),J&&J.c(),N=a(),Z&&Z.c(),O=a(),tt&&tt.c(),k=xt(),this.h()},l(t){l=c(t,"NAV",{class:!0});var s=i(l);B&&B.l(s),e=u(s),n=c(s,"DIV",{class:!0}),i(n).forEach(o),r=u(s),m=c(s,"DIV",{id:!0,class:!0});var a=i(m);p=c(a,"I",{class:!0}),i(p).forEach(o),a.forEach(o),g=u(s),E=c(s,"DIV",{id:!0,class:!0});var d=i(E);_.l(d),d.forEach(o),x=u(s),w=c(s,"DIV",{id:!0,class:!0});var h=i(w);j.l(h),h.forEach(o),s.forEach(o),b=u(t),y=c(t,"ARTICLE",{class:!0});var f=i(y);H&&H.l(f),f.forEach(o),$=u(t),Y&&Y.l(t),T=u(t),K&&K.l(t),I=u(t),Q&&Q.l(t),A=u(t),J&&J.l(t),N=u(t),Z&&Z.l(t),O=u(t),tt&&tt.l(t),k=xt(),this.h()},h(){d(n,"class","flex-1"),d(p,"class","ri-star-line text-3xl"),d(m,"id","favorites-icon"),d(m,"class","svelte-vmr877"),d(E,"id","settings-icon"),d(E,"class","svelte-vmr877"),d(w,"id","search-icon"),d(w,"class","svelte-vmr877"),d(l,"class","flex flex-row items-center space-x-4 svelte-vmr877"),d(y,"class","flex-1 flex flex-col items-stretch svelte-vmr877")},m(s,a){h(s,l,a),B&&B.m(l,null),f(l,e),f(l,n),f(l,r),f(l,m),f(m,p),f(l,g),f(l,E),_.m(E,null),f(l,x),f(l,w),j.m(w,null),h(s,b,a),h(s,y,a),H&&H.m(y,null),h(s,$,a),Y&&Y.m(s,a),h(s,T,a),K&&K.m(s,a),h(s,I,a),Q&&Q.m(s,a),h(s,A,a),J&&J.m(s,a),h(s,N,a),Z&&Z.m(s,a),h(s,O,a),tt&&tt.m(s,a),h(s,k,a),L=!0,S||(z=[P($e,"keyup",t[24]),P(m,"click",t[17]),P(E,"click",t[18]),P(w,"click",t[19]),C(t[23].call(null,y))],S=!0)},p(t,s){t[1]?B?(B.p(t,s),2&s[0]&&v(B,1)):(B=Te(t),B.c(),v(B,1),B.m(l,e)):B&&(F(),G(B,1,1,(()=>{B=null})),q()),M!==(M=U(t))&&(_.d(1),_=M(t),_&&(_.c(),_.m(E,null))),D!==(D=V(t))&&(j.d(1),j=D(t),j&&(j.c(),j.m(w,null))),t[4]?H?(H.p(t,s),16&s[0]&&v(H,1)):(H=Se(t),H.c(),v(H,1),H.m(y,null)):H&&(F(),G(H,1,1,(()=>{H=null})),q()),t[8]&&t[0]?Y?(Y.p(t,s),257&s[0]&&v(Y,1)):(Y=ze(t),Y.c(),v(Y,1),Y.m(T.parentNode,T)):Y&&(F(),G(Y,1,1,(()=>{Y=null})),q()),X===(X=W(t))&&K?K.p(t,s):(K&&K.d(1),K=X&&X(t),K&&(K.c(),K.m(I.parentNode,I))),t[5]?Q?32&s[0]&&v(Q,1):(Q=Me(),Q.c(),v(Q,1),Q.m(A.parentNode,A)):Q&&(F(),G(Q,1,1,(()=>{Q=null})),q()),t[1]?J?(J.p(t,s),2&s[0]&&v(J,1)):(J=_e(t),J.c(),v(J,1),J.m(N.parentNode,N)):J&&(F(),G(J,1,1,(()=>{J=null})),q()),t[6]?Z?(Z.p(t,s),64&s[0]&&v(Z,1)):(Z=Ce(t),Z.c(),v(Z,1),Z.m(O.parentNode,O)):Z&&(F(),G(Z,1,1,(()=>{Z=null})),q()),!t[7]||t[0]||t[1]||t[5]||t[6]?tt&&(tt.d(1),tt=null):tt?tt.p(t,s):(tt=Pe(t),tt.c(),tt.m(k.parentNode,k))},i(t){L||(v(B),v(H),v(Y),v(Q),v(J),v(Z),L=!0)},o(t){G(B),G(H),G(Y),G(Q),G(J),G(Z),L=!1},d(t){t&&o(l),B&&B.d(),_.d(),j.d(),t&&o(b),t&&o(y),H&&H.d(),t&&o($),Y&&Y.d(t),t&&o(T),K&&K.d(t),t&&o(I),Q&&Q.d(t),t&&o(A),J&&J.d(t),t&&o(N),Z&&Z.d(t),t&&o(O),tt&&tt.d(t),t&&o(k),S=!1,R(z)}}}const De=y(0);function Re(t,l,e){let s,n,a,c,i,r,o,u,d,h,f,v=m;H(t,Ct,(t=>e(33,n=t))),H(t,Pt,(t=>e(34,i=t))),H(t,_t,(t=>e(35,r=t))),H(t,Kt,(t=>e(9,u=t))),H(t,De,(t=>e(37,d=t))),H(t,Wt,(t=>e(11,f=t))),t.$$.on_destroy.push((()=>v()));const{images:g}=Mt;H(t,g,(t=>e(36,o=t)));const{navigate:E}=p("navigator");var x=!1;const w=Vt("backend");H(t,w,(t=>e(10,h=t)));const{height:b,isMobile:y}=p("window");H(t,b,(t=>e(26,a=t))),H(t,y,(t=>e(8,c=t)));var $=null,T=0,I=n,N=!1,O=!0,k=!1,L=!1,z=!1;function B(t){e(0,I=t),c||(e(4,O=!1),setTimeout((()=>E("Image")),210))}return t.$$.update=()=>{1&t.$$.dirty[0]&&rt(Ct,n=I,n),100663296&t.$$.dirty[0]&&e(7,s=T>a),3&t.$$.dirty[0]&&document.body.classList.toggle("noscroll",L||null!==I)},[I,L,$,N,O,k,z,s,c,u,h,f,g,w,b,y,B,function(){rt(Pt,i=[],i),rt(_t,r=o,r),rt(Kt,u=!1,u)},function(){e(6,z=!1),e(1,L=!1),setTimeout((()=>{e(5,k=!k)}),bl)},function(){window.scrollTo(0,0),e(6,z=!1),e(5,k=!1),setTimeout((()=>{e(1,L=!L)}),bl)},function(){z?(e(6,z=!1),e(1,L=!0)):(e(1,L=!1),setTimeout((()=>{e(6,z=!0)}),Sl))},async function(t){const l=t.detail;$.getScrollElement().scrollTop=0,rt(_t,r=[],r),await new Promise((t=>setTimeout(t,210))),await async function(t){if(A(Wt))return!1;const l=Yt[A(Jt)];Xt.set(0),Kt.set(!1),_t.set([]),Wt.set(!0);const[e,s]=await l.fetchImages(t,{page:A(Xt),limit:A(Qt)});return Wt.set(!1),Pt.set(t),_t.set(s),S(s)>0&&Kt.set(!0),e}(l)&&e(1,L=!1)},function(t){Dt("backend",null==t?void 0:t.detail),e(6,z=!1),e(1,L=!0)},function(t){function l(){e(25,T=$.getScrollElement().scrollTop);const t=$.getScrollElement().scrollHeight;Math.abs(window.innerHeight-Rt(6.5)+T-t)<Rt(6)||t>0&&t<window.innerHeight?e(3,N=!0):e(3,N=!1),rt(De,d=T,d)}e(2,$=new yt(t)),$.getScrollElement().scrollTop=d,$.getScrollElement().addEventListener("scroll",l),_t.subscribe((async()=>{$.recalculate(),await $t(),l()}))},function(t){"Escape"===t.key&&(L&&e(1,L=!1),k?e(5,k=!1):async function(){if(x)return;x=!0,rt(_t,r=[],r),e(5,k=!1),e(1,L=!1);const t=Math.max(200,k?200+bl:0,L?200+Sl:0);setTimeout((()=>E("Start")),t+10)}())},T,a,t=>B(t.detail),t=>{const l=t.detail;e(0,I=l)},t=>{"DOWN"===t.detail&&e(0,I=null)},()=>{e(3,N=!1),async function(){if(!A(Kt))return!1;if(A(Wt))return!1;const t=Yt[A(Jt)];Wt.set(!0),Xt.update((t=>t+1));const[l,e]=await t.fetchImages(A(Pt),{page:A(Xt),limit:A(Qt)});e&&(null==e?void 0:e.length)<1&&Kt.set(!1),Wt.set(!1),_t.set([...A(_t),...e])}()},()=>{$.getScrollElement().scrollTo(0,0)}]}function Fe(t,l,e){const s=t.slice();return s[9]=l[e],s}function Ge(t){let l,e,n,a,i,r;function u(){return t[7](t[9])}return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(l,"class","object-contain transform hover:scale-110 svelte-u94g43"),l.src!==(e=el(t[9]))&&d(l,"src",e),d(l,"alt","adjacent")},m(e,s){h(e,l,s),i||(r=[C(n=dl.call(null,l,[t[9]])),C(a=je.call(null,l,t[9]===t[0])),P(l,"click",u)],i=!0)},p(s,c){t=s,2&c&&l.src!==(e=el(t[9]))&&d(l,"src",e),n&&V(n.update)&&2&c&&n.update.call(null,[t[9]]),a&&V(a.update)&&3&c&&a.update.call(null,t[9]===t[0])},d(t){t&&o(l),i=!1,R(r)}}}function qe(t){let l,e=t[1],n=[];for(let s=0;s<e.length;s+=1)n[s]=Ge(Fe(t,e,s));return{c(){l=s("div");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var e=i(l);for(let l=0;l<n.length;l+=1)n[l].l(e);e.forEach(o),this.h()},h(){d(l,"id","images"),d(l,"class","flex flex-row lg:flex-col rounded-lg svelte-u94g43")},m(t,e){h(t,l,e);for(let s=0;s<n.length;s+=1)n[s].m(l,null)},p(t,[s]){if(7&s){let a;for(e=t[1],a=0;a<e.length;a+=1){const c=Fe(t,e,a);n[a]?n[a].p(c,s):(n[a]=Ge(c),n[a].c(),n[a].m(l,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=e.length}},i:m,o:m,d(t){t&&o(l),j(n,t)}}}function je(t,l){return t.classList.toggle("active-queue-image",l),{update(l){t.classList.toggle("active-queue-image",l)}}}function He(t,l,e){let s,n,a,c;H(t,Ct,(t=>e(0,a=t))),H(t,_t,(t=>e(6,c=t)));const i=Y();var r=[];const{width:o,height:u}=p("window");H(t,u,(t=>e(5,n=t)));return t.$$.update=()=>{if(32&t.$$.dirty&&e(4,s=n<1050?4:5),81&t.$$.dirty){const t=ft(O(a))(c);let l=1,n=0,i=0;for(;l<c.length&&n+i<s&&(I(null,null==c?void 0:c[t+l])&&++i,n+i!==s);)I(null,null==c?void 0:c[t-l])&&++n,++l;i<=2&&(--n,++i);const o=vt(0,t-n),u=mt(c.length,t+i);e(1,r=Tt(o,u,c))}},[a,r,i,u,s,n,c,t=>i("imagechange",t)]}class Ye extends t{constructor(t){super(),l(this,t,He,qe,e,{})}}function We(t){let l,e,n,a,i,r,u,f,v;return{c(){l=s("img"),this.h()},l(t){l=c(t,"IMG",{id:!0,style:!0,width:!0,height:!0,src:!0,alt:!0,class:!0}),this.h()},h(){var s,c,r;d(l,"id","main-image"),d(l,"style",e=t[4]?"filter: blur(12px)":""),d(l,"width",n=null==(s=t[1])?void 0:s.width),d(l,"height",a=null==(c=t[1])?void 0:c.height),l.src!==(i=null==(r=t[1])?void 0:r.thumbnail_url)&&d(l,"src",i),d(l,"alt","main"),d(l,"class","svelte-19526fs")},m(e,s){h(e,l,s),f||(v=C(r=dl.call(null,l,[t[1],!0])),f=!0)},p(t,s){var c,o,u;16&s&&e!==(e=t[4]?"filter: blur(12px)":"")&&d(l,"style",e),2&s&&n!==(n=null==(c=t[1])?void 0:c.width)&&d(l,"width",n),2&s&&a!==(a=null==(o=t[1])?void 0:o.height)&&d(l,"height",a),2&s&&l.src!==(i=null==(u=t[1])?void 0:u.thumbnail_url)&&d(l,"src",i),r&&V(r.update)&&2&s&&r.update.call(null,[t[1],!0])},i(t){u||w((()=>{u=b(l,J,{}),u.start()}))},o:m,d(t){t&&o(l),f=!1,v()}}}function Xe(t){let l,e,n,a,r,u;return{c(){l=s("video"),e=s("track"),n=s("source"),this.h()},l(t){l=c(t,"VIDEO",{id:!0,width:!0,height:!0,class:!0});var s=i(l);e=c(s,"TRACK",{kind:!0}),n=c(s,"SOURCE",{src:!0,type:!0}),s.forEach(o),this.h()},h(){var s,c;e.default=!0,d(e,"kind","captions"),n.src!==(a=sl(t[1]))&&d(n,"src",a),d(n,"type","video/webm"),d(l,"id","main-image"),d(l,"width",r=null==(s=t[1])?void 0:s.width),d(l,"height",u=null==(c=t[1])?void 0:c.height),l.controls=!0,d(l,"class","svelte-19526fs")},m(s,a){h(s,l,a),f(l,e),f(l,n),t[16](l)},p(t,e){var s,c;2&e&&n.src!==(a=sl(t[1]))&&d(n,"src",a),2&e&&r!==(r=null==(s=t[1])?void 0:s.width)&&d(l,"width",r),2&e&&u!==(u=null==(c=t[1])?void 0:c.height)&&d(l,"height",u)},i:m,o:m,d(e){e&&o(l),t[16](null)}}}function Ke(t){let l,e,n,a;return e=new Ye({}),e.$on("imagechange",t[17]),{c(){l=s("div"),st(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);nt(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","images-queue"),d(l,"class","svelte-19526fs")},m(t,s){h(t,l,s),at(e,l,null),a=!0},p(l,e){t=l},i(t){a||(v(e.$$.fragment,t),w((()=>{n||(n=It(l,ht,{delay:0,duration:ss,y:300},!0)),n.run(1)})),a=!0)},o(t){G(e.$$.fragment,t),n||(n=It(l,ht,{delay:0,duration:ss,y:300},!1)),n.run(0),a=!1},d(t){t&&o(l),ct(e),t&&n&&n.end()}}}function Qe(t){let l,e,n,a,r;return e=new ie({}),{c(){l=s("div"),st(e.$$.fragment),this.h()},l(t){l=c(t,"DIV",{id:!0,class:!0});var s=i(l);nt(e.$$.fragment,s),s.forEach(o),this.h()},h(){d(l,"id","image-info"),d(l,"class","svelte-19526fs")},m(t,s){h(t,l,s),at(e,l,null),r=!0},p(t,l){},i(t){r||(v(e.$$.fragment,t),w((()=>{a&&a.end(1),n||(n=b(l,ht,{delay:ns,duration:as,y:1e3})),n.start()})),r=!0)},o(t){G(e.$$.fragment,t),n&&n.invalidate(),a=D(l,ht,{delay:0,duration:as,y:1e3}),r=!1},d(t){t&&o(l),ct(e),t&&a&&a.end()}}}function Je(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function Ze(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-star-line text-3xl text-yellow-300")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function ts(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-information-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function ls(t){let l;return{c(){l=s("i"),this.h()},l(t){l=c(t,"I",{class:!0}),i(l).forEach(o),this.h()},h(){d(l,"class","ri-close-line text-3xl")},m(t,e){h(t,l,e)},d(t){t&&o(l)}}}function es(t){let l,e,m,p,g,E,x,w,b,y,$,T,I,A,N,O,k,L,S,z,B,U,M,_,C,V,D,j,H,Y,W=t[6]+1+"",X=t[2].length+"";function K(t,l){var e,s,n;return(null==(e=t[1])?void 0:e.video)&&(null==(n=t[7])?void 0:n[null==(s=t[1])?void 0:s.id])?Xe:We}let J=K(t),Z=J(t),tt=t[3]&&!t[4]&&Ke(t),lt=t[4]&&Qe();function et(t,l){return t[5]?Ze:Je}let st=et(t),nt=st(t);function at(t,l){return t[4]?ls:ts}let ct=at(t),it=ct(t);return{c(){l=s("nav"),e=s("button"),m=s("i"),p=a(),g=s("p"),E=n("image"),x=a(),w=s("div"),b=a(),y=s("button"),$=s("i"),T=a(),I=s("button"),A=s("i"),N=a(),O=s("p"),k=n(W),L=n(" / "),S=n(X),z=a(),B=s("main"),Z.c(),U=a(),tt&&tt.c(),M=a(),lt&&lt.c(),_=a(),C=s("button"),nt.c(),V=a(),D=s("button"),it.c(),this.h()},l(t){l=c(t,"NAV",{class:!0});var s=i(l);e=c(s,"BUTTON",{class:!0});var n=i(e);m=c(n,"I",{class:!0}),i(m).forEach(o),p=u(n),g=c(n,"P",{class:!0});var a=i(g);E=r(a,"image"),a.forEach(o),n.forEach(o),x=u(s),w=c(s,"DIV",{class:!0}),i(w).forEach(o),b=u(s),y=c(s,"BUTTON",{id:!0});var d=i(y);$=c(d,"I",{class:!0}),i($).forEach(o),d.forEach(o),T=u(s),I=c(s,"BUTTON",{id:!0});var h=i(I);A=c(h,"I",{class:!0}),i(A).forEach(o),h.forEach(o),N=u(s),O=c(s,"P",{id:!0,class:!0});var f=i(O);k=r(f,W),L=r(f," / "),S=r(f,X),f.forEach(o),s.forEach(o),z=u(t),B=c(t,"MAIN",{class:!0});var v=i(B);Z.l(v),U=u(v),tt&&tt.l(v),M=u(v),lt&&lt.l(v),_=u(v),C=c(v,"BUTTON",{id:!0,class:!0});var P=i(C);nt.l(P),P.forEach(o),V=u(v),D=c(v,"BUTTON",{id:!0,class:!0});var R=i(D);it.l(R),R.forEach(o),v.forEach(o),this.h()},h(){d(m,"class","ri-arrow-left-s-line text-4xl md:text-5xl"),d(g,"class","text-4xl font-light md:text-5xl"),d(e,"class","flex flex-row items-center"),d(w,"class","flex-1"),d($,"class","ri-arrow-left-s-line text-4xl md:text-5xl"),d(y,"id","previous-image-button"),d(A,"class","ri-arrow-right-s-line text-4xl md:text-5xl"),d(I,"id","next-image-button"),d(O,"id","index-indicator"),d(O,"class","ml-4 text-3xl text-center svelte-19526fs"),d(l,"class","px-6 pt-2 h-20 flex flex-row items-center"),d(C,"id","favorite-button"),d(C,"class","absolute bottom-0 left-0 ml-6 mb-6 py-6 px-8 rounded-3xl svelte-19526fs"),d(D,"id","info-button"),d(D,"class","absolute bottom-0 right-0 mr-6 mb-6 py-6 px-8 rounded-3xl svelte-19526fs"),d(B,"class","flex flex-col lg:flex-row px-4 overflow-hidden svelte-19526fs")},m(s,n){h(s,l,n),f(l,e),f(e,m),f(e,p),f(e,g),f(g,E),f(l,x),f(l,w),f(l,b),f(l,y),f(y,$),f(l,T),f(l,I),f(I,A),f(l,N),f(l,O),f(O,k),f(O,L),f(O,S),h(s,z,n),h(s,B,n),Z.m(B,null),f(B,U),tt&&tt.m(B,null),f(B,M),lt&&lt.m(B,null),f(B,_),f(B,C),nt.m(C,null),f(B,V),f(B,D),it.m(D,null),j=!0,H||(Y=[P(window,"keyup",t[13]),P(e,"click",t[9]),P(y,"click",t[12]),P(I,"click",t[11]),P(C,"click",t[18]),P(D,"click",t[19])],H=!0)},p(t,[l]){(!j||64&l)&&W!==(W=t[6]+1+"")&&Q(k,W),(!j||4&l)&&X!==(X=t[2].length+"")&&Q(S,X),J===(J=K(t))&&Z?Z.p(t,l):(Z.d(1),Z=J(t),Z&&(Z.c(),v(Z,1),Z.m(B,U))),t[3]&&!t[4]?tt?(tt.p(t,l),24&l&&v(tt,1)):(tt=Ke(t),tt.c(),v(tt,1),tt.m(B,M)):tt&&(F(),G(tt,1,1,(()=>{tt=null})),q()),t[4]?lt?(lt.p(t,l),16&l&&v(lt,1)):(lt=Qe(),lt.c(),v(lt,1),lt.m(B,_)):lt&&(F(),G(lt,1,1,(()=>{lt=null})),q()),st!==(st=et(t))&&(nt.d(1),nt=st(t),nt&&(nt.c(),nt.m(C,null))),ct!==(ct=at(t))&&(it.d(1),it=ct(t),it&&(it.c(),it.m(D,null)))},i(t){j||(v(Z),v(tt),v(lt),j=!0)},o(t){G(tt),G(lt),j=!1},d(t){t&&o(l),t&&o(z),t&&o(B),Z.d(),tt&&tt.d(),lt&&lt.d(),nt.d(),it.d(),H=!1,R(Y)}}}const ss=200,ns=300,as=200;function cs(t,l,e){let s,n,a,c,i,r,o;H(t,Ct,(t=>e(1,a=t))),H(t,_t,(t=>e(2,r=t))),H(t,ll,(t=>e(7,o=t)));const{images:u}=Mt;H(t,u,(t=>e(15,i=t)));const{navigate:d}=p("navigator");async function h(){e(4,m=!1),e(3,v=!1),setTimeout((()=>{rt(Ct,a=null,a),d("Gallery")}),ss)}p("events");const{isMobile:f}=p("window");H(t,f,(t=>e(14,c=t)));var v=!0,m=!1;function g(){rt(Ct,a=r[mt(n+1,r.length-1)],a)}function E(){rt(Ct,a=r[vt(n-1,0)],a)}var x=null;return t.$$.update=()=>{16384&t.$$.dirty&&c&&h(),32770&t.$$.dirty&&e(5,s=void 0!==z(ot("id",null==a?void 0:a.id),i)),6&t.$$.dirty&&e(6,n=ft(O(a))(r)),3&t.$$.dirty&&(null==a?void 0:a.video)&&(null==x||x.load())},[x,a,r,v,m,s,n,o,u,h,f,g,E,function(t){const l=t.key;"Escape"===l&&h(),"ArrowLeft"!==l&&"j"!==l||E(),"ArrowRight"!==l&&"k"!==l||g()," "===l&&g()},c,i,function(t){Et[t?"unshift":"push"]((()=>{e(0,x=t)}))},t=>{rt(Ct,a=t.detail,a)},()=>Yl(a),()=>{e(4,m=!m)}]}var is={Start:{COMPONENT:class extends t{constructor(t){super(),l(this,t,zt,St,e,{})}}},Gallery:{COMPONENT:class extends t{constructor(t){super(),l(this,t,Re,Ve,e,{},[-1,-1])}}},Image:{COMPONENT:class extends t{constructor(t){super(),l(this,t,cs,es,e,{})}}}};const rs=y(null),os=y([]),us=y({}),ds=y({}),hs=y({});function fs(t,l){if(A(rs)){const l=Object.entries(A(us)),e=Object.entries(A(hs));for(const[t,n]of e)"function"==typeof n.clear&&n.clear();const s={};for(const[n,a]of l)s[n]=new vs(t,a);hs.set(s)}l&&A(os).push("StartView");const e=A(ds);rs.set(e[t])}class vs{constructor(t,l){this.view=t,this.emitter=l,this.listeners=[]}on(t,l){this.listeners.push([t,l]),this.emitter.on(t,l)}clear(){const t=this.listeners;for(const[l,e]of t)this.emitter.removeListener(l,e)}}function ms(t){var l;let e,n,a,r,u;w(t[6]);var f=null==(l=t[2])?void 0:l.COMPONENT;return f&&(n=new f({})),{c(){e=s("main"),n&&st(n.$$.fragment),this.h()},l(t){e=c(t,"MAIN",{class:!0});var l=i(e);n&&nt(n.$$.fragment,l),l.forEach(o),this.h()},h(){d(e,"class","relative flex flex-col svelte-15zbi46")},m(l,s){h(l,e,s),n&&at(n,e,null),a=!0,r||(u=P(window,"resize",t[6]),r=!0)},p(t,[l]){var s;if(f!==(f=null==(s=t[2])?void 0:s.COMPONENT)){if(n){F();const t=n;G(t.$$.fragment,1,0,(()=>{ct(t,1)})),q()}f?(n=new f({}),st(n.$$.fragment),v(n.$$.fragment,1),at(n,e,null)):n=null}},i(t){a||(n&&v(n.$$.fragment,t),a=!0)},o(t){n&&G(n.$$.fragment,t),a=!1},d(t){t&&o(e),n&&ct(n),r=!1,u()}}}function ps(t,l,e){let s,n,a,c;var i,r;H(t,rs,(t=>e(2,c=t))),i=Nt,r=is,us.set(i),ds.set(r);const o=y(0);H(t,o,(t=>e(0,n=t)));const u=y(0);H(t,u,(t=>e(1,a=t)));const d=y(!1);return H(t,d,(t=>e(7,s=t))),At("window",{width:o,height:u,isMobile:d}),At("navigator",{navigate:fs}),At("events",hs),fs("Start"),t.$$.update=()=>{1&t.$$.dirty&&rt(d,s=n<768,s)},[n,a,c,o,u,d,function(){o.set(n=window.innerWidth),u.set(a=window.innerHeight)}]}new class extends t{constructor(t){super(),l(this,t,ps,ms,e,{})}}({target:document.getElementById("app")});
